!function(){"use strict";var t="undefined"==typeof global?self:global;if("function"!=typeof t.require){var e={},i={},n={},o={}.hasOwnProperty,s=/^\.\.?(\/|$)/,r=function(t,e){for(var i,n=[],o=(s.test(e)?t+"/"+e:e).split("/"),r=0,a=o.length;r<a;r++)i=o[r],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},a=function(t){return t.split("/").slice(0,-1).join("/")},l=function(e){return function(i){var n=r(a(e),i);return t.require(n,e)}},d=function(t,e){var n=v&&v.createHot(t),o={id:t,exports:{},hot:n};return i[t]=o,e(o.exports,l(t),o),o.exports},u=function(t){return n[t]?u(n[t]):t},c=function(t,e){return u(r(a(t),e))},p=function(t,n){null==n&&(n="/");var s=u(t);if(o.call(i,s))return i[s].exports;if(o.call(e,s))return d(s,e[s]);throw new Error("Cannot find module '"+t+"' from '"+n+"'")};p.alias=function(t,e){n[e]=t};var h=/\.[^.\/]+$/,f=/\/index(\.[^\/]+)?$/,m=function(t){if(h.test(t)){var e=t.replace(h,"");o.call(n,e)&&n[e].replace(h,"")!==e+"/index"||(n[e]=t)}if(f.test(t)){var i=t.replace(f,"");o.call(n,i)||(n[i]=t)}};p.register=p.define=function(t,n){if(t&&"object"==typeof t)for(var s in t)o.call(t,s)&&p.register(s,t[s]);else e[t]=n,delete i[t],m(t)},p.list=function(){var t=[];for(var i in e)o.call(e,i)&&t.push(i);return t};var v=t._hmr&&new t._hmr(c,p,e,i);p._cache=i,p.hmr=v&&v.wrap,p.brunch=!0,t.require=p}}(),function(){var global="undefined"==typeof window?this:window,__makeRelativeRequire=function(t,e,i){var n={},o=function(e,i){var s;try{return s=t(i+"/node_modules/"+e)}catch(r){if(r.toString().indexOf("Cannot find module")===-1)throw r;if(i.indexOf("node_modules")!==-1){var a=i.split("/"),l=a.lastIndexOf("node_modules"),d=a.slice(0,l).join("/");return o(e,d)}}return n};return function(s){if(s in e&&(s=e[s]),s){if("."!==s[0]&&i){var r=o(s,i);if(r!==n)return r}return t(s)}}};require.register("app.coffee",function(t,e,i){var n,o;o=e("lib/middleware"),n={actions:o.actions,action:o.action,publish:o.publish,subscribe:o.subscribe,initialize:function(t,i){var n,s,r;return this.isPlayer=i,window.iostap.initialize({allowDefault:function(){return!0}}),o.initialize(t),e("lib/i18n").initialize("en"),r=e("lib/router"),this.router=new r,n=o.actions("Analytics"),n.startTracking(),s=o.actions("Lesson"),s.open(),Backbone.history.start(),console.log("HISTORY START")}},i.exports=window.Application=n}),require.register("collections/comments.coffee",function(t,e,i){var n,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.comparator=function(t){return-new Date(t.get("timestamp")).getTime()},e.prototype.initialize=function(){},e.prototype.like=function(t,e){var i,n,o;return i=this.get(e),o=i.get("likes")||0,n=i.get("isLikedByLearner"),n?(n=!1,o-=1):(o+=1,n=!0),i.set({likes:o,isLikedByLearner:n}),n},e.prototype.flag=function(t){var e,i;return e=this.get(t),!(i=e.get("isFlaggedByLearner"))&&(i=!0,e.set({isFlaggedByLearner:i}),!0)},e.prototype["delete"]=function(t){var e;return e=this.get(t),this.remove(e)},e}(Backbone.Collection),i.exports=n}),require.register("constants/feature-flags.coffee",function(t,e,i){var n,o,s,r;n={"thomas-scorm-link-fix":!1},o=null!=(s="undefined"!=typeof window&&null!==window&&null!=(r=window.__)?r.featureFlags:void 0)?s:{},i.exports=Object.assign(n,o)}),require.register("data/locales/ar.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"تفعيل خاصية الصوت لهذا الدرس",cancel:"إلغاء",description:"للاستماع إلى التعليق الصوتي، يُرجى تفعيل خاصية الصوت لهذا الدرس.",title:"هذا الدرس متوفر في شكل تعليق صوتي"},buttons:{"close-lesson":"إغلاق الدرس","continue":"متابعة",done:"حسنًا، أنا انتهيت","open-ed":"فتح Ed",send:"إرسال"},"dial-distribution":{"touch-to-rotate":"المس&nbsp;للتدوير&nbsp;"},dial:{"touch-to-rotate":"المس&nbsp;للتدوير&nbsp;"},dialogs:{disconnection:{"needs-background":"لإكمال هذا الدرس، يحتاج نظام Ed للعمل في&nbsp;الخلفية.","please-open-ed":"للمتابعة، الرجاء فتح Ed وإعادة تشغيل الدرس لكي يمكن متابعة تقدمك بصورة&nbsp;صحيحة."}},"game-jeopardy":{"is-false":"خطأ","is-true":"صواب"},"game-jumble":{"drag-letters":"اسحب الأحرف إلى الكلمة أعلاه"},game:{"bonus-time":"+%{bonus_time} ثانية",go:"انطلاق",labels:{score:"الدرجة",timer:"المؤقّت"},"move-on":"الانتقال",of:"من","play-again":"اللعب مرة أخرى","play-game":"حسنًا، أنا مستعد!","your-best":"أفضل درجة","your-score":"درجاتك","your-stars":"نجومك"},image:{"tap-to-continue":"انقر للمتابعة"},"lesson-info":{"lesson-label":"الدرس"},menu:{"brainboost-page-count":"أنت في السؤال **%{index}** من **%{total}**",cancel:"إلغاء",exit:"الخروج من الدرس","exit-quiz":"الخروج من الاختبار","go-back":"مراجعة الشريحة الأخيرة","page-count":"أنت على الشريحة **%{index}** من **%{total}**",restart:"إعادة بدء الدرس",resume:"استكمال"},"peer-authoring":{"image-title":"عنوان الصورة",submit:"إرسال","title-placeholder":"أدخل العنوان هنا","upload-complete":"اكتمل التحميل",uploading:"جارٍ التحميل…","video-title":"عنوان الفيديو"},"pie-chart":{"touch-to-begin":"المس للبدء"},"slide-answer":{"times-up":"انتهى الوقت!","too-slow":"بطئ جدًا!"},slider:{"touch-to-slide":"المس للتمرير"},social:{"be-first":"كن أول من يبدي رأيه.","delete":"حذف","have-your-say":"قم بإبداء رأيك",report:"إبلاغ",reported:"تم الإبلاغ","thats-all":"هذا كل ما لدينا الآن."},stars:{"all-earned":"تم ربح 1 نجمة |||| تم ربح %{smart_count} نجوم",available:"1 نجمة متاحة |||| %{smart_count} نجوم متاحة",earned:"لقد ربحت %{earned} من %{smart_count} نجمة |||| لقد ربحت %{earned} من %{smart_count} نجوم"},"text-sequence":{of:"من"},video:{"not-available":"معذرةً، هذا الفيديو <br> غير متاح حاليًا.","skip-video":"تخطي الفيديو"}}}),require.register("data/locales/bn.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"এই লেসনের জন্য অডিওর অনুমতি দিন",cancel:"বাতিল করুন",description:"বর্ণনা শুনতে, এই লেসনের জন্য অডিওর অনুমতি দিন।",title:"এই লেসনটি বর্ণিত হয়েছে"},buttons:{"close-lesson":"লেসন বন্ধ করুন","continue":"চালিয়ে যান",done:"চালিয়ে যান","open-ed":"Ed খুলুন",send:"পাঠান"},"dial-distribution":{"touch-to-rotate":"ঘোরাতে&nbsp;স্পর্শ&nbsp;করুন"},dial:{"touch-to-rotate":"ঘোরাতে&nbsp;স্পর্শ&nbsp;করুন"},dialogs:{disconnection:{"needs-background":"এই লেসনটি সম্পূর্ণ করার জন্য, Ed-কে&nbsp;ব্যাকগ্রাউন্ডে চলতে থাকতে হবে৷","please-open-ed":"চালিয়ে যেতে, অনুগ্রহ করে Ed খুলুন এবং লেসনটি পুনরায় শুরু করুন যাতে আপনার অগ্রগতি সঠিকভাবে&nbsp;ট্র্যাক করা যায়৷"}},"game-jeopardy":{"is-false":"মিথ্যা","is-true":"সত্যি"},"game-jumble":{"drag-letters":"উপরের শব্দে অক্ষর টেনে আনুন"},game:{"bonus-time":"+%{bonus_time} সেকেন্ড",go:"এগিয়ে যান",labels:{score:"স্কোর",timer:"টাইমার"},"move-on":"এগিয়ে চলুন",of:"এর","play-again":"আবার প্লে করুন","play-game":"ঠিক আছে, আমি তৈরী!","your-best":"আপনার সেরা স্কোর","your-score":"আপনার স্কোর","your-stars":"আপনার তারা"},image:{"tap-to-continue":"চালিয়ে যেতে ট্যাপ করুন"},"lesson-info":{"lesson-label":"লেসন"},menu:{"brainboost-page-count":"আপনি **%{total}** এর মধ্যে **%{index}** নম্বর প্রশ্নে আছেন",cancel:"বাতিল করুন",exit:"লেসন এক্সিট করুন","exit-quiz":"কুইজ এক্সিট করুন","go-back":"শেষ স্লাইডটি পর্যালোচনা করুন","page-count":"আপনি **%{total}** এর মধ্যে **%{index}** নম্বর স্লাইডে আছেন",restart:"লেসনটি আবার শুরু করুন",resume:"আগের জায়গা থেকে শুরু করুন"},"peer-authoring":{"image-title":"ছবির শিরোনাম",submit:"জমা দিন","title-placeholder":"এখানে শিরোনাম লিখুন","upload-complete":"আপলোড সম্পন্ন হয়েছে",uploading:"আপলোড হচ্ছে...","video-title":"ভিডিওর শিরোনাম"},"pie-chart":{"touch-to-begin":"শুরু করতে স্পর্শ করুন"},"slide-answer":{"times-up":"সময় শেষ!","too-slow":"অত্যন্ত ধীর!"},slider:{"touch-to-slide":"স্লাইড করার জন্য স্পর্শ করুন"},social:{"be-first":"আপনার বক্তব্য রাখায় প্রথম হয়ে উঠুন।","delete":"ডিলিট করুন","have-your-say":"আপনার বক্তব্য রাখুন",report:"রিপোর্ট করুন",reported:"রিপোর্ট করা হয়েছে","thats-all":"এখনের জন্য এই পর্যন্তুই।"},stars:{"all-earned":"1টি তারা উপার্জন করা হয়েছে |||| %{smart_count} তারা উপার্জন করা হয়েছে",available:"1টি তারা উপলব্ধ আছে |||| %{smart_count} তারা উপলব্ধ আছে",earned:"আপনি %{smart_count} এর মধ্যে %{earned} তারা উপার্জন করেছেন |||| আপনি %{smart_count} এর মধ্যে %{earned} তারা উপার্জন করেছেন"},"text-sequence":{of:"এর"},video:{"not-available":"দুঃখিত, এই মুহূর্তে এই ভিডিওটি </br> উপলব্ধ নেই।","skip-video":"ভিডিওটি এড়িয়ে যান"}}}),require.register("data/locales/da.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Tillad lyd i denne lektion",cancel:"Annuller",description:"For at lytte til fortællingen skal du tillade lyd i denne lektion.",title:"Denne lektion er indtalt"},buttons:{"close-lesson":"Luk lektion","continue":"Fortsæt",done:"OK, jeg er færdig","open-ed":"Åbn Ed",send:"Send"},"dial-distribution":{"touch-to-rotate":"Tryk&nbsp;for at&nbsp;rotere"},dial:{"touch-to-rotate":"Tryk&nbsp;for at&nbsp;rotere"},dialogs:{disconnection:{"needs-background":"For at gennemføre denne lektion skal Ed køre i &nbsp;baggrunden.","please-open-ed":"For at fortsætte skal du åbne Ed og genstarte lektionen, så din fremdrift kan registreres&nbsp;korrekt."}},"game-jeopardy":{"is-false":"Falsk","is-true":"Sandt"},"game-jumble":{"drag-letters":"Træk bogstaverne til ordet ovenfor"},game:{"bonus-time":"+%{bonus_time} sekunder",go:"KØR",labels:{score:"Score",timer:"Timer"},"move-on":"Kom videre",of:"af","play-again":"Afspil igen","play-game":"OK, jeg er klar!","your-best":"Dit bedste","your-score":"Din score","your-stars":"Dine stjerner"},image:{"tap-to-continue":"Tryk for at fortsætte"},"lesson-info":{"lesson-label":"Lektion"},menu:{"brainboost-page-count":"Du er nået til  spørgsmål  **%{index}** af **%{total}**",cancel:"Annuller",exit:"Forlad lektion","exit-quiz":"Forlad quiz","go-back":"Gennemgå sidste slide","page-count":"Du er på slide **%{index}** af **%{total}**",restart:"Genstart lektion",resume:"Fortsæt "},"peer-authoring":{"image-title":"Billedtitel",submit:"Indsend","title-placeholder":"Indtast titel her","upload-complete":"Upload gennemført",uploading:"Uploader…","video-title":"Videotitel"},"pie-chart":{"touch-to-begin":"Tryk for begynde"},"slide-answer":{"times-up":"Tiden er udløbet!","too-slow":"For langsom!"},slider:{"touch-to-slide":"Tryk for at slide"},social:{"be-first":"Vær den første til at sige din mening.","delete":"Slet","have-your-say":"Sig din mening",report:"Rapportere",reported:"Rapporteret","thats-all":"Det er alt for nu"},stars:{"all-earned":"1 stjerne optjent |||| %{smart_count} stjerner optjent",available:"1 stjerne tilgængelig |||| %{smart_count} stjerner tilgængelige",earned:"Du har optjent %{earned} ud af %{smart_count} stjerne |||| Du har optjent %{earned} ud af %{smart_count} stjerner"},"text-sequence":{of:"af"},video:{"not-available":"Beklager, denne video er </br> utilgængelig i øjeblikket.","skip-video":"Spring video over"}}}),require.register("data/locales/de.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Audio für diese Lektion zulassen",cancel:"Abbrechen",description:"Um diese Lektion anzuhören, aktivieren Sie bitte die Audiofunktion.",title:"Diese Lektion ist sprachbasiert"},buttons:{"close-lesson":"Lektion schließen","continue":"Weiter",done:"OK, ich bin fertig","open-ed":"Ed öffnen",send:"Senden"},"dial-distribution":{"touch-to-rotate":"Hier tippen,&nbsp;um&nbsp;zu drehen"},dial:{"touch-to-rotate":"Hier tippen,&nbsp;um&nbsp;zu drehen"},dialogs:{disconnection:{"needs-background":"Um diese Lektion abzuschließen, muss Ed im&nbsp;Hintergrund laufen.","please-open-ed":"Um fortzufahren, öffnen Sie bitte Ed und starten Sie die Lektion neu, damit Ihr Fortschritt richtig protokolliert werden&nbsp;kann."}},"game-jeopardy":{"is-false":"Falsch","is-true":"Richtig"},"game-jumble":{"drag-letters":"Ziehen Sie die Buchstaben auf das Wort oben"},game:{"bonus-time":"+%{bonus_time} Sekunden",go:"LOS",labels:{score:"Ergebnis",timer:"Timer"},"move-on":"Weitermachen",of:"von","play-again":"Noch einmal spielen","play-game":"OK, ich bin soweit!","your-best":"Ihr Rekord","your-score":"Ihr Ergebnis","your-stars":"Ihre Sterne"},image:{"tap-to-continue":"Hier tippen, um fortzufahren"},"lesson-info":{"lesson-label":"Lektion"},menu:{"brainboost-page-count":"Sie sind bei Frage **%{index}** von **%{total}**",cancel:"Abbrechen",exit:"Lektion beenden","exit-quiz":"Quiz beenden","go-back":"Letzte Folie prüfen","page-count":"Sie sind auf Folie **%{index}** von **%{total}**",restart:"Lektion neu starten",resume:"Fortsetzen"},"peer-authoring":{"image-title":"Bildtitel",submit:"Einsenden","title-placeholder":"Geben Sie hier den Titel ein","upload-complete":"Upload abgeschlossen",uploading:"Wird hochgeladen …","video-title":"Videotitel"},"pie-chart":{"touch-to-begin":"Hier tippen, um zu beginnen"},"slide-answer":{"times-up":"Die Zeit ist abgelaufen!","too-slow":"Zu langsam!"},slider:{"touch-to-slide":"Hier tippen, um zu schieben"},social:{"be-first":"Geben Sie als erstes Ihre Meinung ab.","delete":"Löschen","have-your-say":"Geben Sie Ihre Meinung ab",report:"Melden",reported:"Gemeldet","thats-all":"So viel für heute."},stars:{"all-earned":"1 Stern verdient |||| %{smart_count} Sterne verdient",available:"1 Stern verfügbar |||| %{smart_count} Sterne verfügbar",earned:"Sie haben %{earned} von %{smart_count} Stern verdient |||| Sie haben %{earned} von %{smart_count} Sternen verdient"},"text-sequence":{of:"von"},video:{"not-available":"Dieses Video ist </br> momentan leider nicht verfügbar.","skip-video":"Video überspringen"}}}),require.register("data/locales/en.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Allow audio for this lesson",cancel:"Cancel",description:"To listen to the narration, please allow audio for this lesson.",title:"This lesson is narrated"},buttons:{"close-lesson":"Close Lesson","continue":"Continue",done:"Continue","open-ed":"Open Ed",send:"Send"},"dial-distribution":{"touch-to-rotate":"Touch&nbsp;to&nbsp;rotate"},dial:{"touch-to-rotate":"Touch&nbsp;to&nbsp;rotate"},dialogs:{disconnection:{"needs-background":"To complete this lesson, Ed needs to be running in the&nbsp;background.","please-open-ed":"To continue, please open Ed and restart the lesson so that your progress can be tracked&nbsp;correctly."}},"game-jeopardy":{"is-false":"False","is-true":"True"},"game-jumble":{"drag-letters":"Drag the letters to the word above"},game:{"bonus-time":"+%{bonus_time} seconds",go:"GO",labels:{score:"Score",timer:"Timer"},"move-on":"Move On",of:"of","play-again":"Play Again","play-game":"OK, I'm ready!","your-best":"Your best score","your-score":"Your score","your-stars":"Your stars"},image:{"tap-to-continue":"Tap to continue"},"lesson-info":{"lesson-label":"Lesson"},menu:{"brainboost-page-count":"You’re on question **%{index}** of **%{total}**",cancel:"Cancel",exit:"Exit lesson","exit-quiz":"Exit quiz","go-back":"Review last slide","page-count":"You’re on slide **%{index}** of **%{total}**",restart:"Restart lesson",resume:"Resume"},"peer-authoring":{"image-title":"Image Title",submit:"Submit","title-placeholder":"Enter title here","upload-complete":"Upload Complete",uploading:"Uploading...","video-title":"Video Title"},"pie-chart":{"touch-to-begin":"Touch to begin"},"slide-answer":{"times-up":"Time's Up!","too-slow":"Too Slow!"},slider:{"touch-to-slide":"Touch to slide"},social:{"be-first":"Be the first to have your say.","delete":"Delete","have-your-say":"Have your say",report:"Report",reported:"Reported","thats-all":"That's all for now."},stars:{"all-earned":"1 star earned |||| %{smart_count} stars earned",available:"1 star available |||| %{smart_count} stars available",earned:"You earned %{earned} out of %{smart_count} star |||| You earned %{earned} out of %{smart_count} stars"},"text-sequence":{of:"of"},video:{"not-available":"Sorry, this video is </br> unavailable at the moment.","skip-video":"Skip Video"}}}),require.register("data/locales/es-ES.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Permitir audio en esta lección",cancel:"Cancelar",description:"Para escuchar la narración, permite el audio en esta lección.",title:"Esta lección incluye narración"},buttons:{"close-lesson":"Cerrar lección","continue":"Continuar",done:"He terminado","open-ed":"Abrir Ed",send:"Enviar"},"dial-distribution":{"touch-to-rotate":"Tocar&nbsp;para&nbsp;girar"},dial:{"touch-to-rotate":"Tocar&nbsp;para&nbsp;girar"},dialogs:{disconnection:{"needs-background":"Para completar esta lección, Ed se tiene que ejecutar en&nbsp;segundo plano.","please-open-ed":"Para continuar, abre Ed y reinicia la lección para que se pueda realizar correctamente un seguimiento de tu&nbsp;progreso."}},"game-jeopardy":{"is-false":"Falso","is-true":"Verdadero"},"game-jumble":{"drag-letters":"Arrastra las letras a la palabra anterior"},game:{"bonus-time":"+%{bonus_time} segundos",go:"IR",labels:{score:"Puntuación",timer:"Temporizador"},"move-on":"Seguir",of:"de","play-again":"Volver a jugar","play-game":"¡Estoy listo/a!","your-best":"Tu mejor puntuación","your-score":"Tu puntuación","your-stars":"Tus estrellas"},image:{"tap-to-continue":"Pulsar para continuar"},"lesson-info":{"lesson-label":"Lección"},menu:{"brainboost-page-count":"Estás en la pregunta **%{index}** de **%{total}**",cancel:"Cancelar",exit:"Salir de la lección","exit-quiz":"Dejar cuestionario","go-back":"Revisar última diapositiva","page-count":"Estás en la diapositiva **%{index}** de **%{total}**",restart:"Reiniciar lección",resume:"Reanudar"},"peer-authoring":{"image-title":"Título de la imagen",submit:"Enviar","title-placeholder":"Introduce el título aquí","upload-complete":"Carga completada",uploading:"Cargando…","video-title":"Título del vídeo"},"pie-chart":{"touch-to-begin":"Tocar para empezar"},"slide-answer":{"times-up":"¡Se acabó el tiempo!","too-slow":"¡Demasiado lento!"},slider:{"touch-to-slide":"Tocar para deslizar"},social:{"be-first":"Sé el primero en expresar tu opinión.","delete":"Eliminar","have-your-say":"Expresa tu opinión",report:"Notificar",reported:"Notificado","thats-all":"Esto es todo por ahora."},stars:{"all-earned":"1 estrella ganada |||| %{smart_count} estrellas ganadas",available:"1 estrella disponible |||| %{smart_count} estrellas disponibles",earned:"Has ganado %{earned} de %{smart_count} estrella |||| Has ganado %{earned} de %{smart_count} estrellas"},"text-sequence":{of:"de"},video:{"not-available":"Lo sentimos, este vídeo no está </br> disponible en este momento.","skip-video":"Saltar vídeo"}}}),require.register("data/locales/es.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Activar el audio para esta lección",cancel:"Cancelar",description:"Para escuchar la narración, por favor active el audio en esta lección.",title:"Esta lección está narrada"},buttons:{"close-lesson":"Cerrar lección","continue":"Continuar",done:"He terminado","open-ed":"Abrir Ed",send:"Enviar"},"dial-distribution":{"touch-to-rotate":"Tocar&nbsp;para&nbsp;girar"},dial:{"touch-to-rotate":"Tocar&nbsp;para&nbsp;girar"},dialogs:{disconnection:{"needs-background":"Para completar esta lección, Ed se tiene que ejecutar en&nbsp;segundo plano.","please-open-ed":"Para continuar, abre Ed y reinicia la lección para que se pueda realizar correctamente un seguimiento de tu&nbsp;progreso."}},"game-jeopardy":{"is-false":"Falso","is-true":"Verdadero"},"game-jumble":{"drag-letters":"Arrastra las letras a la palabra anterior"},game:{"bonus-time":"+%{bonus_time} segundos",go:"IR",labels:{score:"Puntuación",timer:"Temporizador"},"move-on":"Seguir",of:"de","play-again":"Volver a jugar","play-game":"¡Estoy listo!","your-best":"Tu mejor puntuación","your-score":"Tu puntuación","your-stars":"Tus estrellas"},image:{"tap-to-continue":"Pulsar para continuar"},"lesson-info":{"lesson-label":"Lección"},menu:{"brainboost-page-count":"Estás en la pregunta **%{index}** de **%{total}**",cancel:"Cancelar",exit:"Salir de la lección","exit-quiz":"Dejar cuestionario","go-back":"Revisar última diapositiva","page-count":"Estás en la diapositiva **%{index}** de **%{total}**",restart:"Reiniciar lección",resume:"Reanudar"},"peer-authoring":{"image-title":"Título de la imagen",submit:"Enviar","title-placeholder":"Escriba el título aquí","upload-complete":"Carga completa",uploading:"Cargando...","video-title":"Título del video"},"pie-chart":{"touch-to-begin":"Tocar para empezar"},"slide-answer":{"times-up":"¡Se acabó el tiempo!","too-slow":"¡Demasiado lento!"},slider:{"touch-to-slide":"Tocar para deslizar"},social:{"be-first":"Sea el primero en opinar.","delete":"Eliminar","have-your-say":"Expresar su opinión",report:"Reportar",reported:"Reportado","thats-all":"Eso es todo por ahora."},stars:{"all-earned":"1 estrella ganada |||| %{smart_count} estrellas ganadas",available:"1 estrella disponible |||| %{smart_count} estrellas disponibles",earned:"Has ganado %{earned} de %{smart_count} estrella |||| Has ganado %{earned} de %{smart_count} estrellas"},"text-sequence":{of:"de"},video:{"not-available":"Lo sentimos, este vídeo no está </br> disponible en este momento.","skip-video":"Saltar vídeo"}}}),require.register("data/locales/fi.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Salli äänet tälle tehtävälle",cancel:"Peruuta",description:"Jos haluat kuunnella selostusta, salli äänet tälle tehtävälle.",title:"Tässä tehtävässä on selostusääni"},buttons:{"close-lesson":"Sulje tehtävä","continue":"Jatka",done:"Jatka","open-ed":"Avaa Ed",send:"Lähetä"},"dial-distribution":{"touch-to-rotate":"Kierrä&nbsp;&nbsp;koskettamalla"},dial:{"touch-to-rotate":"Kierrä&nbsp;&nbsp;koskettamalla"},dialogs:{disconnection:{"needs-background":"Edin on oltava käynnissä taustalla, jotta tämä tehtävä voitaisiin&nbsp;suorittaa.","please-open-ed":"Jos haluat jatkaa, avaa Ed ja aloita tehtävä uudelleen, jotta edistymistäsi voidaan seurata&nbsp;oikein."}},"game-jeopardy":{"is-false":"Väärin","is-true":"Totta"},"game-jumble":{"drag-letters":"Vedä kirjaimet yllä olevaan sanaan"},game:{"bonus-time":"+ %{bonus_time} sekuntia",go:"ALOITA",labels:{score:"Tulos",timer:"Kello"},"move-on":"Jatka eteenpäin",of:"/","play-again":"Toista uudestaan","play-game":"Selvä, olen valmis!","your-best":"Paras tuloksesi","your-score":"Oma tuloksesi","your-stars":"Omat tähtesi"},image:{"tap-to-continue":"Jatka napauttamalla"},"lesson-info":{"lesson-label":"Tehtävä"},menu:{"brainboost-page-count":"Olet kysymyksessä **%{index}**/**%{total}**",cancel:"Peruuta",exit:"Poistu tehtävästä","exit-quiz":"Poistu kyselystä","go-back":"Näytä viimeinen dia","page-count":"Olet diassa **%{index}**/**%{total}**",restart:"Aloita tehtävä uudelleen",resume:"Jatka"},"peer-authoring":{"image-title":"Kuvan nimi",submit:"Lähetä","title-placeholder":"Syötä nimi tähän","upload-complete":"Lataus valmis",uploading:"Ladataan...","video-title":"Videon nimi"},"pie-chart":{"touch-to-begin":"Aloita koskettamalla"},"slide-answer":{"times-up":"Aika loppui!","too-slow":"Liian hidas!"},slider:{"touch-to-slide":"Vaihda diaa koskettamalla"},social:{"be-first":"Sano sanottavasi ensimmäisenä.","delete":"Poista","have-your-say":"Sano sanottavasi",report:"Ilmoita",reported:"Ilmoitettu","thats-all":"Siinä oli toistaiseksi kaikki."},stars:{"all-earned":"1 tähti ansaittu |||| %{smart_count} tähteä ansaittu",available:"1 tähti saatavilla |||| %{smart_count} tähteä saatavilla",earned:"Olet ansainnut %{earned}/%{smart_count} tähden |||| Olet ansainnut %{earned}/%{smart_count} tähteä"},"text-sequence":{of:"/"},video:{"not-available":"Ikävä kyllä tämä video ei ole </br> juuri nyt saatavilla.","skip-video":"Ohita video"}}}),require.register("data/locales/fr.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Autoriser l’audio pour cette leçon",cancel:"Annuler",description:"Pour écouter le commentaire, veuillez autoriser l’audio pour cette leçon.",title:"Cette leçon est commentée"},buttons:{"close-lesson":"Fermer la leçon","continue":"Continuer",done:"Ok, j’ai fini","open-ed":"Ouvrir Ed",send:"Envoyer"},"dial-distribution":{"touch-to-rotate":"Appuyer pour tourner"},dial:{"touch-to-rotate":"Appuyer pour tourner"},dialogs:{disconnection:{"needs-background":"Pour faire cette leçon, Ed a besoin de fonctionner en arrière-plan","please-open-ed":"Pour continuer, veuillez ouvrir Ed et recommencer la leçon afin de calculer votre progrès. "}},"game-jeopardy":{"is-false":"Faux","is-true":"Vrai"},"game-jumble":{"drag-letters":"Fair glisser les lettres au mot au-dessus"},game:{"bonus-time":"+%{bonus_time} secondes",go:"ALLEZ",labels:{score:"Score",timer:"Minuteur"},"move-on":"Poursuivre",of:"de","play-again":"Recommencer","play-game":"OK, je suis prêt(e) !","your-best":"Votre meilleur score","your-score":"Votre score","your-stars":"Vos étoiles"},image:{"tap-to-continue":"Appuyer pour continuer"},"lesson-info":{"lesson-label":"Leçon"},menu:{"brainboost-page-count":"Vous en êtes à la question **%{index}** sur **%{total}**",cancel:"Annuler",exit:"Quitter","exit-quiz":"Quitter le quiz","go-back":"Retourner au dernier écran","page-count":"Vous regardez diapo. **%{index}** de **%{total}**",restart:"Recommencer",resume:"Continuer"},"peer-authoring":{"image-title":"Titre de l’image",submit:"Envoyer","title-placeholder":"Saisir le titre ici","upload-complete":"Téléchargement terminé",uploading:"Téléchargement en cours...","video-title":"Titre de la vidéo"},"pie-chart":{"touch-to-begin":"Appuyer pour commencer"},"slide-answer":{"times-up":"Le temps est écoulé !","too-slow":"Trop lent!"},slider:{"touch-to-slide":"Toucher pour glisser"},social:{"be-first":"Soyez le premier/la première à donner votre avis.","delete":"Supprimer","have-your-say":"Donnez votre avis",report:"Signaler",reported:"Communiqué","thats-all":"C’est tout pour l’instant."},stars:{"all-earned":"1 étoile gagnée |||| %{smart_count} étoiles gagnées",available:"1 étoile à gagner |||| %{smart_count} étoiles à gagner",earned:"Vous avez gagné %{earned} de %{smart_count} étoile |||| Vous avez gagné %{earned} de %{smart_count} étoiles"},"text-sequence":{of:"de"},video:{"not-available":"Malheureusement, cette video n’est </br> pas disponible pour le moment. ","skip-video":"Passer la vidéo"}}}),require.register("data/locales/hi.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"इस पाठ के लिए ऑडियो की अनुमति दें",cancel:"रद्द ",description:"वर्णन को सुनने के लिए, कृपया इस पाठ के लिए ऑडियो की अनुमति दें।",title:"यह पाठ सुनाया गया है"},buttons:{"close-lesson":"बंद करना","continue":"जारी",done:"ठीक है, मेरा हो गया","open-ed":"Ed खोलें",send:"भेजना"},"dial-distribution":{"touch-to-rotate":"घुमाने के लिए स्पर्श करें"},dial:{"touch-to-rotate":"घुमाने के लिए स्पर्श करें"},dialogs:{disconnection:{"needs-background":"इस पाठ को पूरा करने के लिए, Ed को पृष्ठभूमि में चलने की आवश्यकता है।","please-open-ed":"जारी रखने के लिए, कृपया Ed खोलें और पाठ को फिर से शुरू करें ताकि आपकी प्रगति को ट्रैक किया जा सके & nbsp;"}},"game-jeopardy":{"is-false":"ग़लत","is-true":"सच"},"game-jumble":{"drag-letters":"अक्षरों को ऊपर दिए गए शब्द पर खींचें"},game:{"bonus-time":'"+%{bonus_time} सेकंड',go:"चलना",labels:{score:"अंक",timer:"घड़ी"},"move-on":"आगे जाना",of:"के","play-again":"पाठ दोबारा करें","play-game":"ठीक है, मैं तैयार हूं","your-best":"तुम्हारा सर्वोत्तम","your-score":"आपके अंक","your-stars":"आपके तेरे"},image:{"tap-to-continue":"जारी रखने के लिए दबाएं"},"lesson-info":{"lesson-label":"पाठ"},menu:{cancel:"रद्द ",exit:"सबक से बाहर निकलें","go-back":"अंतिम स्लाइड की समीक्षा करें","page-count":"आप स्लाइड पर हैं **%{index} ** का **%{total} **",restart:"पाठ को पुनः आरंभ करें"},"peer-authoring":{"image-title":"छवि शीर्षक",submit:"सबमिट करें","title-placeholder":"शीर्षक यहां दर्ज करें","upload-complete":"अपलोड पूर्ण",uploading:"अपलोड हो रहा...","video-title":"वीडियो शीर्षक"},"pie-chart":{"touch-to-begin":"शुरू करने के लिए स्पर्श करें"},"slide-answer":{"too-slow":"बहुत धीमा!"},slider:{"touch-to-slide":"स्लाइड करने के लिए स्पर्श करें"},social:{"be-first":"अपनी राय रखने वाले पहले व्यक्ति बनिए।","delete":"हटाना","have-your-say":"अपनी बात रखो",report:"शिकायत करना",reported:"की सूचना दी","thats-all":"अभी के लिए इतना ही।"},stars:{"all-earned":"1 सितारा कमाया ||| %{smart_count} सितारों ने कमाया",available:"1 सितारा उपलब्ध ||| %{smart_count} सितारे उपलब्ध हैं",earned:"आपने %{earned} को %{smart_count} स्टार से अर्जित किया है ||| आपने %{earned} को %{smart_count} सितारों से अर्जित किया"},"text-sequence":{of:"के"},video:{"not-available":"क्षमा करें, यह वीडियो इस समय </br> अनुपलब्ध है।","skip-video":"वीडियो छोड़ें"}}}),require.register("data/locales/id.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Izinkan audio untuk pelajaran ini",cancel:"Batal",description:"Untuk mendengarkan narasinya, izinkanlah audio untuk pelajaran ini.",title:"Pelajaran ini dinarasikan"},buttons:{"close-lesson":"Tutup Pelajaran","continue":"Lanjutkan",done:"Ok, saya sudah selesai","open-ed":"Buka Ed",send:"Kirim"},"dial-distribution":{"touch-to-rotate":"Sentuh&nbsp;untuk&nbsp;memutar"},dial:{"touch-to-rotate":"Sentuh&nbsp;untuk&nbsp;memutar"},dialogs:{disconnection:{"needs-background":"Untuk menyelesaikan pelajaran ini, Ed harus dijalankan di latar belakang&nbsp;.","please-open-ed":"Untuk melanjutkan, buka Ed dan mulai ulang pelajaran agar kemajuan Anda dapat dilacak&nbsp;dengan benar."}},"game-jeopardy":{"is-false":"Salah","is-true":"Benar"},"game-jumble":{"drag-letters":"Geser huruf ke kata di atas"},game:{"bonus-time":"+%{bonus_time} detik",go:"YAK!",labels:{score:"Skor",timer:"Pengatur Waktu"},"move-on":"Maju Terus",of:"dari","play-again":"Mainkan Lagi","play-game":"Baik, saya siap!","your-best":"Rekor terbaik Anda","your-score":"Skor Anda","your-stars":"Bintang Anda"},image:{"tap-to-continue":"Ketuk untuk melanjutkan"},"lesson-info":{"lesson-label":"Pelajaran"},menu:{"brainboost-page-count":"Anda berada di pertanyaan **%{index}** dari **%{total}**",cancel:"Batal",exit:"Keluar dari pelajaran","exit-quiz":"Keluar kuis","go-back":"Tinjau slide terakhir","page-count":"Anda berada pada slide **%{index}** dari **%{total}**",restart:"Mulai kembali pelajaran",resume:"Lanjut"},"peer-authoring":{"image-title":"Judul Gambar",submit:"Serahkan","title-placeholder":"Masukkan judul di sini","upload-complete":"Unduh Selesai",uploading:"Sedang mengunduh...","video-title":"Judul Video"},"pie-chart":{"touch-to-begin":"Sentuh untuk memulai"},"slide-answer":{"times-up":"Waktu Habis!","too-slow":"Terlalu Lambat!"},slider:{"touch-to-slide":"Sentuh untuk menggeser"},social:{"be-first":"Jadilah orang pertama yang berkesempatan mengungkapkan pendapat Anda.","delete":"Hapus","have-your-say":"Katakan saja",report:"Laporan",reported:"Dilaporkan","thats-all":"Itu saja untuk saat ini."},stars:{"all-earned":"1 bintang diperoleh |||| %{smart_count} perolehan bintang",available:"1 bintang tersedia |||| %{smart_count} bintang tersedia",earned:"Anda memperoleh %{earned} dari %{smart_count} bintang |||| Anda memperoleh %{earned} dari %{smart_count} bintang"},"text-sequence":{of:"dari"},video:{"not-available":"Maaf, video ini </br> tidak tersedia saat ini.","skip-video":"Lewati Video"}}}),require.register("data/locales/it.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Consenti audio per questa lezione",cancel:"Annulla",description:"Per ascoltare i commenti, consenti l’audio per questa lezione.",title:"Questa lezione ha commenti audio"},buttons:{"close-lesson":"Chiudi lezione","continue":"Continua",done:"OK, ho finito","open-ed":"Apri Ed",send:"Invia"},"dial-distribution":{"touch-to-rotate":"Tocca&nbsp;per&nbsp;ruotare"},dial:{"touch-to-rotate":"Tocca&nbsp;per&nbsp;ruotare"},dialogs:{disconnection:{"needs-background":"Per completare questa lezione, Ed dev’essere eseguito in&nbsp;background.","please-open-ed":"Per continuare, apri Ed e riavvia la lezione così il tuo progresso potrà essere tracciato&nbsp;correttamente."}},"game-jeopardy":{"is-false":"Falso","is-true":"Vero"},"game-jumble":{"drag-letters":"Trascina le lettere nella parola in alto"},game:{"bonus-time":"+%{bonus_time} secondi",go:"VIA",labels:{score:"Punteggio",timer:"Timer"},"move-on":"Vai avanti",of:"di","play-again":"Gioca di nuovo","play-game":"OK, sono pronto!","your-best":"Il tuo record","your-score":"Il tuo punteggio",
"your-stars":"Le tue stelle"},image:{"tap-to-continue":"Tocca per continuare"},"lesson-info":{"lesson-label":"Lezione"},menu:{"brainboost-page-count":"Sei alla domanda **%{index}** di **%{total}**",cancel:"Annulla",exit:"Esci dalla lezione","exit-quiz":"Esci dal quiz","go-back":"Rivedi l’ultima diapositiva","page-count":"Ti trovi alla diapositiva **%{index}** di **%{total}**",restart:"Ricomincia la lezione",resume:"Riprendi"},"peer-authoring":{"image-title":"Titolo immagine",submit:"Invia","title-placeholder":"Inserisci il titolo","upload-complete":"Caricamento completato",uploading:"Caricamento...","video-title":"Titolo video"},"pie-chart":{"touch-to-begin":"Tocca per iniziare"},"slide-answer":{"times-up":"Tempo scaduto!","too-slow":"Troppo lento!"},slider:{"touch-to-slide":"Tocca per scorrere"},social:{"be-first":"Sii il primo a dire la tua.","delete":"Elimina","have-your-say":"Di' la tua",report:"Segnala",reported:"Segnalato","thats-all":"È tutto per ora."},stars:{"all-earned":"1 stella ottenuta |||| %{smart_count} stelle ottenute",available:"1 stella disponibile |||| %{smart_count} stelle disponibili",earned:"Hai ottenuto %{earned} stella su %{smart_count}. |||| Hai ottenuto %{earned} stelle su %{smart_count}."},"text-sequence":{of:"di"},video:{"not-available":"Questo video non è </br> al momento disponibile.","skip-video":"Salta video"}}}),require.register("data/locales/ja.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"このレッスンでオーディオを有効にする",cancel:"キャンセル",description:"ナレーションを聞くには、このレッスンでオーディオを有効にしてください。",title:"このレッスンはナレーション付きです"},buttons:{"close-lesson":"レッスンを閉じる","continue":"続ける",done:"続ける","open-ed":"Edを開く",send:"送信"},"dial-distribution":{"touch-to-rotate":"&nbsp;タッチして&nbsp;回転"},dial:{"touch-to-rotate":"&nbsp;タッチして&nbsp;回転"},dialogs:{disconnection:{"needs-background":"このレッスンを完了するには&nbsp;バックグラウンドでEdを実行する必要があります。","please-open-ed":"続けるには、Edを開いてレッスンを再開してください。&nbsp;進捗が正しい状態に戻ります。"}},"game-jeopardy":{"is-false":"正しくない","is-true":"正しい"},"game-jumble":{"drag-letters":"上の語句をドラッグしてください"},game:{"bonus-time":"+%{bonus_time}秒",go:"スタート",labels:{score:"スコア",timer:"タイマー"},"move-on":"次へ",of:"／","play-again":"もう一度","play-game":"準備OK！","your-best":"ベストスコア","your-score":"スコア","your-stars":"スター数"},image:{"tap-to-continue":"タップして続ける"},"lesson-info":{"lesson-label":"レッスン"},menu:{"brainboost-page-count":"現在,**%{total}**問中**%{index}**問目です。",cancel:"キャンセル",exit:"レッスン終了","exit-quiz":"クイズを終了","go-back":"最後のスライドを確認","page-count":"\\*%{index}/%{total}\\*スライド目です",restart:"レッスン再開始",resume:"再開"},"peer-authoring":{"image-title":"画像のタイトル",submit:"提出","title-placeholder":"ここにタイトルを入力","upload-complete":"アップロード完了",uploading:"アップロード中...","video-title":"ビデオのタイトル"},"pie-chart":{"touch-to-begin":"タッチして開始"},"slide-answer":{"times-up":"時間切れです！","too-slow":"遅すぎ！"},slider:{"touch-to-slide":"タッチしてスライド"},social:{"be-first":"意見を言う最初の人になりましょう。","delete":"削除","have-your-say":"ご意見",report:"レポート",reported:"レポート済","thats-all":"これで以上です。"},stars:{"all-earned":"1 つのスターを獲得 |||| %{smart_count} つのスターを獲得",available:"1 つのスターを利用可能 |||| %{smart_count} つのスターを利用可能",earned:"あなたは %{smart_count} つのスターのうち %{earned} つを獲得 |||| あなたは %{smart_count} つのスターのうち %{earned} を獲得"},"text-sequence":{of:"／"},video:{"not-available":"現在この動画は</br> 利用できません。","skip-video":"動画をスキップ"}}}),require.register("data/locales/ko.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"이 수업에 오디오 허용",cancel:"취소",description:"내레이션을 들으려면 이 수업에 오디오를 허용해 주세요.",title:"이 수업은 내레이션이 있습니다"},buttons:{"close-lesson":"레슨 닫기","continue":"계속하기",done:"네, 마쳤습니다","open-ed":"Ed 열기",send:"보내기"},"dial-distribution":{"touch-to-rotate":"터치하여 로테이트하기"},dial:{"touch-to-rotate":"터치하여 로테이트하기"},dialogs:{disconnection:{"needs-background":"이 레슨을 완료하려면 Ed가 백그라운드에서 실행되어야 합니다.","please-open-ed":"계속하려면 학습 진행률을 올바르게 추적할 수 있도록 Ed를 열고 레슨을 재시작하세요."}},"game-jeopardy":{"is-false":"거짓","is-true":"참"},"game-jumble":{"drag-letters":"글자 위의 단어로 끌어다 놓기"},game:{"bonus-time":"+%{bonus_time} 초",go:"시작",labels:{score:"점수",timer:"타이머"},"move-on":"이동",of:"게임","play-again":"다시 플레이","play-game":"준비 완료!","your-best":"최고 점수","your-score":"점수","your-stars":"별"},image:{"tap-to-continue":"탭하여 계속하기"},"lesson-info":{"lesson-label":"레슨"},menu:{"brainboost-page-count":"**%{total}** 중 **%{index}** 질문입니다.",cancel:"취소",exit:"레슨 나가기","exit-quiz":"퀴즈에서 나가기","go-back":"이전 슬라이드 검토","page-count":"**%{total}** 중 **%{index}** 슬라이드 학습 중",restart:"레슨 재시작",resume:"다시 시작하기"},"peer-authoring":{"image-title":"이미지 제목",submit:"제출","title-placeholder":"여기에 제목 입력","upload-complete":"업로드 완료",uploading:"업로드 중…","video-title":"비디오 제목"},"pie-chart":{"touch-to-begin":"터치하여 시작하기"},"slide-answer":{"times-up":"시간이 다 됐어요!","too-slow":"너무 느립니다!"},slider:{"touch-to-slide":"슬라이드 터치"},social:{"be-first":"먼저 말을 걸어 보세요.","delete":"삭제","have-your-say":"하고 싶은 말을 다 하세요",report:"리포트",reported:"리포트됨","thats-all":"더 이상 로드할 내용이 없습니다."},stars:{"all-earned":"별 1개 획득 |||| 별 %{smart_count}개 획득",available:"별 1개 이용 가능 |||| 별 %{smart_count}개 이용 가능",earned:"별 {smart_count}개 중 %{earned}개 획득 |||| 별 {smart_count}개 중 %{earned}개 획득"},"text-sequence":{of:"의"},video:{"not-available":"죄송합니다. 현재 이 비디오를 이용할 수 없습니다.","skip-video":"비디오 건너뛰기"}}}),require.register("data/locales/nl.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Sta audio toe voor deze les",cancel:"Annuleren",description:"Om te luisteren, sta je voor deze les audio toe.",title:"Deze les is ingesproken"},buttons:{"close-lesson":"Sluit les","continue":"Ga verder",done:"Ok, ik ben klaar","open-ed":"Open Ed",send:"Verzenden"},"dial-distribution":{"touch-to-rotate":"Aanraken&nbsp;om te&nbsp;draaien"},dial:{"touch-to-rotate":"Aanraken&nbsp;om te&nbsp;draaien"},dialogs:{disconnection:{"needs-background":"Om deze les te voltooien, moet Ed op de achtergrond&nbsp;draaien.","please-open-ed":"Om verder te gaan, open je Ed en start je de les opnieuw zodat je vooruitgang correct kan worden&nbsp;gevolgd."}},"game-jeopardy":{"is-false":"Niet waar","is-true":"Waar"},"game-jumble":{"drag-letters":"Sleep de letters naar het bovenstaande woord"},game:{"bonus-time":"+%{bonus_time} seconden",go:"START!",labels:{score:"Score",timer:"Timer"},"move-on":"Verder gaan",of:"van","play-again":"Weer spelen","play-game":"Ik ben er klaar voor!","your-best":"Je record","your-score":"Je score","your-stars":"Je sterren"},image:{"tap-to-continue":"Tik om verder te gaan"},"lesson-info":{"lesson-label":"Les"},menu:{"brainboost-page-count":"Je bent bij vraag **%{index}** van **%{total}**",cancel:"Annuleren",exit:"Verlaat les","exit-quiz":"Quiz afsluiten","go-back":"Bekijk laatste dia","page-count":"Je bent op dia **%{index}** van **%{total}**",restart:"Begin les opnieuw",resume:"Doorgaan"},"peer-authoring":{"image-title":"Titel afbeelding",submit:"Indienen","title-placeholder":"Titel hier invoeren","upload-complete":"Upload voltooid",uploading:"Uploaden…","video-title":"Titel video"},"pie-chart":{"touch-to-begin":"Aanraken om te beginnen"},"slide-answer":{"times-up":"De tijd is om!","too-slow":"Te langzaam!"},slider:{"touch-to-slide":"Aanraken om te glijden"},social:{"be-first":"Wees de eerste om je mening te geven.","delete":"Verwijder","have-your-say":"Geef je mening",report:"Rapporteren",reported:"Gerapporteerd","thats-all":"Dat was het."},stars:{"all-earned":"1 ster verdiend |||| %{smart_count} sterren verdiend",available:"1 ster beschikbaar |||| %{smart_count} sterren beschikbaar",earned:"Je hebt %{earned} van de %{smart_count} ster verdiend |||| Je hebt %{earned} van de %{smart_count} sterren verdiend"},"text-sequence":{of:"van"},video:{"not-available":"Sorry, deze video is </br>  momenteel niet beschikbaar.","skip-video":"Video overslaan"}}}),require.register("data/locales/no.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Tillatt lyd for denne leksjonen",cancel:"Avbryt",description:"For å høre på taleveiledning må du gi tillatelse til lyd for denne leksjonen.",title:"Denne leksjonen har taleveiledning"},buttons:{"close-lesson":"Lukk leksjon","continue":"Fortsett",done:"Fortsett","open-ed":"Åpne Ed",send:"Send"},"dial-distribution":{"touch-to-rotate":"Berør&nbsp;for å&nbsp;rotere"},dial:{"touch-to-rotate":"Berør&nbsp;for å&nbsp;rotere"},dialogs:{disconnection:{"needs-background":"For å fullføre denne leksjonen må Ed kjøre i&nbsp;bakgrunnen.","please-open-ed":"For å fortsette må du åpne Ed og starte leksjonen på nytt, slik at fremgangen din kan spores&nbsp;riktig."}},"game-jeopardy":{"is-false":"Galt","is-true":"Riktig"},"game-jumble":{"drag-letters":"Dra bokstavene til ordet ovenfor"},game:{"bonus-time":"+%{bonus_time} sekunder",go:"START",labels:{score:"Poengsum",timer:"Stoppeklokke"},"move-on":"Gå videre",of:"av","play-again":"Spill av på nytt","play-game":"OK, jeg er klar!","your-best":"Din beste poengsum","your-score":"Din poengsum","your-stars":"Dine stjerner"},image:{"tap-to-continue":"Trykk for å fortsette"},"lesson-info":{"lesson-label":"Leksjon"},menu:{"brainboost-page-count":"Du er på spørsmål  **%{index}** av **%{total}**",cancel:"Avbryt",exit:"Gå ut av leksjon","exit-quiz":"Gå ut av quiz","go-back":"Se forrige bilde på nytt","page-count":"Du er på bilde **%{index}** av **%{total}**",restart:"Start leksjonen på nytt",resume:"Gjenoppta"},"peer-authoring":{"image-title":"Bildetittel",submit:"Send inn","title-placeholder":"Skriv inn tittel her","upload-complete":"Opplasting fullført",uploading:"Laster opp …","video-title":"Videotittel"},"pie-chart":{"touch-to-begin":"Berør for å begynne"},"slide-answer":{"times-up":"Tiden er ute!","too-slow":"For sent!"},slider:{"touch-to-slide":"Berør for å sveipe"},social:{"be-first":"Vær den første til å si din mening.","delete":"Slett","have-your-say":"Si din mening",report:"Rapporter",reported:"Rapportert","thats-all":"Det var alt for denne gang."},stars:{"all-earned":"1 stjerne opptjent |||| %{smart_count} stjerner opptjent",available:"1 stjerne tilgjengelig |||| %{smart_count} stjerner tilgjengelig",earned:"Du har tjent opp %{earned} av %{smart_count} stjerne |||| Du har tjent opp %{earned} av %{smart_count} stjerner"},"text-sequence":{of:"av"},video:{"not-available":"Beklager, denne videoen er </br> utilgjengelig for øyeblikket.","skip-video":"Hopp over video"}}}),require.register("data/locales/pl.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Włącz dźwięk dla tej lekcji",cancel:"Anuluj",description:"Aby móc słuchać narracji, włącz dźwięk dla tej lekcji.",title:"Ta lekcja ma narratora"},buttons:{"close-lesson":"Zamknij lekcję","continue":"Kontynuuj",done:"OK, gotowe","open-ed":"Otwórz aplikację Ed",send:"Wyślij"},"dial-distribution":{"touch-to-rotate":"Dotknij,&nbsp;aby&nbsp;obrócić"},dial:{"touch-to-rotate":"Dotknij,&nbsp;aby&nbsp;obrócić"},dialogs:{disconnection:{"needs-background":"Aby zakończyć tę lekcję, aplikacja Ed musi być uruchomiona w&nbsp;tle.","please-open-ed":"Aby kontynuować, otwórz aplikację Ed i uruchom ponownie lekcję. Pozwoli to na&nbsp;poprawne śledzenie postępów."}},"game-jeopardy":{"is-false":"Fałsz","is-true":"Prawda"},"game-jumble":{"drag-letters":"Przeciągnij litery na słowo powyżej"},game:{"bonus-time":"+%{bonus_time} sekund",go:"PRZEJDŹ",labels:{score:"Punkty",timer:"Timer"},"move-on":"Przejdź dalej",of:"z","play-again":"Zagraj ponownie","play-game":"OK, gotowe!","your-best":"Twój najlepszy wynik","your-score":"Twój wynik","your-stars":"Twoje gwiazdki"},image:{"tap-to-continue":"Dotknij, aby kontynuować"},"lesson-info":{"lesson-label":"Lekcja"},menu:{"brainboost-page-count":"Jesteś na pytaniu **%{index}** z **%{total}**",cancel:"Anuluj",exit:"Zamknij lekcję","exit-quiz":"Opuść quiz","go-back":"Przejrzyj ostatni slajd","page-count":"Jesteś na slajdzie **%{index}** z **%{total}**",restart:"Uruchom ponownie lekcję",resume:"Wznów"},"peer-authoring":{"image-title":"Nazwa grafiki",submit:"Wyślij","title-placeholder":"Wpisz tytuł tutaj","upload-complete":"Wysyłanie zakończone",uploading:"Wysyłanie...","video-title":"Tytuł filmu"},"pie-chart":{"touch-to-begin":"Dotknij, aby rozpocząć"},"slide-answer":{"times-up":"Czas minął!","too-slow":"Za wolno!"},slider:{"touch-to-slide":"Dotknij, aby przesunąć"},social:{"be-first":"Zabierz głos jako pierwszy.","delete":"Usuń","have-your-say":"Zabierz głos",report:"Zgłoś",reported:"Zgłoszone","thats-all":"To wszystko na teraz."},stars:{"all-earned":"Zdobyta 1 gwiazda |||| Liczba zdobytych gwiazdek: %{smart_count}",available:"Dostępna 1 gwiazdka |||| Liczba dostępnych gwiazdek: %{smart_count}",earned:"Zdobyto %{earned} z %{smart_count} gwiazdki |||| Zdobyto %{earned} z %{smart_count} gwiazdek"},"text-sequence":{of:"z"},video:{"not-available":"Przepraszamy, ten film </br>jest w tej chwili niedostępny.","skip-video":"Pomiń film"}}}),require.register("data/locales/pt.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Permitir o áudio para esta aula",cancel:"Cancelar",description:"Para escutar a narração, permita o áudio para esta aula.",title:"Esta aula é narrada"},buttons:{"close-lesson":"Fechar aula","continue":"Continuar",done:"OK, terminei","open-ed":"Abrir Ed",send:"Enviar"},"dial-distribution":{"touch-to-rotate":"Toque&nbsp;para&nbsp;rodar"},dial:{"touch-to-rotate":"Toque&nbsp;para&nbsp;rodar"},dialogs:{disconnection:{"needs-background":"Para concluir esta aula, o Ed deve estar em execução em&nbsp;segundo plano.","please-open-ed":"Para continuar, abra o Ed e reinicie a aula para que o seu progresso possa ser monitorizado&nbsp;corretamente."}},"game-jeopardy":{"is-false":"Falso","is-true":"Verdadeiro"},"game-jumble":{"drag-letters":"Arraste as letras para a palavra acima"},game:{"bonus-time":"+%{bonus_time} segundos",go:"IR",labels:{score:"Pontuação",timer:"Temporizador"},"move-on":"Avançar",of:"de","play-again":"Jogar novamente","play-game":"OK, estou pronto!","your-best":"O seu melhor resultado","your-score":"A sua pontuação","your-stars":"As suas estrelas"},image:{"tap-to-continue":"Toque para continuar"},"lesson-info":{"lesson-label":"Aula"},menu:{"brainboost-page-count":"Está na pergunta **%{index}** de **%{total}**",cancel:"Cancelar",exit:"Sair da aula","exit-quiz":"Sair do teste","go-back":"Rever último diapositivo","page-count":"Está no diapositivo **%{index}** de **%{total}**",restart:"Reiniciar aula",resume:"Retomar"},"peer-authoring":{"image-title":"Título da imagem",submit:"Entregar","title-placeholder":"Introduza o título aqui","upload-complete":"Carregamento concluído",uploading:"A carregar…","video-title":"Título do vídeo"},"pie-chart":{"touch-to-begin":"Toque para iniciar"},"slide-answer":{"times-up":"Acabou o tempo!","too-slow":"Demasiado lento!"},slider:{"touch-to-slide":"Toque para deslizar"},social:{"be-first":"Seja o primeiro a dar a sua opinião.","delete":"Eliminar","have-your-say":"Dê a sua opinião",report:"Denunciar",reported:"Denunciado","thats-all":"Por agora é tudo."},stars:{"all-earned":"Ganhou 1 estrela |||| Ganhou %{smart_count} estrelas",available:"1 estrela disponível |||| %{smart_count} estrelas disponíveis",earned:"Ganhou %{earned} de %{smart_count} estrela |||| Ganhou %{earned} de %{smart_count} estrelas"},"text-sequence":{of:"de"},video:{"not-available":"Lamentamos, mas este vídeo está </br> indisponível de momento.","skip-video":"Ignorar vídeo"}}}),require.register("data/locales/ro.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Activați componenta audio pentru această lecție",cancel:"Anulare",description:"Pentru a asculta narațiunea, activați componenta audio pentru această lecție.",title:"Această lecție este narată"},buttons:{"close-lesson":"Închidere lecție","continue":"Continuare",done:"Ok, am terminat","open-ed":"Deschidere Ed",send:"Trimitere"},"dial-distribution":{"touch-to-rotate":"Atingeți&nbsp;pentru&nbsp;a roti"},dial:{"touch-to-rotate":"Atingeți&nbsp;pentru&nbsp;a roti"},dialogs:{disconnection:{"needs-background":"Pentru a finaliza această lecție, Ed trebuie să ruleze în&nbsp;fundal.","please-open-ed":"Pentru a continua, vă rugăm să deschideți Ed și să reporniți lecția pentru ca evoluția dvs. să poată fi urmărită&nbsp;în mod corect."}},"game-jeopardy":{"is-false":"Fals","is-true":"Adevărat"},"game-jumble":{"drag-letters":"Trageți literele pe cuvântul de mai sus"},game:{"bonus-time":"+%{bonus_time} secunde",go:"START",labels:{score:"Punctaj",timer:"Cronometru"},"move-on":"Treceți mai departe",of:"din","play-again":"Jucați din nou","play-game":"OK, sunt gata!","your-best":"Cel mai bun rezultat al dvs.","your-score":"Punctajul dvs.","your-stars":"Stelele dvs."},image:{"tap-to-continue":"Apăsați pentru a continua"},"lesson-info":{"lesson-label":"Lecție"},menu:{"brainboost-page-count":"Ești la întrebarea **%{index}** din **%{total}**",cancel:"Anulare",exit:"Părăsire lecție","exit-quiz":"Ieșire din test","go-back":"Revizualizarea ultimului diapozitiv","page-count":"Sunteți la diapozitivul **%{index}** din **%{total}**",restart:"Repornire lecție",resume:"Reluare"},"peer-authoring":{"image-title":"Titlu imagine",submit:"Transmiteți","title-placeholder":"Introduceți aici titlul","upload-complete":"Încărcare finalizată",uploading:"Se încarcă…","video-title":"Titlu videoclip"},"pie-chart":{"touch-to-begin":"Atingeți pentru a începe"},"slide-answer":{"times-up":"Timpul a expirat!","too-slow":"Prea încet!"},slider:{"touch-to-slide":"Atingeți pentru a glisa"},social:{"be-first":"Fiți primul care își spune cuvântul.","delete":"Ștergere","have-your-say":"Spuneți-vă cuvântul",report:"Raport",reported:"Raportat","thats-all":"Aceasta este tot deocamdată."},stars:{"all-earned":"1 stea câștigată |||| %{smart_count} stele câștigate",available:"1 stea disponibilă |||| %{smart_count} stele disponibile",earned:"Ați câștigat %{earned} din %{smart_count} stea |||| Ați câștigat %{earned} din %{smart_count} stele"},"text-sequence":{of:"din"},video:{"not-available":"Ne cerem scuze, acest videoclip </br> nu este disponibil momentan.","skip-video":"Omitere videoclip"}}}),require.register("data/locales/ru.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Включить звук для этого урока",cancel:"Отменить",description:"Чтобы прослушивать комментарии, включите звук для этого урока.",title:"Этот урок содержит устные комментарии"},buttons:{"close-lesson":"Закрыть урок","continue":"Продолжить",done:"Ок, я закончил","open-ed":"Открыть Ed",send:"Отправить"},"dial-distribution":{"touch-to-rotate":"Нажми&nbsp;чтобы&nbsp;прокрутить"},dial:{"touch-to-rotate":"Нажми&nbsp;чтобы&nbsp;прокрутить"},dialogs:{disconnection:{"needs-background":"Чтобы завершить этот урок, Ed необходимо продолжить работать в&nbsp;фоновом режиме.","please-open-ed":"Чтобы продолжить, пожалуйста, откройте Ed и перезапустите урок. Так ваш прогресс будет отображен верно."}},"game-jeopardy":{"is-false":"невернo","is-true":"вернo"},"game-jumble":{"drag-letters":"Перетащи буквы в слово выше"},game:{"bonus-time":"+%{bonus_time} секунд",go:"Поехали",labels:{score:"Балл",timer:"Таймер"},"move-on":"Дальше",of:"из","play-again":"Играть снова","play-game":"Ок, я готов!","your-best":"Лучший результат","your-score":"Ваш балл","your-stars":"Ваши звезды"},image:{"tap-to-continue":"Коснись, чтобы продолжить"},"lesson-info":{"lesson-label":"Урок"},menu:{"brainboost-page-count":"Вы на вопросе **%{index}** из **%{total}**",cancel:"Отменить",exit:"Покинуть урок","exit-quiz":"Выйти из опроса","go-back":"Вернуться на последний слайд","page-count":"Вы на **%{index}** слайде из **%{total}**",restart:"Перезапустить урок",resume:"Продолжить"},"peer-authoring":{"image-title":"Название изображения",submit:"Отправить","title-placeholder":"Введите название здесь","upload-complete":"Загрузка завершена",uploading:"Выполняется загрузка...","video-title":"Название видео"},"pie-chart":{"touch-to-begin":"Нажми, чтобы начать"},"slide-answer":{"times-up":"Время вышло!","too-slow":"Очень медленно!"},slider:{"touch-to-slide":"Нажми, чтобы продолжить"},social:{"be-first":"Выскажите свое мнение первым.","delete":"Удалить","have-your-say":"Сказать свое слово",report:"Сообщить",reported:"Сообщено","thats-all":"На этом пока все."},stars:{"all-earned":"%{smart_count} звезда заработана |||| %{smart_count} звезд(-ы) заработано",available:"%{smart_count} звезда доступна |||| %{smart_count} звезды доступны |||| %{smart_count} звезд доступны",earned:"Вы заработали %{earned} из %{smart_count} звезды |||| Вы заработали %{earned} из %{smart_count} звезд"},"text-sequence":{of:"из"},video:{"not-available":"К сожалению, данное видео сейчас недоступно.","skip-video":"Пропустить видео"}}}),require.register("data/locales/sv.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Tillåt ljud för den här lektionen",cancel:"Avbryt",description:"För att lyssna till berättaren, tillåt ljud för den här lektionen.",title:"Lektionen berättas"},buttons:{"close-lesson":"Stäng lektionen","continue":"Fortsätt",done:"Okej, jag är klar","open-ed":"Öppna Ed",send:"Skicka"},"dial-distribution":{"touch-to-rotate":"Tryck för att vrida"},dial:{"touch-to-rotate":"Tryck för att vrida"},dialogs:{disconnection:{"needs-background":"För att kunna avsluta den här lektionen måste Ed köras i bakgrunden.","please-open-ed":"För att fortsätta ska du öppna Ed och starta om lektionen så att dina framsteg kan spåras ordentligt."}},"game-jeopardy":{"is-false":"Falskt","is-true":"Sant"},"game-jumble":{"drag-letters":"Dra bokstäverna till ordet ovan"},game:{"bonus-time":"+%{bonus_time} sekunder",go:"GÅ",labels:{score:"Poäng",timer:"Timer"},"move-on":"Gå vidare",of:"av","play-again":"Spela igen","play-game":"Okej, jag är redo!","your-best":"Din bästa","your-score":"Din poäng","your-stars":"Dina stjärnor"},image:{"tap-to-continue":"Tryck för att fortsätta"},"lesson-info":{"lesson-label":"Lektion"},menu:{"brainboost-page-count":"Du har en fråga. **%{index}** på **%{total}**",cancel:"Avbryt",exit:"Avsluta lektionen","exit-quiz":"Frågesport för att avsluta","go-back":"Granska sista bilden","page-count":"Du är på bild **%{index}** av **%{total}**",restart:"Starta om lektionen",resume:"Återuppta"},"peer-authoring":{"image-title":"Bildtitel",submit:"Skicka","title-placeholder":"Ange titeln här","upload-complete":"Uppladdning klar",uploading:"Laddar upp…","video-title":"Videotitel"},"pie-chart":{"touch-to-begin":"Tryck för att börja"},"slide-answer":{"times-up":"Tiden är ute!","too-slow":"För långsamt!"},slider:{"touch-to-slide":"Tryck för att glida"},social:{"be-first":"Bli den första som säger vad du tycker.","delete":"Radera","have-your-say":"Säg vad du tycker",report:"Rapportera",reported:"Rapporterad","thats-all":"Det var allt just nu."},stars:{"all-earned":"1 stjärna intjänad |||| %{smart_count} stjärnor intjänade",available:"1 stjärna tillgänglig |||| %{smart_count} stjärnor tillgängliga",earned:"Du har tjänat in %{earned} av %{smart_count} stjärna |||| Du har tjänat in %{earned} av %{smart_count} stjärnor"},"text-sequence":{of:"av"},video:{"not-available":"Den här videon är </br>  tyvärr inte tillgänglig just nu.","skip-video":"Hoppa över videon"}}}),require.register("data/locales/ta.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"இந்தப் பாடத்திற்கு ஆடியோவை அனுமதிக்கவும்",cancel:"ரத்து செய்",description:"விளக்கத்தைக் கேட்க, தயவுசெய்து இந்தப் பாடத்திற்கான ஆடியோவை அனுமதிக்கவும்.",title:"இந்தப் பாடம் சொல்லப்படுகிறது"},buttons:{"close-lesson":"பாடத்தை மூடவும்","continue":"தொடரவும்",done:"தொடரவும்","open-ed":"Ed-ஐத் திறக்கவும்",send:"அனுப்பு"},"dial-distribution":{"touch-to-rotate":"தொடவும்&nbsp;to&nbsp;சுழற்றவும்"},dial:{"touch-to-rotate":"தொடவும்&nbsp;to&nbsp;சுழற்றவும்"},dialogs:{disconnection:{"needs-background":"இந்தப் பாடத்தை முடிக்க, Ed&nbsp;பின்னணியில் இயங்க வேண்டும்.","please-open-ed":"தொடர, Ed-ஐத் திறந்து பாடத்தை மீண்டும் தொடங்கவும் எனவே உங்கள் முன்னேற்றத்தை&nbsp;சரியாகக் கண்காணிக்க முடியும்."}},"game-jeopardy":{"is-false":"தவறு","is-true":"சரி"},"game-jumble":{"drag-letters":"மேலே உள்ள வார்த்தைக்கு எழுத்துக்களை இழுக்கவும்"},game:{"bonus-time":"+%{bonus_time} விநாடிகள்",go:"போகவும்",labels:{score:"மதிப்பெண்",timer:"டைமர்"},"move-on":"நகர்த்தவும்",of:"இன்","play-again":"மீண்டும் பிளே செய்யவும்","play-game":"சரி, நான் தயார்!","your-best":"உங்கள் சிறந்த மதிப்பெண்","your-score":"உங்கள் மதிப்பெண்","your-stars":"உங்கள் ஸ்டார்கள்"},image:{"tap-to-continue":"தொடர தட்டவும்"},"lesson-info":{"lesson-label":"பாடம்"},menu:{"brainboost-page-count":"நீங்கள் **%{total}**-ல் கேள்வி **%{index}**-ல் இருக்கிறீர்கள்",cancel:"ரத்து செய்",exit:"பாடத்திலிருந்து வெளியேறு","exit-quiz":"வினாடி வினாவிலிருந்து வெளியேறவும்","go-back":"கடைசி ஸ்லைடை மதிப்பாய்வு செய்யவும்","page-count":"நீங்கள் **%{total}**-ல் ஸ்லைடு **%{index}**-ல் இருக்கிறீர்கள்",restart:"பாடத்தை மீண்டும் தொடங்கவும்",resume:"மீண்டும் தொடங்கவும்"},"peer-authoring":{"image-title":"படத்தின் தலைப்பு",submit:"சமர்ப்பிக்கவும்","title-placeholder":"தலைப்பை இங்கே உள்ளிடவும்","upload-complete":"பதிவேற்றம் முடிந்தது",uploading:"பதிவேற்றுகிறது...","video-title":"வீடியோ தலைப்பு"},"pie-chart":{"touch-to-begin":"தொடங்க தொடவும்"},"slide-answer":{"times-up":"நேரம் முடிந்து விட்டது!","too-slow":"மிக மெதுவாக!"},slider:{"touch-to-slide":"ஸ்லைடு செய்யத் தொடவும்"},social:{"be-first":"உங்கள் கருத்தை முதலில் கூறுங்கள்.","delete":"நீக்கவும்","have-your-say":"உங்கள் கருத்தைச் சொல்லுங்கள்",report:"தெரிவிக்கவும்",reported:"தெரிவிக்கப்பட்டது","thats-all":"இப்பொழுது இத்துடன் நிறைவடைகிறது."},stars:{"all-earned":"1 ஸ்டார் பெறப்பட்டது |||| %{smart_count} ஸ்டார்கள் பெறப்பட்டன",available:"1 ஸ்டார் உள்ளது |||| %{smart_count} ஸ்டார்கள் உள்ளன",earned:"%{smart_count} ஸ்டாரில் நீங்கள் %{earned}சம்பாத்தித்தீர்கள் |||| %{smart_count} ஸ்டார்களில் நீங்கள் %{earned} சம்பாத்தித்தீர்கள்"},"text-sequence":{of:"இன்"},video:{"not-available":"மன்னிக்கவும், இந்த வீடியோ தற்போது </br> கிடைக்கவில்லை.","skip-video":"வீடியோவைத் தவிர்க்கவும்"}}}),require.register("data/locales/th.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"อนุญาตให้ใช้เสียงสำหรับบทเรียนนี้",cancel:"ยกเลิก",description:"หากต้องการฟังคำบรรยาย โปรดอนุญาตให้ใช้เสียงสำหรับบทเรียนนี้",title:"บทเรียนนี้มีเสียงบรรยาย"},buttons:{"close-lesson":"ปิดบทเรียน","continue":"ดำเนินการต่อ",done:"ตกลง ฉันทำเสร็จแล้ว","open-ed":"เปิด Ed",send:"ส่ง"},"dial-distribution":{"touch-to-rotate":"แตะ&nbsp;เพื่อ&nbsp;หมุน"},dial:{"touch-to-rotate":"แตะ&nbsp;เพื่อ&nbsp;หมุน"},dialogs:{disconnection:{"needs-background":"เพื่อให้จบบทเรียนนี้ Ed ต้องทำงานใน&nbsp;เบื้องหลัง","please-open-ed":"หากต้องการดำเนินการต่อ โปรดเปิดใช้งาน Ed และเริ่มต้นบทเรียนใหม่เพื่อให้สามารถติดตามความคืบหน้าของคุณ&nbsp;ได้อย่างถูกต้อง"}},"game-jeopardy":{"is-false":"เท็จ","is-true":"จริง"},"game-jumble":{"drag-letters":"ลากตัวอักษรไปที่คำด้านบน"},game:{"bonus-time":"+%{bonus_time} วินาที",go:"ไป",labels:{score:"คะแนน",timer:"เครื่องจับเวลา"},"move-on":"ก้าวต่อไป",of:"ของ","play-again":"เล่นอีกครั้ง","play-game":"ตกลง ฉันพร้อมแล้ว!","your-best":"คะแนนดีที่สุดของคุณ","your-score":"คะแนนของคุณ","your-stars":"จำนวนดาวของคุณ"},image:{"tap-to-continue":"แตะเพื่อดำเนินการต่อ"},"lesson-info":{"lesson-label":"บทเรียน"},menu:{"brainboost-page-count":"คุณอยู่ในคำถาม **%{index}** จาก **%{total}**",cancel:"ยกเลิก",exit:"ออกจากบทเรียน","exit-quiz":"ออกจากแบบทดสอบ","go-back":"ตรวจทานสไลด์ล่าสุด","page-count":"คุณอยู่ในสไลด์ **%{index}** จาก **%{total}**",restart:"เริ่มต้นบทเรียนใหม่",resume:"เริ่มต้นใหม่"},"peer-authoring":{"image-title":"ชื่อภาพ",submit:"ส่ง","title-placeholder":"ป้อนชื่อที่นี่","upload-complete":"การอัปโหลดเสร็จสมบูรณ์",uploading:"กำลังอัปโหลด ..","video-title":"ชื่อวิดีโอ"},"pie-chart":{"touch-to-begin":"แตะเพื่อเริ่มต้น"},"slide-answer":{"times-up":"หมดเวลา!","too-slow":"ช้าเกินไป!"},slider:{"touch-to-slide":"แตะเพื่อเลื่อน"},social:{"be-first":"เป็นคนแรกที่พูดของคุณ","delete":"ลบ","have-your-say":"มีการพูดของคุณ",report:"รายงาน",reported:"รายงาน","thats-all":"นั่นคือทั้งหมดที่สำหรับตอนนี้."},stars:{"all-earned":"ได้รับ1 ดาว |||| ได้รับ %{smart_count} ดาว",available:"สามารถรับได้ 1 ดาว |||| สามารถรับได้ %{smart_count} ดาว",earned:"คุณได้รับ %{earned} จาก %{smart_count} ดาว |||| คุณได้รับ %{earned} จาก %{smart_count} ดาว"},"text-sequence":{of:"ของ"},video:{"not-available":"ขออภัย ไม่สามารถดูวิดีโอนี้ <br> ได้ในขณะนี้","skip-video":"ข้ามวิดีโอ"}}}),require.register("data/locales/tr.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Bu derste ses oynatılmasına izin ver",cancel:"İptal",description:"Anlatımı dinlemek için lütfen bu derste ses oynatılmasına izin verin.",title:"Bu ders, anlatımlıdır"},buttons:{"close-lesson":"Dersi Kapat","continue":"Devam",done:"Tamam, 'bitirdim","open-ed":"Ed'i Aç",send:"Gönder"},"dial-distribution":{"touch-to-rotate":"Döndürmek&nbsp;için&nbsp;dokunun"},dial:{"touch-to-rotate":"Döndürmek&nbsp;için&nbsp;dokunun"},dialogs:{disconnection:{"needs-background":"Bu dersi tamamlamak için Ed'in arka planda&nbsp;çalışması gerekir.","please-open-ed":"İlerlemenin doğru olarak&nbsp;takip edilebilmesi için lütfen Ed'i açın ve dersi yeniden başlatın."}},"game-jeopardy":{"is-false":"Yanlış","is-true":"Doğru"},"game-jumble":{"drag-letters":"Harfleri yukarıdaki sözcüğe sürükleyin"},game:{"bonus-time":"+%{bonus_time} saniye",go:"Başla",labels:{score:"Puan",timer:"Zaman Sayacı"},"move-on":"Devam Et",of:"/","play-again":"Tekrar Oynat","play-game":"Tamam, 'hazırım!","your-best":"En iyi puanınız","your-score":"Puanınız","your-stars":"Yıldızlarınız"},image:{"tap-to-continue":"Devam etmek için dokunun"},"lesson-info":{"lesson-label":"Ders"},menu:{"brainboost-page-count":"**%{total}** sorunun **%{index}**. sorusundasın",cancel:"İptal",exit:"Dersten çık","exit-quiz":"Testten çık","go-back":"Son slaytı incele","page-count":"Bulunduğunuz slayt: **%{index}** / **%{total}**",restart:"Dersi yeniden başlat",resume:"Devam et"},"peer-authoring":{"image-title":"Resim Başlığı",submit:"Gönder","title-placeholder":"Başlığı buraya girin","upload-complete":"Yükleme Tamamlandı",uploading:"Yükleniyor…","video-title":"Video Başlığı"},"pie-chart":{"touch-to-begin":"Başlamak için dokunun"},"slide-answer":{"times-up":"Süre bitti!","too-slow":"Çok Yavaş!"},slider:{"touch-to-slide":"Kaydırmak için dokunun"},social:{"be-first":"İlk sizin sesiniz duyulsun.","delete":"Sil","have-your-say":"Sesinizi duyurun",report:"Bildir",reported:"Bildirildi","thats-all":"Şimdilik hepsi bu kadar."},stars:{"all-earned":"1 yıldız kazanıldı |||| %{smart_count} yıldız kazanıldı",available:"1 yıldız var |||| %{smart_count} yıldız var",earned:"Kazandığınız yıldız: %{earned} / %{smart_count} |||| Kazandığınız yıldız: %{earned} / %{smart_count}"},"text-sequence":{of:"arasında"},video:{"not-available":"Üzgünüz, bu video </br> şu an mevcut değil.","skip-video":"Videoyu Atla"}}}),require.register("data/locales/uk.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Включити аудіо для цього уроку",cancel:"Скасувати",description:"Щоби прослухати коментарі, включи аудіо для цього уроку.",title:"Цей урок має аудіокоментарі"},buttons:{"close-lesson":"Закрити урок","continue":"Продовжити",done:"Ok, я вже","open-ed":"Відкрити Ed",send:"Надіслати"},"dial-distribution":{"touch-to-rotate":"Торкнися,&nbsp;щоб&nbsp;обертати"},dial:{"touch-to-rotate":"Торкнися,&nbsp;щоб&nbsp;обертати"},dialogs:{disconnection:{"needs-background":"Для завершення цього уроку Ed повинна працювати у фоновому&nbsp;режимі.","please-open-ed":"Для продовження відкрий Ed та перезапусти урок, щоб не втратити&nbsp;свій прогрес."}},"game-jeopardy":{"is-false":"Неправильно","is-true":"Правильно"},"game-jumble":{"drag-letters":"Перетягни літери в слово вгорі"},game:{"bonus-time":"Додаткова кількість секунд: +%{bonus_time}",go:"ПОЧИНАЙМО",labels:{score:"Оцінка",timer:"Таймер"},"move-on":"Просувайся",of:"з","play-again":"Грай знову","play-game":"OK, готово!","your-best":"Твій найкращий результат","your-score":"Твоя оцінка","your-stars":"Твої зірки"},image:{"tap-to-continue":"Торкнися, щоб продовжити"},"lesson-info":{"lesson-label":"Урок"},menu:{"brainboost-page-count":"Ви на питанні **%{index}** з **%{total}**",cancel:"Скасувати",exit:"Вийти з уроку","exit-quiz":"Вийти з тесту","go-back":"Переглянути останній слайд","page-count":"Ти на слайді **%{index}** з **%{total}**",restart:"Перезапустити урок",resume:"Продовжити"},"peer-authoring":{"image-title":"Назва зображення",submit:"Надіслати","title-placeholder":"Введи назву тут",
"upload-complete":"Передавання завершено",uploading:"Передавання…","video-title":"Назва відео"},"pie-chart":{"touch-to-begin":"Торкнися, щоб розпочати"},"slide-answer":{"times-up":"Час вийшов!","too-slow":"Занадто повільно!"},slider:{"touch-to-slide":"Торкнися, щоб перейти"},social:{"be-first":"Висунь свою пропозицію найраніше.","delete":"Видалити","have-your-say":"Твоя пропозиція",report:"Звіт",reported:"Прозвітовано","thats-all":"Наразі це все."},stars:{"all-earned":"Зароблена 1 зірка |||| Зароблено зірок: %{smart_count}",available:"Доступна 1 зірка |||| Доступно зірок: %{smart_count}",earned:"Ти заробив(-ла) зірки: %{earned} з %{smart_count} |||| Ти заробив(-ла) зірки: %{earned} з %{smart_count}"},"text-sequence":{of:"з"},video:{"not-available":"Вибач, це відео </br> наразі недоступне.","skip-video":"Пропустити відео"}}}),require.register("data/locales/vi.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"Bật âm thanh cho bài học này",cancel:"Hủy",description:"Để nghe tường thuật, xin vui lòng bật âm thanh cho bài học này.",title:"Bài học này được thuật lại"},buttons:{"close-lesson":"Đóng Bài học","continue":"Tiếp tục",done:"Tiếp tục","open-ed":"Mở Ed",send:"Gửi"},"dial-distribution":{"touch-to-rotate":"Chạm&nbsp;để&nbsp;xoay"},dial:{"touch-to-rotate":"Chạm&nbsp;để&nbsp;xoay"},dialogs:{disconnection:{"needs-background":"Để hoàn thành bài học này, Ed cần chạy trong&nbsp;nền.","please-open-ed":"Để tiếp tục, xin vui lòng mở Ed và bắt đầu lại bài học để có thể theo dõi tiến độ của bạn&nbsp;chính xác."}},"game-jeopardy":{"is-false":"Sai","is-true":"Đúng"},"game-jumble":{"drag-letters":"Kéo các chữ cái vào từ phía trên"},game:{"bonus-time":"+%{bonus_time} giây",go:"TIẾN HÀNH",labels:{score:"Điểm",timer:"Đồng hồ đếm giờ"},"move-on":"Tiến lên",of:"của","play-again":"Phát Lại","play-game":"OK, tôi đã sẵn sàng!","your-best":"Điểm cao nhất của bạn","your-score":"Điểm của bạn","your-stars":"Sao của bạn"},image:{"tap-to-continue":"Nhấn để tiếp tục"},"lesson-info":{"lesson-label":"Bài học"},menu:{"brainboost-page-count":"Bạn đang ở câu hỏi **%{index}** trên **%{total}**",cancel:"Hủy",exit:"Thoát bài học","exit-quiz":"Thoát bài kiểm tra","go-back":"Xem lại trang trình bày cuối cùng","page-count":"Bạn đang ở trang trình bày **%{index}** trên **%{total}**",restart:"Bắt đầu lại bài học",resume:"Tiếp tục"},"peer-authoring":{"image-title":"Tiêu đề Hình ảnh",submit:"Gửi","title-placeholder":"Nhập tiêu đề ở đây","upload-complete":"Tải lên Hoàn tất",uploading:"Đang tải lên...","video-title":"Tiêu đề Video"},"pie-chart":{"touch-to-begin":"Chạm để bắt đầu"},"slide-answer":{"times-up":"Hết Giờ!","too-slow":"Quá Chậm!"},slider:{"touch-to-slide":"Chạm để trượt"},social:{"be-first":"Hãy là người đầu tiên nêu lên ý kiến.","delete":"Xóa","have-your-say":"Nêu lên ý kiến",report:"Báo cáo",reported:"Đã báo cáo","thats-all":"Hiện tại chỉ có bấy nhiêu thôi."},stars:{"all-earned":"Đã kiếm được 1 sao |||| Đã kiếm được %{smart_count} sao",available:"Có sẵn 1 sao |||| Có sẵn %{smart_count} sao",earned:"Bạn đã kiếm được %{earned} trên %{smart_count} sao |||| Bạn đã kiếm được %{earned} trên %{smart_count} sao"},"text-sequence":{of:"của"},video:{"not-available":"Rất tiếc, video này </br> hiện không khả dụng.","skip-video":"Bỏ qua Video"}}}),require.register("data/locales/zh-tw.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"允許播放本課程的音訊",cancel:"取消",description:"若要聽到講述,請允許播放本課程的音訊。",title:"此為講述課程"},buttons:{"close-lesson":"關閉課程","continue":"繼續",done:"繼續","open-ed":"打開 Ed",send:"傳送"},"dial-distribution":{"touch-to-rotate":"輕觸&nbsp;&nbsp;旋轉"},dial:{"touch-to-rotate":"輕觸&nbsp;&nbsp;旋轉"},dialogs:{disconnection:{"needs-background":"若要完成本課程,Ed 必須在&nbsp;背景中執行。","please-open-ed":"若要繼續,請打開 Ed 並重啟課程,我們才能正確追蹤&nbsp;您的進度。"}},"game-jeopardy":{"is-false":"錯","is-true":"對"},"game-jumble":{"drag-letters":"拖曳字母到上方的單字"},game:{"bonus-time":"+%{bonus_time} 秒",go:"開始",labels:{score:"得分",timer:"計時器"},"move-on":"繼續前進",of:"/","play-again":"重玩","play-game":"我準備好了！","your-best":"您的最佳得分","your-score":"您的得分","your-stars":"您的星星"},image:{"tap-to-continue":"輕點繼續"},"lesson-info":{"lesson-label":"課程"},menu:{"brainboost-page-count":"您正位於問題 **%{index}**,共 **%{total}**",cancel:"取消",exit:"退出課程","exit-quiz":"退出測驗","go-back":"回顧上一張投影片","page-count":"您正位於投影片 **%{index}**,共 **%{total}**",restart:"重啟課程",resume:"繼續"},"peer-authoring":{"image-title":"影像標題",submit:"提交","title-placeholder":"在此輸入標題","upload-complete":"上傳完成",uploading:"上傳中...","video-title":"影片標題"},"pie-chart":{"touch-to-begin":"輕觸開始"},"slide-answer":{"times-up":"時間到！","too-slow":"太慢了！"},slider:{"touch-to-slide":"輕觸滑動"},social:{"be-first":"率先發表意見。","delete":"刪除","have-your-say":"發表意見",report:"報告",reported:"已回報","thats-all":"目前就這些了。"},stars:{"all-earned":"已獲取 1 顆星 |||| 已獲取 %{smart_count} 顆星",available:"有 1 顆星 |||| 有 %{smart_count} 顆星",earned:"您已獲取 %{smart_count} 顆星中的 %{earned} 顆 |||| 您已獲取 %{smart_count} 顆星中的 %{earned} 顆"},"text-sequence":{of:"/"},video:{"not-available":"很抱歉,目前這支影片</br>無法觀看。","skip-video":"跳過影片"}}}),require.register("data/locales/zh.yaml",function(t,e,i){i.exports={"audio-popup":{allow:"允许播放此课程的音频",cancel:"取消",description:"要收听解说，请允许播放此课程的音频。",title:"此课程配有解说"},buttons:{"close-lesson":"关闭课堂","continue":"继续",done:"好的，我已经完成","open-ed":"打开 Ed",send:"发送"},"dial-distribution":{"touch-to-rotate":"触摸以旋转"},dial:{"touch-to-rotate":"触摸以旋转"},dialogs:{disconnection:{"needs-background":"要完成本课程，Ed 需要在后台运行。","please-open-ed":"要继续，请打开 Ed 并重新开始课堂，以便正确跟踪您的进度。"}},"game-jeopardy":{"is-false":"错误","is-true":"正确"},"game-jumble":{"drag-letters":"把字母拖到上方的单词中"},game:{"bonus-time":"+%{bonus_time} 秒",go:"开始",labels:{score:"成绩",timer:"计时器"},"move-on":"继续",of:"/","play-again":"重新游戏","play-game":"我准备好了！","your-best":"您的最佳成绩","your-score":"您的成绩","your-stars":"您的星星"},image:{"tap-to-continue":"点按以继续"},"lesson-info":{"lesson-label":"课堂"},menu:{"brainboost-page-count":"您在回答第 **%{index}** 个问题,共 **%{total}** 个问题",cancel:"取消",exit:"退出课堂","exit-quiz":"退出小测验","go-back":"查看最后一张幻灯片","page-count":"您当前位于第 **%{index}** 张幻灯片，共 **%{total}** 张",restart:"重新开始课堂",resume:"恢复"},"peer-authoring":{"image-title":"图像标题",submit:"提交","title-placeholder":"在此处输入标题","upload-complete":"上传完成",uploading:"正在上传……","video-title":"视频标题"},"pie-chart":{"touch-to-begin":"触摸以开始"},"slide-answer":{"times-up":"时间到了！","too-slow":"太慢了！"},slider:{"touch-to-slide":"触摸以滑动"},social:{"be-first":"抢先第一个发表评论。","delete":"删除","have-your-say":"发表您的评论",report:"报告",reported:"已报告","thats-all":"仅此而已。"},stars:{"all-earned":"赢得了 1 颗星 |||| 赢得了 %{smart_count} 颗星",available:"1 颗星可用 |||| %{smart_count} 颗星可用",earned:"您已经赢得了 %{smart_count} 颗星中的 %{earned} 颗 |||| 您已经赢得了 %{smart_count} 颗星中的 %{earned} 颗"},"text-sequence":{of:"/"},video:{"not-available":"抱歉，本视频目前无法观看。","skip-video":"跳过视频"}}}),require.register("engine/aicc/model.yaml",function(t,e,i){i.exports={title:"aicc",display:"AICC",category:"Advanced",description:"Play an AICC Package",hideFrom:["freemium","sponsor"],features:{stars:!0,online:!0},model:{"package":{type:"aicc","default":"about:blank",display:"AICC File",help:"Upload your AICC package."},shouldOpenInPopup:{"default":!1,type:"boolean",display:"Open in a new window",help:"Some AICC content performs better in a separate window. If your AICC package is performing poorly, this option may help.\n"},isRequiredForLessonCompletion:{"default":!0,type:"boolean",display:"Required Content",help:"The learner must complete the AICC content before the lesson is marked as complete.\n"},background:{type:"string","default":"",display:"Background Color",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used for the background of the entire screen in lightbox mode.\n'},button:{text:{type:"text","default":"Continue",display:"Done text"},position:{type:"select","enum":["Below","Overlay Bottom","Overlay Top","None"],"default":"Below",help:"Choose the best position based on your content. If you choose not to display the button, your AICC content must allow the learner to exit, or they will not be able to continue.\n"}}}}}),require.register("engine/aicc/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n){i.push('<div class="full-screen content-fill hide-overflow"><iframe type="text/html" frameborder="0" class="scorm-object"></iframe><div class="exit-btn btn">'+jade.escape(null==(e=t.text||n("buttons.done"))?"":e)+"</div></div>")}.call(this,"button"in n?n.button:"undefined"!=typeof button?button:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/aicc/view.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c=function(t,e){function i(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty;a=e("views/slide"),u=Application.actions(),r=u.Session,s=u.Lesson,o=e("lib/device"),d=function(t,e){var i,n;for(i in t)if(n=t[i],i.toLowerCase()===e.toLowerCase())return t[i];return null},l=function(t){return d(t.core,"Lesson_Status")},n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return c(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .exit-btn":"stopAICC"}},i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments)},i.prototype.beforeShow=function(){var t,e,i;return t=(null!=(e=this.options.data.button)&&null!=(i=e.position)?i.toLowerCase():void 0)||"none",this.setState(written.hyphenCase(t),"exit-btn"),this.trigger("ui",{lightbox:this.options.data.background||!0,fullscreen:!0}),this.onResize()},i.prototype.beforeHide=function(){return this.trigger("ui",{lightbox:!1,fullscreen:!1})},i.prototype.show=function(){return this.listenTo(this,"resize",this.onResize),this.initAICC(function(t){if(null!=t)return console.error("Error while initializing AICC",t)})},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.onResize=function(){var t,e;if("below"===this.currentState["exit-btn"])return t=this.findOne(".exit-btn"),e=this.findOne(".scorm-object"),e.style.bottom=t.offsetHeight+"px",e.style.height=e.parentNode.offsetHeight-t.offsetHeight+"px"},i.prototype.getAttempt=function(t){return this.getAICCPackageURLAndSID(function(e,i){var n,o;return o=i.aiccURL,n=i.aiccSID,$.ajax({url:o+"/result",type:"POST",data:{session_id:n},success:function(e){return t(null,e)},error:function(e){return t(e)}})})},i.prototype.stopAICC=function(){return this.getAttempt(function(t){return function(e,i){var n,o,a,l,u;return l=d(i,"core")||{},n=d(l,"Lesson_Status")||"",o=d(l,"Score")||"0",u=.01*parseInt(o),a=null!=n.toLowerCase().match(/^[pc]/),r.get(function(e,i){var n,o,r;if(n=i.attempt,o={id:t.options.id,name:t.options.name,type:t.options.type,slideData:t.options.data,attempt:n,answerDetails:[],metadata:t.options.metadata,isAiccAttempt:!0,isCompleted:a,isRequiredForLessonCompletion:t.options.data.isRequiredForLessonCompletion,score:u,configuration:null!=(r=t.options.data)?r.challenge_configuration:void 0,success:a},t.lesson.processInteraction(o),!window.ED_LMS_PREVIEW&&!window.ED_PUBLIC_PREVIEW)return t.isLastSlide?(s.complete(),t.exit()):t.next()})}}(this))},i.prototype.getAICCPackageURLAndSID=function(t){var e;return e=this.options.id,r.get(function(i,n){var o,s,r,a,l,d;return a=n.id,d=n.userId,r=n.attempt,s=n.aiccURL,null!=i?t(i):(l=a,o=l?l+"|"+e+"|"+d+"|"+r:"lessonId|slideId||userId|attempt",s=window.location.origin+"/api/aicc",t(null,{aiccURL:s,aiccSID:o}))})},i.prototype.serialize=function(){return i.__super__.serialize.apply(this,arguments)},i.prototype.initAICCResource=function(t){var e,i;return e=this.serialize(),i=e["package"],this.getAICCPackageURLAndSID(function(n){return function(o,s){var r,a,l,d,u;return a=s.aiccURL,r=s.aiccSID,null!=o?t(o):(d="aicc_url="+a+"&aicc_sid="+r,i+=i.match(/\?/)?i.match(/\&$/)?""+d:"&"+d:"?"+d,window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW||!e.shouldOpenInPopup?n.findOne(".scorm-object").src=i:(l=window.open(i),u=window.setInterval(function(){if(l.closed!==!1)return window.clearInterval(u),n.stopAICC()},200)),t())}}(this))},i.prototype.initAICC=function(t){return this.initAICCResource(t)},i}(a),i.exports=n}),require.register("engine/carousel/model.yaml",function(t,e,i){i.exports={title:"carousel",display:"Carousel",description:"Show answers in a carousel",category:"Multiple Choice",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},answers:{min:2,max:8,type:[{content:{type:"html"},correct:{type:"boolean"}}]},randomize:{type:"boolean","default":!1,help:"Shuffle the order of carousel items from left to right\n"},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Swipe to select an answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"true-or-false",title:"What's the correct answer?",answers:[{content:"Answer 1"},{correct:!0,content:"Answer 2.<br> This is the correct answer and it contains more text.\n"},{content:"Answer 3"}]}]}}),require.register("engine/carousel/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-md-fill content-sm-ver content-fit"><div class="content-md-ver text-center block-v-lg"><h1 class="block-h-xl fade-in">'+(null==(e=c)?"":e)+'</h1><div class="row carousel-container block-h-xl block-v-lg"><div class="col-md-8 col-md-offset-2 col-sm-12"><div class="carousel slide-up delay-6"><div'+jade.attr("style","width: "+100*t.length+"%;",!0,!1)+' class="carousel-slider block-flex-ver clearfix">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];i.push("<div"+jade.attr("data-is-correct",r.correct,!0,!1)+jade.attr("data-answer-id",r.id,!0,!1)+jade.attr("style","width: "+100/t.length+"%;",!0,!1)+jade.cls(["carousel-item","block-md",r.correct?"carousel-item-correct":""],[null,null,!0])+'><div class="carousel-block block-md block-dk draggy draggy-ver delay-3"><div'+jade.cls(["carousel-btn","btn","btn-solid","btn-block",r.content.length>20?"btn-long":""],[null,null,null,null,!0])+'><div class="text-center">'+(null==(e=r.content)?"":e)+"</div></div></div></div>")}else{var s=0;for(var o in n){s++;var r=n[o];i.push("<div"+jade.attr("data-is-correct",r.correct,!0,!1)+jade.attr("data-answer-id",r.id,!0,!1)+jade.attr("style","width: "+100/t.length+"%;",!0,!1)+jade.cls(["carousel-item","block-md",r.correct?"carousel-item-correct":""],[null,null,!0])+'><div class="carousel-block block-md block-dk draggy draggy-ver delay-3"><div'+jade.cls(["carousel-btn","btn","btn-solid","btn-block",r.content.length>20?"btn-long":""],[null,null,null,null,!0])+'><div class="text-center">'+(null==(e=r.content)?"":e)+"</div></div></div></div>")}}}.call(this),i.push('</div></div></div></div></div></div></div><div class="pagination">'),function(){var e=t;if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push('<div class="page"></div>')}else{var o=0;for(var n in e){o++;e[n];i.push('<div class="page"></div>')}}}.call(this),i.push("</div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"answers"in n?n.answers:"undefined"!=typeof answers?answers:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/carousel/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=e("views/base/game"),n=e("views/components/draggy").AutoCursorRemoveDraggy,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.currentIndex=0,i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s;return e=i.__super__.serialize.apply(this,arguments),n=e.randomize,t=((null!=(o=e.metadata.questions)&&null!=(s=o[0])?s.answers:void 0)||[]).map(function(t){return{content:t.content,correct:t.correct,id:t.id}}),t=t.filter(function(t){return null!=t.content}),"rtl"===this.options.config().direction&&(t=t.reverse()),n&&(t=_.shuffle(t)),e.answers=t,e},i.prototype.show=function(t){var e,o,s,r;return null==t&&(t=0),i.__super__.show.apply(this,arguments),e=this.findOne(".carousel"),this.setEl(this.findOne(".pagination"),"pagination"),this.setEl(e.firstChild,"scroller"),o=this.serialize().answers.length,s=-e.offsetWidth*(o-1),this.draggy=new n({el:e,minX:s,maxX:0,lock:"y"}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),r="rtl"===this.options.config().direction?-this.draggy.el.offsetWidth*(o-1-t):-this.draggy.el.offsetWidth*t,this.draggy.reset({x:r}),this.onResize(),this.enterGame()},i.prototype.onDrag=function(t,e){return this.transform(this.getEl("scroller"),{x:this.getScrollDist(t),transition:e?"all 300ms":""}),this.updateChildren(t,e&&"none")},i.prototype.onDrop=function(t,e){var i,n,o,s,r,a,l,d,u,c;if(e){for(u=null!=this.currentIndex?"all 300ms":"",this.currentIndex=Math.floor(-t.x/t.offset.width),this.setState(this.currentIndex,"page"),l=this.getEl("pagination").children,o=s=0,r=l.length;s<r;o=++s)i=l[o],i.classList.toggle("active",o===this.currentIndex);return this.transform(this.getEl("scroller"),{x:this.getScrollDist(t),transition:u}),this.updateChildren(t,u)}if(c=t.velocity.x,a=.9,n=c<-a?"ceil":c>a?"floor":"round",d=Math[n](Math.min(t.x/t.offset.width,1)),t.reset({x:d*t.offset.width}),"prompt"===this.currentState.state)return this.setState("touched")},i.prototype.updateChildren=function(t,e){var i,n,o,s,r,a,l;for(l=t.offset.width,a=this.getEl("scroller").children,o=s=0,r=a.length;s<r;o=++s){if(n=a[o],!(i=n.querySelector(".btn")))return;e&&(n.classList.toggle("active",o===this.currentIndex),this.transition(i,e,!0)),this.transform(i,{scale:1-Math.abs(t.x+o*l)/l/5,opacity:1-Math.abs(t.x+o*l)/l})}},i.prototype.getScrollDist=function(t){return t.x/t.offset.width/this.options.data.answers.length*100+"%"},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r;return n=(null!=(o=this.options.metadata)?o.questions:void 0)||[],n.length>0?(i=n[0],r=$(null!=(s=this.getEl("scroller"))?s.children[this.currentIndex||0]:void 0).data("answer-id"),t=_.find(i.answers,function(t){return t.id===r}),e={question:i.question,answer:t},[e]):[]},i.prototype.isCorrect=function(){var t;return null!=(null!=(t=this.getEl("scroller"))?t.children[this.currentIndex||0].dataset.isCorrect:void 0)},i.prototype.onResize=function(){var t,e,i;if(i=this.getEl("scroller"))return null!=(e=this.draggy)&&(e.options.minX=-this.draggy.el.offsetWidth*(this.options.data.answers.length-1)),i.style.height="",t=i.offsetHeight,i.style.height=t+"px",t},i.prototype.refresh=function(t){var e,n,o,s,r,a,l;for(a=t.data.answers,o=s=0,r=a.length;s<r;o=++s)n=a[o].content,n&&(null!=(l=this.options.data.answers[o])?l.content:void 0)!==n&&(e=o);return i.__super__.refresh.apply(this,arguments),this.currentIndex=null,this.show(e)},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(s),i.exports=o}),require.register("engine/categorise/model.yaml",function(t,e,i){i.exports={title:"categorise",display:"Categorize",description:"Show two category options",category:"Multiple Choice",links:{academy:"https://academy.edapp.com/how-to-categorise/"},features:{stars:!0,social:!0},model:{title:{types:["text","image","video","audio"],"default":"Which category?"},buttonText:{type:"html","default":"",display:"Answer"},categories:{min:2,max:2,type:[{text:{type:"html"},correct:{type:"boolean"}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag to the correct category"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"true-or-false",title:"Is the following statement true or false?",buttonText:"Product Z is the newest feature and offers a new level of feedback for the user.",categories:[{text:"True",correct:!0},{text:"False",correct:!1}],answer:{text:"This statement is correct."}},{subtype:"classification",hidden:!0,title:"Is Product X type 1 or type 2?",buttonText:"Product X",categories:[{text:"Type 1",correct:!0},{text:"Type 2",correct:!1}],answer:{text:"Product X is type 1."}}]}}),require.register("engine/categorise/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v){n["video-stream"]=e=function(t,e,n,o,s){this&&this.block,this&&this.attributes||{};f=f||!0,n=n||!0,o=o||"video vjs-fluid";var r=a.CLOUDINARY_CDN_URL+a.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(r)>-1&&(l=t.replace(r,r+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",a.direction,!0,!1)+jade.attr("poster",s,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,s){this&&this.block,this&&this.attributes||{};switch(s=s||t,s[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(s[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](s[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",s[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",a.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var r=s[o].match(/<iframe[^<]*<\/iframe>/);r&&i.push(null==(e=r[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=s[o])?"":e)+"</span>")}},u&&u.timer&&u.timer.limit>0&&!u.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill content-fit"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><h1 class="slide-title text-lg-right text-md-center text-sm-center fade-in tight">'),n["multi-content"]("title"),i.push('</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><div class="draggy-parent"><div'+jade.attr("data-correct",r[0].correct,!0,!1)+jade.attr("data-answer-id",r[0].id,!0,!1)+jade.cls(["category","droppy","droppy-top","block-v-md","delay-4","droppy-"+r[0].correct],[null,null,null,null,null,!0])+'><div class="droppy-child block-dk text-center text-lg slide-left"><div class="content-ver block-sm">'+(null==(e=r[0].content)?"":e)+'</div></div></div><div class="draggy block-v-md"><div'+jade.cls(["btn","btn-solid","btn-block","selectable","draggy-btn","fade-in","delay-6",o],[null,null,null,null,null,null,null,!0])+'><div class="btn-text">'+(null==(e=s)?"":e)+"</div></div></div><div"+jade.attr("data-correct",r[1].correct,!0,!1)+jade.attr("data-answer-id",r[1].id,!0,!1)+jade.cls(["category","droppy","droppy-bottom","block-v-md","delay-4","droppy-"+r[1].correct],[null,null,null,null,null,!0])+'><div class="droppy-child block-dk text-center text-lg slide-right"><div class="content-ver">'+(null==(e=r[1].content)?"":e)+"</div></div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",v?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),p?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=d||h("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof m&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=m)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=l||d||h("buttons.continue"))?"":e)+"</div></div>"),c&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"buttonClass"in o?o.buttonClass:"undefined"!=typeof buttonClass?buttonClass:void 0,"buttonText"in o?o.buttonText:"undefined"!=typeof buttonText?buttonText:void 0,"categories"in o?o.categories:"undefined"!=typeof categories?categories:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/categorise/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty,d=[].slice;r=e("views/base/game"),s=e("views/components/draggy").DraggyView,o=e("lib/device"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.serialize=function(){var t,e;return t=i.__super__.serialize.apply(this,arguments),e=t.width>375?30:20,t.buttonText.length>e&&(t.buttonClass="btn-long"),t.categories=_.shuffle(t.metadata.questions[0].answers),t},i.prototype.events=function(){return{"iostap .btn-done":"endGame"}},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),delete this.index,this.setEl(this.findOne(".draggy-btn"),"draggyBtn"),this.setEl(this.findOne(".draggy-parent"),"draggyParent"),this.setEl(this.findAll(".droppy"),"droppies"),this.setEl(this.findAll(".droppy-child"),"droppyChild"),this.createDraggy(),this.enterGame()},i.prototype.createDraggy=function(){return this.draggy=new s({el:this.findOne(".draggy"),lock:"x"}),this.draggy.el.classList.add("no-delay"),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),this.updateDroppyHeight()},i.prototype.onDrag=function(t,e){var i,n,o,s,r;for(this.index=t.y<0?0:1,r=this.getEl("droppies"),n=o=0,s=r.length;o<s;n=++o)i=r[n],i.classList.add("no-delay"),i.classList.toggle("active",n===this.index);return this.transform(t.el,{y:t.y,scale:1.05,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){var i;if(e)this.transform(t.el,{y:t.y,transition:"all 300ms"});else{if(!(this.currentDroppy=this.getEl("droppies")[this.index]))return;this.draggy.el.classList.add("draggy-drop"),this.moveDroppies(),i=(this.currentDroppy.offsetHeight-this.draggy.offset.height)/2,t.y<0?i=-i-t.offset.height/2:i+=t.offset.height/2,t.reset({x:0,y:i})}return this.setState("touched")},i.prototype.moveDroppies=function(){var t,e,i,n,s,r,a;for(a=this.draggy.offset.height/2,r=d.call(this.getEl("droppies")),o.breakpoint(["xs","sm","md"])&&r.push(this.findOne(".slide-title")),s=[],e=i=0,n=r.length;i<n;e=++i)t=r[e],s.push(this.transform(t,{y:1===e?-a:a,transition:"all 300ms"}));return s},i.prototype.updateDroppyHeight=function(){var t,e,i,n,o,s,r,a,l,d,u;for(this.draggy.getOffset(),(null!=(l=this.currentState)?l.refresh:void 0)||this.el.classList.remove("active"),d=this.getEl("droppies"),n=o=0,r=d.length;o<r;n=++o)t=d[n],t.firstChild.style.height="";for(e=parseInt(window.getComputedStyle(this.getEl("droppies")[0]).fontSize),i=_.reduce(this.getEl("droppies"),function(t,e){return t>e.offsetHeight?t:e.offsetHeight},this.draggy.el.firstChild.offsetHeight),u=this.getEl("droppies"),
n=s=0,a=u.length;s<a;n=++s)t=u[n],t.firstChild.style.height=i/e+"em";return this.draggy.options.minY=-i,this.draggy.options.maxY=i,this.fitText(function(t){return function(){return window.setTimeout(function(){return t.el.classList.add("active")},300)}}(this))},i.prototype.answerDetails=function(){var t,e,i,n,o,s;return o=(null!=(s=this.options.metadata)?s.questions:void 0)||[],o.length>0&&null!=this.currentDroppy?(n=o[0],i=this.currentDroppy.dataset.answerId,t=_.findWhere(n.answers,{id:i}),e={question:n.question,answer:t},[e]):[]},i.prototype.isCorrect=function(){var t;return null!=(null!=(t=this.currentDroppy)?t.dataset.correct:void 0)},i.prototype.onRefresh=function(){var t,e,n,o,s;if(this.draggy)for(this.draggy.el.classList.remove("no-delay"),s=this.getEl("droppies"),e=n=0,o=s.length;n<o;e=++n)t=s[e],t.classList.remove("no-delay");return i.__super__.onRefresh.apply(this,arguments)},i.prototype.onResize=function(){return this.updateDroppyHeight(),this.onDrop(this.draggy)},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(r),i.exports=n}),require.register("engine/chat/model.yaml",function(t,e,i){i.exports={title:"chat",display:"Chat",description:"Role play a scenario",category:"Multiple Choice",links:{academy:"https://academy.edapp.com/how-to-chat/"},features:{stars:!0,social:!0},model:{title:{type:"html"},message:{content:{type:"html"},sender:{type:"html"},responder:{type:"html","default":"You"}},answers:{correct:{display:"Correct Answer",type:"html"},incorrect:{display:"Incorrect Answers",type:[{type:"html"}],min:1,max:2}},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Select the correct answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"one-of-three",message:{sender:"The customer asks",responder:"What's your answer?",content:"Which product is the cheapest?"},answers:{correct:"Product X is cheapest",incorrect:["Product Y is cheapest","Product Z is cheapest"]},answer:{text:"It's important to help the customer understand that Product X is in fact the cheapest product.\n"}}]}}),require.register("engine/chat/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="block-v-md content-ver text-md content-fit">'),p&&i.push('<h2 class="fade-in">'+(null==(e=p)?"":e)+"</h2>"),i.push('<div class="row">'),d.content&&(i.push('<div class="col-lg-10 col-sm-12">'),d.sender&&i.push('<h4 class="fade-in block-v-sm">'+(null==(e=d.sender)?"":e)+"</h4>"),i.push('<div class="message message--question chat-msg quote quote-dk pull-left"><div class="quote-content"><div class="chat-msg-elli"><span class="bullet delay-1">&bullet;</span><span class="bullet delay-2">&bullet;</span><span class="bullet delay-3">&bullet;</span></div><div class="chat-msg-text">'+(null==(e=d.content)?"":e)+"</div></div></div></div>")),d.responder&&i.push('<div class="col-sm-12 block-v-sm text-right chat-responder delay-4"><h4>'+(null==(e=d.responder)?"":e)+"</h4></div>"),i.push('<div class="col-md-10 col-md-offset-2 col-sm-12">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];i.push("<div"+jade.attr("data-id",r.id,!0,!1)+jade.cls(["message","message--answer","chat-msg","quote","quote-lt","pull-right","text-right","selectable",["delay-"+r.delay,r.isCorrect?"correct":"incorrect"].join(" ")],[null,null,null,null,null,null,null,null,!0])+'><div class="quote-content">'+(null==(e=r.text)?"":e)+"</div></div>")}else{var s=0;for(var o in n){s++;var r=n[o];i.push("<div"+jade.attr("data-id",r.id,!0,!1)+jade.cls(["message","message--answer","chat-msg","quote","quote-lt","pull-right","text-right","selectable",["delay-"+r.delay,r.isCorrect?"correct":"incorrect"].join(" ")],[null,null,null,null,null,null,null,null,!0])+'><div class="quote-content">'+(null==(e=r.text)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"allAnswers"in n?n.allAnswers:"undefined"!=typeof allAnswers?allAnswers:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"message"in n?n.message:"undefined"!=typeof message?message:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/chat/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/base/game"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .selectable":"selectAnswer","iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e,n,o,s;return e=i.__super__.serialize.apply(this,arguments),t=(null!=(n=e.metadata)&&null!=(o=n.questions)&&null!=(s=o[0])?s.answers:void 0)||[],e.allAnswers=_.shuffle(t).map(function(t,e){return{id:t.id,text:typogr.typogrify(t.content.toString()||""),isCorrect:t.correct,delay:6+2*e}}),e},i.prototype.onRefresh=function(){return i.__super__.onRefresh.apply(this,arguments),this.resetChat(!0)},i.prototype.resetChat=function(t){var e,i,n,o,s,r;if(this.setState("prompt"),this.setState(!1,"show-msg"),e=t?0:this.options.data.message.content?1e3:300,(null!=(s=this.options.data.game)?s.timer.limit:void 0)>0)for(r=this.getEl("answers"),n=0,o=r.length;n<o;n++)i=r[n],i.classList.add("no-delay");return t&&this.getEl("chatElli").classList.add("hide"),window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(t){return function(){return t.setState(!0,"show-msg"),t.getEl("chatElli").classList.remove("hide")}}(this),e)},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.setEl(this.findAll(".selectable"),"answers"),this.setEl(this.findOne(".chat-msg-elli"),"chatElli"),this.resetChat(),this.enterGame()},i.prototype.hide=function(){return this.setState(!1,"show-msg"),i.__super__.hide.apply(this,arguments)},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.selectAnswer=function(t){var e,i,n,o,s,r;if("complete"!==this.currentState.state){for(o=this.getEl("answers"),i=0,n=o.length;i<n;i++)e=o[i],e.classList.remove("active"),this.transform(e,{scale:1});return s=t.currentTarget,r=s.offsetWidth,s.classList.add("active","no-delay"),this.transform(s,{scale:1+16/r}),this.setEl(s,"selected"),this.setState("touched")}},i.prototype.answerDetails=function(){var t,e,i,n,o,s;return n=(null!=(o=this.options.metadata)?o.questions:void 0)||[],n.length>0?(i=n[0],e=null!=(s=this.getEl("selected"))?s.dataset.id:void 0,t={answer:_.find(i.answers,{id:e}),question:i.question},[t]):[]},i.prototype.isCorrect=function(){var t,e;return null!=(t=null!=(e=this.getEl("selected"))?e.classList.contains("correct"):void 0)&&t},i.prototype.screenshot=function(){return this.setState(!0,"show-msg"),i.__super__.screenshot.apply(this,arguments)},i}(o),i.exports=n}),require.register("engine/circle-the-answer/model.yaml",function(t,e,i){i.exports={title:"circle-the-answer",display:"Circle the answer",description:"Show answers in a list",category:"Multiple Choice",features:{stars:!0,social:!0},model:{title:{types:["text","image","video","audio"],"default":""},answers:{correct:{display:"Correct Answer",type:"html"},incorrect:{display:"Incorrect Answers",type:[{type:"html"}],min:1,max:3}},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Circle the correct answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"circle-the-answer",title:"Ed makes learning fun with a massive range of engaging templates",titleType:"text",answers:{correct:"That’s right!",incorrect:["Yes, I suppose so...","I'm not sure"]}}]}}),require.register("engine/circle-the-answer/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,o,r){this&&this.block,this&&this.attributes||{};p=p||!0,n=n||!0,o=o||"video vjs-fluid";var a=s.CLOUDINARY_CDN_URL+s.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",s.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",s.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[o].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[o])?"":e)+"</span>")}},l&&l.timer&&l.timer.limit>0&&!l.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="full-screen circle-canvas-container"><canvas class="circle-canvas"></canvas></div><div class="block-v-lg content-fill content-fit circle-boxes"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><h1 class="fade-in text-lg-right text-md-center text-sm-center">'),n["multi-content"]("title"),i.push('</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md text-center">'),function(){var t=o;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var r=t[n];i.push("<div"+jade.attr("data-correct",r.isCorrect,!0,!1)+jade.attr("data-answer-id",r.id,!0,!1)+jade.cls(["circle-box","slide-up","text-md",["delay-"+r.delay,r.isCorrect?"correct":"incorrect"].join(" ")],[null,null,null,!0])+'><div class="block-lg circle-box-text">'+(null==(e=r.text)?"":e)+"</div></div>")}else{var s=0;for(var n in t){s++;var r=t[n];i.push("<div"+jade.attr("data-correct",r.isCorrect,!0,!1)+jade.attr("data-answer-id",r.id,!0,!1)+jade.cls(["circle-box","slide-up","text-md",["delay-"+r.delay,r.isCorrect?"correct":"incorrect"].join(" ")],[null,null,null,!0])+'><div class="block-lg circle-box-text">'+(null==(e=r.text)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),u?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=a||c("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=r||a||c("buttons.continue"))?"":e)+"</div></div>"),d&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"allAnswers"in o?o.allAnswers:"undefined"!=typeof allAnswers?allAnswers:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/circle-the-answer/view.coffee",function(t,e,i){var n,o,s,r,a,l,d,u=function(t,e){function i(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c={}.hasOwnProperty;s=e("views/base/game"),o=e("views/components/draggy").DraggyView,r=e("lib/draw/smooth-line"),d=e("lib/easie"),a=e("lib/animate"),l=e("lib/device").dpi,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e,n,o,s,r;return n=i.__super__.serialize.apply(this,arguments),t=(null!=(o=n.metadata)&&null!=(s=o.questions)&&null!=(r=s[0])?r.answers:void 0)||[],e=t.map(function(t,e){return{id:t.id,text:typogr.typogrify(t.content.toString()||""),isCorrect:t.correct,delay:4+2*e}}),n.allAnswers=_.shuffle(e),n},i.prototype.show=function(){var t,e,n,s,r,a;for(i.__super__.show.apply(this,arguments),this.setEl(this.findAll(".circle-box"),"boxes"),this.draggy=new o({el:this.findOne("canvas"),isParent:!0}),this.context=("function"==typeof(t=this.draggy.el).getContext?t.getContext("2d"):void 0)||{},this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),this.onResize(),"function"==typeof(e=this.context).clearRect&&e.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),a=this.getEl("boxes"),s=0,r=a.length;s<r;s++)n=a[s],n.classList.remove("active","complete");return this.enterGame()},i.prototype.onResize=function(){var t,e;if(t=null!=(e=this.draggy)?e.el:void 0)return t.width=this.el.firstChild.offsetWidth*l,t.height=this.el.firstChild.offsetHeight*l},i.prototype.onDrag=function(t,e){var i,n,o,s,a,d,u,c,p,h;if(window.clearTimeout(this.timeout),a=this.getBounds(this.el.firstChild),o=a.left,h=a.top,e)for(null!=(d=this.line)&&null!=(u=d.animation)&&u.cancel(),null!=(c=this.animation)&&c.cancel(),this.context.lineCap="round",this.context.globalAlpha=1,this.line=new r([],window.getComputedStyle(this.el).color,4*l),this.activeBox=null,p=this.getEl("boxes"),n=0,s=p.length;n<s;n++)i=p[n],i.classList.remove("active");return this.addPoint(t)},i.prototype.onDrop=function(){return this.findAnswer(this.line.getPoints()),this.activeBox?this.setState("touched"):this.setState("prompt")},i.prototype.addPoint=function(t){var e,i;return e=t.x,i=t.y,this.line.add({x:e*l,y:i*l}),this.drawLines()},i.prototype.drawLines=function(){return this.draggy.el.offsetHeight,this.context.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),this.context.beginPath(),this.line.draw(this.context)},i.prototype.getClosestBox=function(t,e){var i;return i={x:-this.draggy.offset.left,y:-this.draggy.offset.top},_.sortBy(this.getEl("boxes"),function(n){return function(o){var s,r,a;return s=n.getBounds(o,i),r=s.left+s.width/2-t/l,a=s.top+s.height/2-e/l,Math.sqrt(r*r+a*a)}}(this))[0]},i.prototype.getDistance=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,Math.sqrt(Math.pow(i,2)+Math.pow(n,2))},i.prototype.findAnswer=function(t){var e,i,n,o,s,r,a,d,u,c,p,h,f,m,v,g,y,b,x,w,k,D;for(m=v=Infinity,h=f=-Infinity,c=0,p=t.length;c<p;c++)b=t[c],k=b.x,D=b.y,k<m&&(m=k),k>h&&(h=k),D<v&&(v=D),D>f&&(f=D);return o=80,s=_.average(_.pluck(t,"x")),r=_.average(_.pluck(t,"y")),y=((h-m)/2+(f-v)/2)/2,a=this.getClosestBox(s,r),g={x:-this.draggy.offset.left,y:-this.draggy.offset.top},e=this.getBounds(a,g),i=e.left+e.width/2,n=e.top+e.height/2,d=this.getDistance(t[0],_.last(t))<250,u=i*l>m-o&&i*l<h+o&&n*l>v-o&&n*l<f+o,this.activeBox=d&&u?a:void 0,null!=(x=this.activeBox)&&x.classList.add("active"),w=d?u?"on":"off":"line",this.animateAnswer(w,s,r,y)},i.prototype.animateAnswer=function(t,e,i,n){var o,s,r;switch(t){case"line":this.line.erase(this.context,function(t){return function(){return t.context.clearRect(0,0,t.draggy.el.width,t.draggy.el.height)}}(this));break;case"on":s=1e3,this.context.fillStyle=window.getComputedStyle(this.el).color,o=function(t){return function(o){var s;return s=d.elasticInOut(o+1,0,1.25,2,1.25,1.25),t.context.arc(e,i,n*s,0,2*Math.PI),t.context.fill()}}(this);break;case"off":s=1e3,o=function(t){return function(o){var s;return s=d.elasticIn(1-o,.8,.2,1,.5),t.context.arc(e,i,n*s,0,2*Math.PI),t.context.stroke()}}(this)}if(o)return r=function(t){return function(e){return t.context.clearRect(0,0,t.draggy.el.width,t.draggy.el.height),t.context.beginPath(),t.context.globalAlpha=1-e,o(e)}}(this),this.animation=a(r,s)},i.prototype.isCorrect=function(){var t;return null!=(null!=(t=this.activeBox)?t.dataset.correct:void 0)},i.prototype.isMatch=function(t,e){var i,n,o,s;return n=this.options.data.pairs[+t.dataset.index].right,s=this.options.data.pairs[+e.dataset.index].right,i=this.options.data.pairs[+t.dataset.index].left,o=this.options.data.pairs[+e.dataset.index].left,n===s||i===o},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.answerDetails=function(){var t,e,i,n,o;return n=(null!=(o=this.options.metadata)?o.questions:void 0)||[],n.length>0?(i=n[0],e=this.$(this.activeBox).data("answer-id"),t={answer:_.find(i.answers,{id:e}),question:i.question},[t]):[]},i}(s),i.exports=n}),require.register("engine/comparison/model.yaml",function(t,e,i){i.exports={title:"comparison",display:"Comparison",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},before:{content:{types:["text","image"]},label:{type:"text"}},after:{content:{types:["text","image"]},label:{type:"text"}},startPosition:{type:"select","enum":["Before - Start with the first section visible","Middle - Show the content equally divided","After - The second section is shown first"],"default":"Middle - Show the content equally divided",display:"Start Position"},prompt:{type:"html","default":"Drag to compare the content"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"compare-two",title:"Product X vs. Product Y",templateDescription:"Compare two images",before:{content:"img/examples/product-phone.png",contentType:"image",label:"**Product X**\n\nBrilliant. In every way.\n"},after:{content:"img/examples/product-laptop.png",contentType:"image",label:"**Product Y**\n\nMore power. More performance.\n"},startPosition:"Middle - Show the content equally divided"},{subtype:"reveal-further-information",title:"Product X",templateDescription:"Compare two text blocks",before:{content:"## Brilliant in every way\n",contentType:"text"},after:{content:"Our brilliant new sleek design allows the user to have unparalleled  comfort when using the device\n",contentType:"text"},startPosition:"Before - Start with the first section visible",prompt:"Drag to reveal the content"}]}}),require.register("engine/comparison/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v){n["video-stream"]=e=function(t,e,n,o,s){this&&this.block,this&&this.attributes||{};p=p||!0,n=n||!0,o=o||"video vjs-fluid";var a=r.CLOUDINARY_CDN_URL+r.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",r.direction,!0,!1)+jade.attr("poster",s,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,s){this&&this.block,this&&this.attributes||{};switch(s=s||t,s[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(s[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](s[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",s[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",r.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=s[o].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=s[o])?"":e)+"</span>")}},i.push('<div class="content-fit content-fill"><div class="content-sm-ver content-md-fill text-center block-v-lg"><div class="row content-md-fill">'),m&&i.push('<div class="col-sm-12 col-md-6 content-md-ver"><div class="block-v-md slider-title"><h1 class="slide-down">'+(null==(e=m)?"":e)+"</h1></div></div>"),i.push("<div"+jade.cls(["col-sm-12","content-md-ver","block-v-md",m?"col-md-6":"col-md-8 col-md-offset-2"],[null,null,null,!0])+'><div class="fade-in delay-3 slider-wrapper"><div class="slider"><div class="slider-knob"></div><div class="slider-items">'),function(){var t=[s,o];if("number"==typeof t.length)for(var e=0,r=t.length;e<r;e++){var a=t[e];i.push("<div"+jade.cls(["slider-item","content-fill","slider-item-"+e],[null,null,!0])+'><div class="slider-content content-fill">'),n["multi-content"]("content",a),i.push("</div></div>")}else{var r=0;for(var e in t){r++;var a=t[e];i.push("<div"+jade.cls(["slider-item","content-fill","slider-item-"+e],[null,null,!0])+'><div class="slider-content content-fill">'),n["multi-content"]("content",a),i.push("</div></div>")}}}.call(this),i.push('</div></div></div><div class="slider-labels text-md"><div class="slider-label slider-label-before">'+(null==(e=s.label)?"":e)+'</div><div class="slider-label slider-label-after">'+(null==(e=o.label)?"":e)+"</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),u?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=l||c("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=a||l||c("buttons.continue"))?"":e)+"</div></div>"),d&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"after"in o?o.after:"undefined"!=typeof after?after:void 0,"before"in o?o.before:"undefined"!=typeof before?before:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/comparison/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;a=e("views/slide"),s=e("views/components/draggy").DraggyView,r=e("lib/preload"),o=e("lib/device"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit",fittextend:"onFitTextEnd"},i.prototype.show=function(){return this.createDraggy(),this.slideToStart(),this.trigger("resize")},i.prototype.getStartPosition=function(){var t;return(null!=(t=this.options.data.startPosition)&&"function"==typeof t.split?t.split(" ")[0].toLowerCase():void 0)||"middle"},i.prototype.slideToStart=function(){var t;return t=function(){switch(this.getStartPosition()){case"before":return 1;case"after":return 0;default:return.5}}.call(this),window.setTimeout(function(e){return function(){var i;return null!=(i=e.draggy)?i.reset({x:e.draggy.offset.width*t}):void 0}}(this),1)},i.prototype.beforeShow=function(){var t,e;if(t=this.findAll("img"),this.setEl(this.findOne(".slider-wrapper"),"slider-wrapper"),this.setEl(this.findOne(".slider"),"slider"),this.setEl(this.findOne(".slider-knob"),"knob"),this.setEl(this.findAll(".slider-item"),"items"),this.setEl(this.findOne(".slider-title"),"title"),this.setEl(this.findOne(".slider-labels"),"labels"),null!=(e=this.draggy)&&e.undelegateEvents(),this.draggy=null,delete this.draggy,t.length>0?r.load(_.pluck(t,"src"),function(t){return function(){return t.sizeContent()}}(this)):this.sizeContent(),0===this.options.name)return window.setTimeout(function(t){return function(){return t.fitText(),t.show()}}(this),400)},i.prototype.refresh=function(t){var e;return e=_.isEqual(t.data.before,this.options.data.before)?_.isEqual(t.data.after,this.options.data.after)?void 0:.25:.75,i.__super__.refresh.apply(this,arguments),this.beforeShow(),e?(this.createDraggy(),this.draggy.reset({x:this.draggy.offset.width*e}),this.onDrag(this.draggy,!1,1,!0)):this.show()},i.prototype.onRefresh=function(){},i.prototype.onFitTextEnd=function(){return this.sizeContent(!0)},i.prototype.createDraggy=function(){var t;return this.draggy&&this.draggy.undelegateEvents(),t=this.getEl("slider").offsetWidth,this.draggy=new s({el:this.getEl("slider"),minX:0,maxX:t,lock:"y",isParent:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop)},i.prototype.onDrag=function(t,e,i,n){var o,s,r,a,l,d,u,c,p,h,f;for(null==i&&(i=1.1),null==n&&(n=!1),h=e?"all 300ms":"",this.transform(this.getEl("knob"),{x:Math.round(t.x),scale:i,transition:h}),f=Math.round(Math.max(Math.min(t.x,t.offset.width),0)),this.draggy&&t.x!==t.offset.width/2?(c=f>t.offset.width/2?"before":"after",this.setState(c,"side"),this.transform(this.getEl("slider-wrapper"),{y:0,transition:"500ms"}),this.transform(this.getEl("title"),{y:0,transition:"500ms"})):this.setState(!1,"side"),n?(p=this.getEl("labels"),p.classList.add("initialized")):this.setState("touched"),l=this.getEl("items"),d=[],s=r=0,a=l.length;r<a;s=++r)o=l[s],u=0===s?t.offset.width+.5:-.5,this.transform(o,{x:f-u,transition:h}),d.push(this.transform(o.firstChild,{x:u-f,transition:h}));return d},i.prototype.onDrop=function(t,e){
return e?this.onDrag(t,!0,1,!0):this.onDrag(t,!0,1,!1)},i.prototype.sizeContent=function(){var t,e,i,n,s,r,a;return this.setState(!1,"sized"),t=this.findAll(".multi-content-wrapper, .multi-content-text"),n=this.findOne(".slider-labels"),this.getEl("slider").style.height="",this.getEl("slider").style.width="",e=parseFloat(window.getComputedStyle(this.getEl("slider")).fontSize),i=_.reduce(n.children,function(t,e){return Math.max(t,e.offsetHeight)},0),n.style.height=i/e+"em",s=_.reduce(t,function(t,e){return{h:Math.max(t.h,e.offsetHeight),w:Math.max(t.w,e.offsetWidth)}},{h:80,w:0}),this.getEl("slider").style.height=s.h/e+"em",this.getEl("slider").style.width=s.w/e+"em",this.setState(!0,"sized"),a=(i+1.2*e)/2,this.transform(this.getEl("slider-wrapper"),{y:a}),o.breakpoint(["md","lg"])||this.transform(this.getEl("title"),{y:a}),this.draggy?(this.draggy.options.maxX=s.w,this.draggy.getOffset(),this.onDrag(this.draggy,!1,1,!0)):(r=function(){switch(this.getStartPosition()){case"before":return 0;case"after":return 1;default:return.5}}.call(this),this.onDrag({x:s.w*r,offset:{width:s.w}},!1,1,!0))},i}(a),i.exports=n}),require.register("engine/connect/model.yaml",function(t,e,i){i.exports={title:"connect",display:"Connect",description:"Connect pairs of text or images",category:"Relationships",features:{stars:!0,social:!0},model:{title:{types:["text","image","video","audio"],"default":""},pairs:{min:2,max:4,type:[{left:{types:["text","image"]},right:{types:["text","image"]}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Draw a line between each pair"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"connect-three",title:"Match the products with their attributes",titleType:"text",pairs:[{left:"Product X",right:"The first product"},{left:"Product Y",right:"The second one"},{left:"Product Z",right:"The last product"}]}]}}),require.register("engine/connect/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};p=p||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="full-screen connect-canvas-container"><canvas class="connect-canvas"></canvas></div><div class="content-fill"><div class="content-fit connect-boxes content-md-fill content-sm-ver block-v-lg"><div class="content-md-ver text-center"><h1 class="fade-in">'),n["multi-content"]("title"),i.push("</h1>"),function(){var t=c;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push('<div class="row"><div'+jade.cls(["block-v-sm","col-sm-6","col-lg-5","col-lg-offset-1","slide-right","delay-"+(e+4)],[null,null,null,null,null,!0])+"><div"+jade.attr("data-index",s.index,!0,!1)+' data-type="left"'+jade.attr("data-question-id",s.id,!0,!1)+' class="connect-box block-md block-dk">'),n["multi-content"]("content",s),i.push("</div></div><div"+jade.cls(["block-v-sm","col-sm-6","col-lg-5","slide-left","delay-"+(e+4)],[null,null,null,null,!0])+"><div"+jade.attr("data-index",f[s.index].index,!0,!1)+' data-type="right"'+jade.attr("data-answer-ids",f[s.index].ids,!0,!1)+' class="connect-box block-md block-dk">'),n["multi-content"]("content",f[s.index]),i.push("</div></div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push('<div class="row"><div'+jade.cls(["block-v-sm","col-sm-6","col-lg-5","col-lg-offset-1","slide-right","delay-"+(e+4)],[null,null,null,null,null,!0])+"><div"+jade.attr("data-index",s.index,!0,!1)+' data-type="left"'+jade.attr("data-question-id",s.id,!0,!1)+' class="connect-box block-md block-dk">'),n["multi-content"]("content",s),i.push("</div></div><div"+jade.cls(["block-v-sm","col-sm-6","col-lg-5","slide-left","delay-"+(e+4)],[null,null,null,null,!0])+"><div"+jade.attr("data-index",f[s.index].index,!0,!1)+' data-type="right"'+jade.attr("data-answer-ids",f[s.index].ids,!0,!1)+' class="connect-box block-md block-dk">'),n["multi-content"]("content",f[s.index]),i.push("</div></div></div>")}}}.call(this),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",m?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"leftItems"in o?o.leftItems:"undefined"!=typeof leftItems?leftItems:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"rightItems"in o?o.rightItems:"undefined"!=typeof rightItems?rightItems:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/connect/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};s=e("views/base/game"),o=e("views/components/draggy").DraggyView,a=e("lib/draw/smooth-line"),r=e("lib/preload"),l=e("lib/device").dpi,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.events=function(){return{"iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e;return e=i.__super__.serialize.call(this),e.pairs=_.chain(this.options.metadata.questions).map(function(t){var e,i;return i=t.question,e=t.answers,i.id=i.id||i.questionId,e=_.each(e,function(t){return t.id=t.id||t.answerId}),{left:i,right:_.find(e,"correct")}}).filter(function(t){var e,i;return e=t.left,i=t.right,e&&i}).value(),t=_.chain(this.options.metadata.questions).map(function(t){var e;return e=t.answers}).flatten().groupBy(function(t){return t.content}).mapObject(function(t){return _.pluck(t,"id")}).value(),e.leftItems=_.chain(e.pairs).pluck("left").map(function(t,e){var i,n,o;return i=t.content,o=t.type,n=t.id,{content:i,contentType:o,index:e,id:n}}).shuffle().value(),e.rightItems=_.chain(e.pairs).pluck("right").map(function(e,i){var n,o;return n=e.content,o=e.type,{content:n,contentType:o,index:i,ids:t[n]}}).shuffle().value(),e},i.prototype.show=function(){var t,e,n,s,r,a;for(i.__super__.show.apply(this,arguments),this.setEl(this.findAll(".connect-box"),"boxes"),this.draggy=new o({el:this.findOne("canvas"),isParent:!0}),this.context=("function"==typeof(t=this.draggy.el).getContext?t.getContext("2d"):void 0)||{},this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),this.onResize(),this.pairs=[],"function"==typeof(e=this.context).clearRect&&e.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),a=this.getEl("boxes"),s=0,r=a.length;s<r;s++)n=a[s],n.classList.remove("active","complete");return this.enterGame()},i.prototype.onRefresh=function(){var t,e,n,o,s;for(i.__super__.onRefresh.apply(this,arguments),o=this.getEl("boxes")||[],s=[],e=0,n=o.length;e<n;e++)t=o[e],t.style.height="",s.push(t.offsetHeight);return s},i.prototype.onResize=function(t){var e,i,n,o,s,a,d;for(null!=(s=this.findOne(".content-fit"))&&(s.style.fontSize=""),a=this.getEl("boxes"),n=0,o=a.length;n<o;n++)e=a[n],e.style.height="";return(null!=(d=this.currentState)?d.refresh:void 0)||this.el.classList.remove("active"),i=this.findAll("img"),r.load(_.pluck(i,"src"),function(t){return function(i){var n,o,s,r,a,d;for(null==i&&(i=[]),n=parseInt(window.getComputedStyle(t.el).fontSize),o=_.reduce(t.getEl("boxes"),function(t,e){return e.offsetHeight>t?e.offsetHeight:t},0),a=t.getEl("boxes"),s=0,r=a.length;s<r;s++)e=a[s],e.style.height=o/n+"em",e.classList.remove("active");return(e=null!=(d=t.draggy)?d.el:void 0)&&(e.width=t.el.firstChild.offsetWidth*l,e.height=t.el.firstChild.offsetHeight*l),t.fitText(function(){return window.setTimeout(function(){return t.el.classList.add("active")},300)})}}(this))},i.prototype.onDrag=function(t,e){var i,n,o,s,r,d,u,c,p,h,f,m,v,g,y;if(window.clearTimeout(this.timeout),h=this.getBounds(this.el.firstChild),u=h.left,y=h.top,e)for(null!=(f=this.line)&&null!=(m=f.animation)&&m.cancel(),this.context.lineCap="round",this.context.globalAlpha=1,this.line=new a([],window.getComputedStyle(this.el).color,4*l),this.activeBox=null,v=this.getEl("boxes"),o=r=0,c=v.length;r<c;o=++r)n=v[o],i=this.getBounds(n,{x:-u,y:-y}),s=t.isWithin(i,0),n.classList.toggle("active",s),s&&(n.classList.remove("complete"),this.activeBox=n,this.removeActivePairs(n));else if(this.activeBox)for(g=this.getEl("boxes"),d=0,p=g.length;d<p;d++)n=g[d],n!==this.activeBox&&n.dataset.type!==this.activeBox.dataset.type&&(i=this.getBounds(n,{x:-u,y:-y}),s=t.isWithin(i,0),n.classList.toggle("active",s));return this.addPoint(t)},i.prototype.onDrop=function(){var t,e,i,n,o,s,r;if(t=function(){var t,i,n,o;for(n=this.getEl("boxes"),o=[],t=0,i=n.length;t<i;t++)e=n[t],e.classList.contains("active")&&o.push(e);return o}.call(this),2===t.length){for(n=0,s=t.length;n<s;n++)i=t[n],i.classList.add("complete"),this.removeActivePairs(i);this.pairs.push({active:t,line:new a(this.line.getPoints(),"rgba(0,0,0,.25)",8*l)})}for(o=0,r=t.length;o<r;o++)i=t[o],i.classList.remove("active");return this.line.erase(this.context,function(t){return function(){var e,i,n,o,s;for(t.context.clearRect(0,0,t.draggy.el.width,t.draggy.el.height),t.context.globalAlpha=1,o=t.pairs,s=[],e=0,i=o.length;e<i;e++)n=o[e].line,s.push(n.draw(t.context));return s}}(this)),this.pairs.length===this.options.data.pairs.length?this.setState("touched"):this.setState("prompt")},i.prototype.removeActivePairs=function(t){var e,i,n,o,s,r;for(s=this.pairs,r=[],i=0,n=s.length;i<n;i++)o=s[i],_.include(o.active,t)?(this.pairs=_.without(this.pairs,o),r.push(function(){var i,n,s,r;for(s=o.active,r=[],i=0,n=s.length;i<n;i++)e=s[i],e!==t&&r.push(e.classList.remove("complete"));return r}())):r.push(void 0);return r},i.prototype.addPoint=function(t){var e,i;return e=t.x,i=t.y,this.line.add({x:e*l,y:i*l}),this.drawLines()},i.prototype.drawLines=function(){var t,e,i,n;for(this.draggy.el.offsetHeight,this.context.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),n=this.pairs,t=0,e=n.length;t<e;t++)i=n[t].line,i.draw(this.context);return this.line.draw(this.context)},i.prototype.showAnswer=function(){var t,e,i,n,o,s,r,a;for(o=this.pairs,r=[],e=0,n=o.length;e<n;e++)s=o[e].active,i=s[0],a=s[1],t=!this.isMatch(i,a),i.classList.toggle("incorrect",t),r.push(a.classList.toggle("incorrect",t));return r},i.prototype.isCorrect=function(){var t;return t=_.filter(this.pairs,function(t){return function(e){var i,n,o;return n=e.active,i=n[0],o=n[1],t.isMatch(i,o)}}(this)),t.length===this.options.data.pairs.length},i.prototype.getQuestionAnswerFromInput=function(t){return function(e){var i,n,o,s,r,a,l,d;return a=_.indexBy(t,function(t){var e;return e=t.question,e.id}),r=null!=(l=_.find(e,function(t){return t.dataset.questionId}).dataset)?l.questionId:void 0,n=JSON.parse(_.find(e,function(t){return t.dataset.answerIds}).dataset.answerIds),d=a[r],s=d.question,o=d.answers,i=_.find(o,function(t){var e;return e=t.id,c.call(n,e)>=0}),{question:s,answer:i}}},i.prototype.isMatch=function(t,e){var i,n;return i=this.getQuestionAnswerFromInput(null!=(n=this.options.metadata)?n.questions:void 0)([t,e]).answer,null!=i?i.correct:void 0},i.prototype.answerDetails=function(){var t,e,i;return e=(null!=(i=this.options.metadata)?i.questions:void 0)||[],e.length>0?(t=this.getQuestionAnswerFromInput(e),_.chain(this.pairs).map(function(e){return function(e){var i;return i=e.active,t(i)}}(this)).filter(function(t){var e,i;return i=t.question,e=t.answer,i&&e}).value()):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(s),i.exports=n}),require.register("engine/construct-sentence/model.yaml",function(t,e,i){i.exports={title:"construct-sentence",display:"Sentence builder",description:"Build a sentence with the words",category:"Concepts",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Select the missing words in this sentence"},decoys:{min:0,max:3,type:[{type:"html","default":""}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag the words into order"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"construct-sentence",title:"Fill in the important information about Product X",decoys:["Y"],answer:{text:"Reinforce concepts by constructing the sentence in order."}}]}}),require.register("engine/construct-sentence/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c){o&&o.timer&&o.timer.limit>0&&!o.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-fit text-center block-v-md content-ver"><div class="row fade-in"><div class="col-lg-10 col-lg-offset-1 col-sm-12"><div class="block-v-md block-box-sizing"><div class="block-dk content-fill block-sm"><div class="droppy-container content-fill"><div class="droppy-placeholder block-sm"><div class="block-dk content-fill"></div></div></div></div></div><div class="block-v-md block-box-sizing"><div class="draggy-container block-dk content-fill block-sm">'),function(){var t=c;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("data-word",s.word,!0,!1)+jade.attr("data-index",s.index,!0,!1)+' class="draggy block-sm block-inline"><div'+jade.cls(["btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,!0])+">"+(null==(e=s.word)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("data-word",s.word,!0,!1)+jade.attr("data-index",s.index,!0,!1)+' class="draggy block-sm block-inline"><div'+jade.cls(["btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,!0])+">"+(null==(e=s.word)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in n?n.undefined:void 0,"words"in n?n.words:"undefined"!=typeof words?words:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/construct-sentence/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=e("views/base/game"),o=e("views/components/draggy").DraggyView,r=e("lib/convert"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnRender=!1,i.prototype.fitTextOnResize=!1,i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),null!=this.orderedDraggy?this.orderedDraggy:this.orderedDraggy=[]},i.prototype.serialize=function(){var t,e,n,o,s,a;return t=i.__super__.serialize.call(this),s=t.title,e=t.decoys,s=r.toText(s),this.words=s.trim().split(" "),null==e&&(e=[]),t.words=function(){var t,e,i,o;for(i=this.words,o=[],n=t=0,e=i.length;t<e;n=++t)a=i[n],o.push({word:a,index:n});return o}.call(this),t.words=(o=t.words).concat.apply(o,function(){var t,i,n;for(n=[],t=0,i=e.length;t<i;t++)a=e[t],n.push({word:a,index:-1});return n}()),t.words=_.shuffle(t.words),t},i.prototype.beforeShow=function(){return this.sizeDroppyContainer()},i.prototype.show=function(){return i.__super__.show.call(this),this.el.classList.remove("active"),this.fitText(function(t){return function(){var e,i,n,s;return i=t.findOne(".draggy-container"),t.draggies=function(){var t,i,r,a;for(r=this.findAll(".draggy"),a=[],s=t=0,i=r.length;t<i;s=++t)n=r[s],e=new o({el:n}),this.listenTo(e,"drag",this.onDrag),this.listenTo(e,"drop",this.onDrop),a.push(e);return a}.call(t),t.resetDraggies(),t.listenTo(t,"resize",t.onResize),t.enterGame(),window.setTimeout(function(){return t.el.classList.add("active")},300)}}(this))},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.call(this)},i.prototype.onDrag=function(t,e){var i,n;return e&&(this.droppy.bounds=this.droppy.el.getBoundingClientRect(),t.el.className=t.el.className.replace(/delay-\d/,""),i=t.el.firstChild,this.droppy.placeholder.style.width=i.offsetWidth+"px",this.droppy.placeholder.style.height=i.offsetHeight+"px"),(n=t.isWithin(this.droppy.bounds,60))?(t.isPositioned=!0,this.droppy.el.classList.add("active"),this.droppy.placeholder.classList.add("active")):(t.isPositioned=!1,this.droppy.el.classList.remove("active"),this.droppy.placeholder.classList.remove("active")),this.transform(t.el,{x:t.x,y:t.y,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){return e||(this.droppy.placeholder.classList.remove("active"),this.setState("touched"),t.isPositioned?(this.orderedDraggy=this.draggiesInOrder(),this.rearrangeDraggies(this.orderedDraggy)):t.reset({x:0,y:0})),this.transform(t.el,{x:t.x,y:t.y,transition:"all 300ms"})},i.prototype.rearrangeDraggies=function(t,e){var i,n,o,s,r,a,l,d,u,c,p;for(u=this.droppy.bounds.width,r=0,a=0,d=[],n=o=0,s=t.length;o<s;n=++o)i=t[n],c=-i.offset.left+r+this.droppy.bounds.left,p=-i.offset.top+a+this.droppy.bounds.top,"rtl"===this.options.config().direction&&(c=-i.offset.right-r+this.droppy.bounds.right),i.x===c&&i.y===p||i===e||(i.setPosition({x:c,y:p}),this.transform(i.el,{x:c,y:p})),i===e&&(c=r,p=a,"rtl"===this.options.config().direction&&(c=u-c-this.droppy.placeholder.offsetWidth),this.transform(this.droppy.placeholder,{x:c,y:p})),r+=i.offset.width,r>=u-((null!=(l=t[n+1])?l.offset.width:void 0)||0)?(r=0,d.push(a+=i.offset.height)):d.push(void 0);return d},i.prototype.draggiesInOrder=function(){var t,e,i,n;return e=this.droppy.bounds,n=e.width,t=e.height,i=e.top,_.chain(this.draggies).where({isPositioned:!0}).groupBy(function(t){return Math.floor(Math.max(t.y+t.offset.top,i)/t.offset.height)}).map(function(t){return function(e,i){return e.sort(function(e,i){var n;return n="rtl"===t.options.config().direction?-1:1,(e.offset.left+(e.x+e.offset.width/2))*n-(i.offset.left+(i.x+i.offset.width/2))*n})}}(this)).flatten().value()},i.prototype.showAnswer=function(){var t,e,i,n,o,s,r,a;for(i=_.filter(this.draggies,function(t){return+(null!=t?t.el.dataset.index:void 0)<0}),t=_.clone(this.words),o=(r=_.chain(this.draggiesInOrder()).union(this.draggies)).without.apply(r,i).uniq().map(function(e,i){var n;return n=t.indexOf(e.el.dataset.word),t[n]=void 0,{draggy:e,index:n}}).sortBy("index").pluck("draggy").value(),this.rearrangeDraggies(o),a=[],n=0,s=i.length;n<s;n++)e=i[n],a.push(e.reset({x:0,y:0}));return a},i.prototype.onResize=function(){return window.setTimeout(function(t){return function(){return t.sizeDroppyContainer(),t.resetDraggies()}}(this),300)},i.prototype.sizeDroppyContainer=function(){var t,e;return t=this.findOne(".draggy-container"),e=this.findOne(".droppy-container"),e.style.height=this.el.parentElement.offsetHeight/2+"px",this.droppy={el:e,placeholder:this.findOne(".droppy-placeholder")}},i.prototype.resetDraggies=function(){var t,e,i,n;if(this.draggies&&this.droppy){for(this.droppy.bounds=this.droppy.el.getBoundingClientRect(),n=this.draggies,e=0,i=n.length;e<i;e++)t=n[e],t.getOffset();return this.rearrangeDraggies(this.orderedDraggy)}},i.prototype.isCorrect=function(){var t,e,i;return t=_.filter(this.draggies,function(t){return+(null!=t?t.el.dataset.index:void 0)>=0}),e=this.draggiesInOrder(),i=!1,e.length===t.length&&(i=this.words.every(function(t){return function(t,i){return t===e[i].el.dataset.word}}(this))),i},i.prototype.answerDetails=function(){var t,e,i,n,o;return n=this.options.metadata.questions||[],n.length>0?(o=_.map(this.draggiesInOrder(),function(t){return t.$el.text()}),i=this.isCorrect(),t=_.find(n[0].answers,function(t){return t.correct===i}),t.content=o.join(" "),e={question:n[0].question,answer:t},[e]):[]},i.prototype.endGame=function(){return i.__super__.endGame.call(this),this.submit()},i}(s),i.exports=n}),require.register("engine/construct/components/letters.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n){i.push('<div class="block-md block-dk">'),function(){var t=n;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push("<div"+jade.attr("data-letter",r.toLowerCase(),!0,!1)+' class="letter btn btn-solid">'+(null==(e=r)?"":e)+"</div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push("<div"+jade.attr("data-letter",r.toLowerCase(),!0,!1)+' class="letter btn btn-solid">'+(null==(e=r)?"":e)+"</div>")}}}.call(this),i.push("</div>")}.call(this,"undefined"in n?n.undefined:void 0,"word"in n?n.word:"undefined"!=typeof word?word:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/construct/model.yaml",function(t,e,i){i.exports={title:"construct",display:"Missing letters",description:"Fill the missing letters",category:"Concepts",features:{stars:!0,social:!0},model:{title:{type:"html","default":""},words:{min:1,max:8,type:[{type:"html"}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Fill the missing letters"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"construct-two-words",title:"Fill the missing letters in this sentence.",subtitle:"",prompt:"Fill the missing letters",words:["missing","this"]}]}}),require.register("engine/construct/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-md-fill content-sm-ver text-center content-fit"><div class="row content-md-ver"><div class="col-sm-12 col-md-10 col-md-offset-1 col-lg-12 col-lg-offset-0"><h1'+jade.cls(["statement","fade-in",c],[null,null,!0])+">"),function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];r.hidden?(i.push("<span"+jade.attr("data-word",r.word.replace(/[\s\.\,]/g,""),!0,!1)+' data-guess="" class="word-hidden">'),function(){var t=r.word;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];s.match(/[\s\.\,]/g)?i.push(jade.escape(null==(e=s)?"":e)):i.push("<span"+jade.attr("data-letter",s.toLowerCase(),!0,!1)+' class="blank hidden-letter"><span class="letter-inner">'+jade.escape(null==(e=s)?"":e)+"</span></span>")}else{var o=0;for(var n in t){o++;var s=t[n];s.match(/[\s\.\,]/g)?i.push(jade.escape(null==(e=s)?"":e)):i.push("<span"+jade.attr("data-letter",s.toLowerCase(),!0,!1)+' class="blank hidden-letter"><span class="letter-inner">'+jade.escape(null==(e=s)?"":e)+"</span></span>")}}}.call(this),i.push("</span>")):i.push("<span"+jade.cls(["word",r.klass],[null,!0])+">"+(null==(e=r.word)?"":e)+"</span>"),i.push(jade.escape(null==(e=" ")?"":e))}else{var s=0;for(var o in n){s++;var r=n[o];r.hidden?(i.push("<span"+jade.attr("data-word",r.word.replace(/[\s\.\,]/g,""),!0,!1)+' data-guess="" class="word-hidden">'),function(){var t=r.word;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];s.match(/[\s\.\,]/g)?i.push(jade.escape(null==(e=s)?"":e)):i.push("<span"+jade.attr("data-letter",s.toLowerCase(),!0,!1)+' class="blank hidden-letter"><span class="letter-inner">'+jade.escape(null==(e=s)?"":e)+"</span></span>")}else{var o=0;for(var n in t){o++;var s=t[n];s.match(/[\s\.\,]/g)?i.push(jade.escape(null==(e=s)?"":e)):i.push("<span"+jade.attr("data-letter",s.toLowerCase(),!0,!1)+' class="blank hidden-letter"><span class="letter-inner">'+jade.escape(null==(e=s)?"":e)+"</span></span>")}}}.call(this),i.push("</span>")):i.push("<span"+jade.cls(["word",r.klass],[null,!0])+">"+(null==(e=r.word)?"":e)+"</span>"),i.push(jade.escape(null==(e=" ")?"":e))}}}.call(this),i.push('</h1></div></div></div><div class="word-letters block-xl"></div></div><div'+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"components"in n?n.components:"undefined"!=typeof components?components:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"titleClass"in n?n.titleClass:"undefined"!=typeof titleClass?titleClass:void 0,"undefined"in n?n.undefined:void 0),
i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/construct/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;o=e("views/base/game"),s=e("lib/convert"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),a="0123456789".split(""),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.templates={letters:e("./components/letters")},i.prototype.events=function(){return{"iostap .letter":"onTapLetter","iostap .word-hidden":"activateWord","iostap .word-letters":"selectContainer","iostap .btn-done":"endGame",iostap:"deactivateWord"}},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.setEl(this.findOne(".word-letters"),"letters"),this.setEl(this.findOne(".statement"),"statement"),this.setEl(this.findAll(".word-hidden"),"words"),this.enterGame(),this.listenTo(this,"resize",this.onResize),this.listenTo(this,"keypress",this.onKeyPress)},i.prototype.onResize=function(){var t,e,i,n,o,s,r,a,l,d,u,c,p,h,f,m;for(u=this.findAll(".hyphen"),i=0,s=u.length;i<s;i++)t=u[i],t.parentNode.removeChild(t);for(e=function(){return t=document.createElement("span"),t.classList.add("hyphen"),t.innerHTML="-",t},f=this.getEl("statement").offsetWidth,c=this.getEl("words"),n=0,r=c.length;n<r;n++)m=c[n],m.classList.remove("break");for(p=this.getEl("words"),h=[],o=0,a=p.length;o<a;o++)m=p[o],m.offsetWidth>f&&(m.classList.add("break"),d=m.children[0].offsetTop,h.push(function(){var t,i,n,o;for(n=m.children,o=[],i=0,t=n.length;i<t;i++)l=n[i],l.offsetTop>d&&l.insertAdjacentElement("beforeBegin",e()),o.push(d=l.offsetTop);return o}()));return h},i.prototype.serialize=function(){var t,e,n,o,r,a,l,d,u,c,p;return e=i.__super__.serialize.apply(this,arguments),u=e.title,p=e.words,u=s.toText(u||""),o=_.filter(p,function(t){return""!==t}),p=function(){var t,e,i;for(i=[],r=t=0,e=o.length;t<e;r=++t)c=o[r],n=c.replace(/\W/g,function(t){return"\\"+t}),c=s.toText(c),d=new RegExp("([^A-Z]|^)"+n+"([^A-Z]|$)","i"),null!=u.match(d)?(u=u.replace(d," {{"+r+"}} "),i.push(c)):i.push(void 0);return i}(),l=u.length,e.titleClass=l>120?"text-lg":"",e.components=function(){var e,i,n,o,s;for(n=u.trim().split(" "),s=[],e=0,i=n.length;e<i;e++)t=n[e],a=+(null!=(o=t.match(/\{\{(\d+)\}\}/))?o[1]:void 0),s.push({klass:"delay-"+_.random(3)+" scale-"+_.sample(["down","up"]),word:t.replace(/\{\{(\d+)\}\}/,p[a]||""),hidden:null!=p[a]});return s}(),e},i.prototype.selectContainer=function(t){return t.stopImmediatePropagation()},i.prototype.deactivateWord=function(t){var e,i,n,o,s;if(e=this.getEl("active")){for(s=[e,e.querySelector(".active")],n=0,o=s.length;n<o;n++)i=s[n],null!=i&&i.classList.remove("active");return this.elements.active=null,this.getEl("letters").classList.remove("active"),window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(t){return function(){return t.transform(t.getEl("statement"),{y:0})}}(this),150)}},i.prototype.activateWord=function(t,e){var i,n,o,s;if(null!=t&&t.stopImmediatePropagation(),null==e&&(e=t.currentTarget),e!==this.getEl("active"))return this.deactivateWord(),this.setEl(e,"active"),e.classList.add("active"),this.activateNextLetter(e.dataset.guess.length),s=e.dataset.word.slice(e.dataset.guess.length),i=s.match(/^\d+$/)?a:s.match(/\w/)?r:s,n=s.split(""),i=_.sample(i,_.random(1,3)),o=_.shuffle(n.concat(i)),window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(t){return function(){var e;return t.getEl("letters").innerHTML=t.templates.letters({word:o}),e=t.getEl("letters").firstChild.offsetHeight/2,t.transform(t.getEl("statement"),{y:-e}),t.getEl("letters").classList.add("active")}}(this),300)},i.prototype.onKeyPress=function(t){var e,i,n,o,s;for(o=this.getEl("letters").querySelectorAll(".letter"),s=[],i=0,n=o.length;i<n;i++){if(e=o[i],!e.classList.contains("disabled")&&e.dataset.letter.toLowerCase()===t.key.toLowerCase()){this.selectLetter(t.key,e);break}s.push(void 0)}return s},i.prototype.onTapLetter=function(t){var e;return t.stopImmediatePropagation(),e=t.currentTarget,this.selectLetter(e.dataset.letter,e)},i.prototype.selectLetter=function(t,e){var i,n,o,s;return n=this.getEl("active").dataset.guess.length,i=this.getEl("active").querySelectorAll(".blank"),s=i.item(n),o=e.dataset.letter===s.dataset.letter,o&&(this.getEl("active").dataset.guess+=s.dataset.letter),e.dataset.letter.toLowerCase()===s.dataset.letter.toLowerCase()?(s.classList.add("visible"),e.classList.add("disabled"),this.activateNextLetter(n+1)):(e.classList.add("incorrect"),window.setTimeout(function(){return e.classList.remove("incorrect")},300)),this.getEl("active").dataset.guess.length===i.length&&(this.getEl("active").classList.add("disabled"),n=_.indexOf(this.getEl("words"),this.getEl("active"))+1,this.activateNextWord(n)),this.setState("touched")},i.prototype.activateNextWord=function(t){var e,i,n;return n=this.getEl("words"),e=n.item(t),i=function(t){return t.querySelectorAll(".visible").length<t.dataset.word.length},e&&i(e)?this.activateWord(null,e):(this.deactivateWord(),e=_.filter(n,i)[0],null!=e?this.activateWord(null,e):void 0)},i.prototype.activateNextLetter=function(t){var e,i,n,o,s,r,a;for(null==t&&(t=0),e=this.getEl("active").querySelectorAll(".blank"),r=e.item(t),a=[],n=o=0,s=e.length;o<s;n=++o)i=e[n],a.push(i.classList.toggle("active",t===n));return a},i.prototype.isCorrect=function(){var t,e;return t=this.findAll(".blank").length,e=this.findAll(".blank.visible").length,t===e},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a,l;if(a=this.options.metadata.questions||[],!(a.length>0))return[];for(e=[],l=this.$(".word-hidden"),i=this.isCorrect(),n=0,o=a.length;n<o;n++)s=a[n],t=_.find(s.answers,function(t){return t.correct===i}),t.content=this.$(l[a.indexOf(s)]).data("guess"),r={question:s.question,answer:t},e.push(r);return e},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=n}),require.register("engine/dial-distribution/model.yaml",function(t,e,i){i.exports={title:"dial-distribution",display:"Dial (Distribution)",description:"Select a single value",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},dial:{correct:{type:"number"},incorrect:{min:1,max:8,type:[{type:"number"}]},prefix:{type:"html","default":""},suffix:{type:"html","default":""}},distribution:{"enum":["Equal","Linear","Logarithmic"],"default":"Linear",type:"text",help:"Use distribution to determine how the numbers are positioned on the dial. “Equal” spreads the options out evenly regardless of their number value, whereas “Linear” and “Logarithmic” compute the distribution based on those scales. Linear works best for equidistant numbers, where Logarithmic is best for numbers which differ by an order of magnitude.\n"},overlap:{type:"boolean","default":!0,display:"Overlap Extremes",help:"Display the minimum and maximum values at the same position on the dial.\n"},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag to set the correct value"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"dial-distribution",title:"How much growth has Product X seen in the last sales cycle?",dial:{correct:37,incorrect:[0,19,7,53,100],prefix:"",suffix:"%"},answer:{text:"Product X saw a massive **37% increase in growth** during the last sales cycle\n"}}]}}),require.register("engine/dial-distribution/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fit block-v-xl content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-lg block-v-lg"><h1 class="text-lg-right text-center fade-in">'+(null==(e=p)?"":e)+'</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver text-center block-v-lg"><div'+jade.cls(["dial","scale-up",d?"dial-overlap":"dial-discreet"],[null,null,!0])+'><div class="dial-ring"></div><div class="dial-knob dial-knob-input"><div class="dial-knob-value dial-knob-input-value text-lg">'+(null==(e=l("dial.touch-to-rotate"))?"":e)+'</div></div><div class="dial-knob dial-knob-answer"><div class="dial-knob-value dial-knob-answer-value text-lg">'+(null==(e=n.prefix)?"":e)+(null==(e=n.correct)?"":e)+(null==(e=n.suffix)?"":e)+'</div></div><div class="dial-notches">'),function(){var t=f;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){t[e];i.push('<div class="dial-notch"></div>')}else{var n=0;for(var e in t){n++;t[e];i.push('<div class="dial-notch"></div>')}}}.call(this),i.push('</div><div class="dial-labels">'),function(){var t=f;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push('<div class="dial-label"><div class="dial-label-text">'+(null==(e=n.prefix)?"":e)+(null==(e=n.decimals?r.content.toFixed(n.decimals):r.content)?"":e)+(null==(e=n.suffix)?"":e)+"</div></div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push('<div class="dial-label"><div class="dial-label-text">'+(null==(e=n.prefix)?"":e)+(null==(e=n.decimals?r.content.toFixed(n.decimals):r.content)?"":e)+(null==(e=n.suffix)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"dial"in n?n.dial:"undefined"!=typeof dial?dial:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"overlap"in n?n.overlap:"undefined"!=typeof overlap?overlap:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0,"values"in n?n.values:"undefined"!=typeof values?values:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/dial-distribution/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=e("views/base/game"),r=e("lib/prefix"),o=e("views/components/draggy").DraggyView,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.values=_.chain(t.metadata.questions[0].answers).filter(function(t){return _.isNumber(t.content)}).map(function(t){return t.content=parseFloat(t.content)||0,t}).sort(function(t,e){return t.content-e.content}).value(),t},i.prototype.beforeShow=function(){return this.distribution=this.getDistribution(),this.setEl(this.findOne(".dial"),"dial"),this.setEl(this.findOne(".dial-knob-input"),"knob-input"),this.setEl(this.findOne(".dial-knob-input-value"),"knob-input-value"),this.setEl(this.findOne(".dial-knob-answer"),"knob-answer"),this.setEl(this.findOne(".dial-knob-answer-value"),"knob-answer-value"),this.setEl(this.findOne(".dial-knob-value"),"knob-value"),this.setEl(this.findAll(".dial-notch"),"notches"),this.setEl(this.findAll(".dial-label"),"labels"),this.rotateElements(this.getEl("notches")),this.rotateElements(this.getEl("labels"))},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.show=function(){var t;return i.__super__.show.apply(this,arguments),t=this.findOne(".content-fit"),this.draggy=new o({el:this.getEl("dial"),radius:this.getEl("dial").offsetWidth/2,isParent:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.enterGame()},i.prototype.rotateElements=function(t){var e,i,n,o,s,r;for(e="rtl"===this.options.config().direction?-1:1,r=[],n=o=0,s=t.length;o<s;n=++o)i=t[n],r.push(this.transform(i,{rotate:360*this.distribution[n]*e}));return r},i.prototype.getDistribution=function(){var t,e,i,n,o,s,r,a,l,d,u,c,p,h,f;for(c=this.serialize(),f=c.values,n=c.distribution,u=c.overlap,d=f[0].content,l=f[f.length-1].content,i=Math.abs(l-d),t=Math.log(i)*Math.log(i),o=u?1:1-1/f.length,p=[],s=r=0,a=f.length;r<a;s=++r)switch(h=f[s],n){case"Equal":p.push(o*s/(f.length-1));break;case"Linear":p.push(o*(h.content-d)/i);break;case"Logarithmic":e=Math.abs(h.content-d),0===e?p.push(0):p.push(o*(Math.log(e)*Math.log(i))/t);break;default:p.push(void 0)}return p},i.prototype.onDrag=function(t,e){return this.currentAnswer=this.getSelectedAnswer(t),this.currentValue=this.currentAnswer.content,this.labelEl(this.getEl("knob-value"),this.currentValue),this.transform(this.getEl("knob-input"),{rotate:t.t+"rad",transition:e?"all 300ms":"none"}),this.transform(this.getEl("knob-input-value"),{x:"-50%",rotate:-t.t+"rad",transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){return e?(this.currentAnswer=this.getSelectedAnswer(t),this.currentValue=this.currentAnswer.content,this.labelEl(this.getEl("knob-value"),this.currentValue),this.transform(this.getEl("knob-input"),{rotate:t.t+"rad",transition:"all 300ms"}),this.transform(this.getEl("knob-input-value"),{x:"-50%",rotate:-t.t+"rad",transition:"all 300ms"}),null!=this.currentValue?this.setState("touched"):void 0):t.reset({t:this.roundPos(t)})},i.prototype.getSelectedAnswer=function(t){var e,i,n;return n=this.serialize().values,i=this.roundPercent(t),e=this.distribution.indexOf(i),e===-1&&(e=0),"rtl"===this.options.config().direction?n[n.length-1-e]:n[e]},i.prototype.roundPos=function(t){return 2*Math.PI*this.roundPercent(t)},i.prototype.roundPercent=function(t){var e,i,n;return n=this.serialize().values,e=n.length,i=_.limit(t.t/(2*Math.PI),0,1),_.nearest([1].concat(this.distribution),i)},i.prototype.labelEl=function(t,e){var i,n,o;return n=this.options.data.dial,i=n.prefix,o=n.suffix,e=this.currentValue,t.innerHTML=""+i+e+o},i.prototype.showAnswer=function(){return this.animateAnswerKnob(),this.draggy.lock()},i.prototype.isCorrect=function(){return null!=this.currentValue&&this.currentValue===this.options.data.dial.correct},i.prototype.animateAnswerKnob=function(){var t,e,i,n,o;return n=this.serialize(),e=n.dial,o=n.values,t=_.findIndex(o,function(t){return t.correct}),i=this.distribution[t],this.transform(this.getEl("knob-answer"),{rotate:this.draggy.t+"rad",transition:"none"}),this.transform(this.getEl("knob-answer-value"),{x:"-50%",rotate:"-"+this.draggy.t+"rad",transition:"none"}),this.getEl("knob-answer").offsetWidth,this.transform(this.getEl("knob-answer"),{rotate:i*Math.PI*2+"rad",transition:this.draggy.locked?"none":"all 600ms"}),this.transform(this.getEl("knob-answer-value"),{x:"-50%",rotate:"-"+i*Math.PI*2+"rad",transition:this.draggy.locked?"none":"all 600ms"})},i.prototype.answerDetails=function(){var t,e,i;return t=null!=(e=this.options.metadata)&&null!=(i=e.questions)?i[0]:void 0,t&&this.currentAnswer?[{question:t.question,answer:this.currentAnswer}]:[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(s),i.exports=n}),require.register("engine/dial/model.yaml",function(t,e,i){i.exports={title:"dial",display:"Dial",description:"Select a single value",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},dial:{min:{type:"number","default":0,display:"Min. Value"},max:{type:"number","default":10,display:"Max. Value"},prefix:{type:"html","default":""},suffix:{type:"html","default":""},increment:{type:"number","default":1,min:1},labels:{type:"int",min:0,max:10,"default":4},decimals:{type:"int",min:0,max:8,"default":0}},answer:{text:{type:"html","default":"",display:"Answer Text"},value:{type:"number","default":5,display:"Correct Value"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag to set the correct value"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"dial",title:"How many states have over 10% market share?",dial:{min:0,max:20,labels:4,prefix:"",suffix:""},answer:{value:10,takeaway:"There are 10 states with over 10% market share",text:"We're a true market leader with 10 states.\n"}}]}}),require.register("engine/dial/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m,v){a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fit block-v-xl content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-lg block-v-lg"><h1 class="text-lg-right text-center fade-in">'+(null==(e=m)?"":e)+'</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver text-center block-v-lg"><div class="dial scale-up"><div class="dial-ring"></div><div class="dial-knob dial-knob-input"><div class="dial-knob-value dial-knob-input-value text-lg">'+(null==(e=u("dial.touch-to-rotate"))?"":e)+'</div></div><div class="dial-knob dial-knob-answer"><div class="dial-knob-value dial-knob-answer-value text-lg">'+(null==(e=s.prefix)?"":e)+(null==(e=n.value)?"":e)+(null==(e=s.suffix)?"":e)+'</div></div><div class="dial-notches">'),function(){var e=new t(p);if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push('<div class="dial-notch"></div>')}else{var o=0;for(var n in e){o++;e[n];i.push('<div class="dial-notch"></div>')}}}.call(this),i.push("</div>"),s.labels&&(i.push('<div class="dial-labels">'),function(){var t=c;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var r=t[n];i.push('<div class="dial-label"><div class="dial-label-text">'+(null==(e=s.prefix)?"":e)+(null==(e=s.decimals?r.toFixed(s.decimals):r)?"":e)+(null==(e=s.suffix)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var r=t[n];i.push('<div class="dial-label"><div class="dial-label-text">'+(null==(e=s.prefix)?"":e)+(null==(e=s.decimals?r.toFixed(s.decimals):r)?"":e)+(null==(e=s.suffix)?"":e)+"</div></div>")}}}.call(this),i.push("</div>")),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"answer"in n?n.answer:"undefined"!=typeof answer?answer:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"dial"in n?n.dial:"undefined"!=typeof dial?dial:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"labelValues"in n?n.labelValues:"undefined"!=typeof labelValues?labelValues:void 0,"notches"in n?n.notches:"undefined"!=typeof notches?notches:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/dial/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=e("views/base/game"),r=e("lib/prefix"),o=e("views/components/draggy").DraggyView,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s;return t=i.__super__.serialize.apply(this,arguments),e=parseFloat(t.dial.increment,10)||1,o=parseFloat(t.dial.min,10),n=parseFloat(t.dial.max,10),_.isNaN(o)&&(o=0),_.isNaN(n)&&(n=10),o>n&&(o=n),t.notches=Math.round((n-o)/e),t.labels=_.nearest(_.factors(t.notches).map(function(t){return t}),t.dial.labels),t.labelValues=function(){s=[];for(var e=0,i=t.labels;0<=i?e<i:e>i;0<=i?e++:e--)s.push(e);return s}.apply(this).map(function(i){var n;return n=new Big(Math.round(i*t.notches/t.labels)),n=n.mul(e).add(o)}),t},i.prototype.beforeShow=function(){return this.setEl(this.findOne(".dial"),"dial"),this.setEl(this.findOne(".dial-knob-input"),"knob-input"),this.setEl(this.findOne(".dial-knob-input-value"),"knob-input-value"),this.setEl(this.findOne(".dial-knob-answer"),"knob-answer"),this.setEl(this.findOne(".dial-knob-answer-value"),"knob-answer-value"),this.setEl(this.findOne(".dial-knob-value"),"knob-value"),this.setEl(this.findAll(".dial-notch"),"notches"),this.setEl(this.findAll(".dial-label"),"labels"),this.rotateElements(this.getEl("notches")),this.rotateElements(this.getEl("labels"))},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.show=function(){var t;return i.__super__.show.apply(this,arguments),t=this.findOne(".content-fit"),this.draggy=new o({el:this.getEl("dial"),radius:this.getEl("dial").offsetWidth/2,isParent:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.enterGame()},i.prototype.rotateElements=function(t){var e,i,n,o,s,r;for(e="rtl"===this.options.config().direction?-1:1,r=[],n=o=0,s=t.length;o<s;n=++o)i=t[n],r.push(this.transform(i,{rotate:n/t.length*360*e}));return r},i.prototype.onDrag=function(t,e){return this.currentValue=this.roundValue(t),this.labelEl(this.getEl("knob-value"),this.currentValue),this.transform(this.getEl("knob-input"),{rotate:t.t+"rad",transition:e?"all 300ms":"none"}),this.transform(this.getEl("knob-input-value"),{x:"-50%",rotate:-t.t+"rad",transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){return e?(this.currentValue=this.roundValue(t),this.labelEl(this.getEl("knob-value"),this.currentValue),this.transform(this.getEl("knob-input"),{rotate:t.t+"rad",transition:"all 300ms"}),this.transform(this.getEl("knob-input-value"),{x:"-50%",rotate:-t.t+"rad",transition:"all 300ms"}),null!=this.currentValue?this.setState("touched"):void 0):t.reset({t:this.roundPos(t)})},i.prototype.roundValue=function(t){var e,i,n,o,s;return o=this.options.data.dial,e=o.increment,n=o.min,i=o.max,s=Big(i-n).mul(this.roundPercent(t)).div(e).round().mul(e).plus(n),"rtl"===this.options.config().direction?Big(i-s):s},i.prototype.roundPos=function(t){return 2*Math.PI*this.roundPercent(t)},i.prototype.roundPercent=function(t){var e,i,n,o,s,r;return s=this.options.data.dial,e=s.increment,n=s.min,i=s.max,i=Big(i).sub(n).div(e).round().mul(e).plus(n),o=_.limit(t.t/(2*Math.PI),0,1),r=Big(i).sub(n).div(e).valueOf(),Big(r).mul(o).round().div(r)},i.prototype.labelEl=function(t,e){var i,n,o,s;return o=this.options.data.dial,n=o.prefix,s=o.suffix,i=o.decimals,i=parseFloat(i,10)||0,i>0&&(e=parseFloat(e,10).toFixed(i)),t.innerHTML=""+n+e+s},i.prototype.showAnswer=function(){return this.animateAnswerKnob(),this.draggy.lock()},i.prototype.isCorrect=function(){return null!=this.currentValue&&this.currentValue.eq(this.options.data.answer.value)},i.prototype.animateAnswerKnob=function(){var t,e,i,n,o,s,r;return r=this.options.data,t=r.answer,e=r.dial,i=e.increment,o=e.min,n=e.max,n=Big(n).sub(o).div(i).round().mul(i).plus(o),s=(t.value-o)/(n-o),"rtl"===this.options.config().direction&&(s=1-s),this.transform(this.getEl("knob-answer"),{rotate:this.draggy.t+"rad",transition:"none"}),this.transform(this.getEl("knob-answer-value"),{x:"-50%",rotate:"-"+this.draggy.t+"rad",transition:"none"}),this.getEl("knob-answer").offsetWidth,this.transform(this.getEl("knob-answer"),{rotate:s*Math.PI*2+"rad",transition:this.draggy.locked?"none":"all 600ms"}),this.transform(this.getEl("knob-answer-value"),{x:"-50%",rotate:"-"+s*Math.PI*2+"rad",transition:this.draggy.locked?"none":"all 600ms"})},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r;return o=(null!=(s=this.options.metadata)?s.questions:void 0)||[],o.length>0?(n=o[0],e=this.isCorrect(),r=parseInt(this.currentValue),t=_.find(n.answers,function(t){return t.correct===e}),i={question:n.question,answer:t},i.answer.content=r,[i]):[]},i}(s),i.exports=n}),require.register("engine/drag-to-match/model.yaml",function(t,e,i){i.exports={title:"drag-to-match",display:"Drag to match",description:"Match pairs of text or images",category:"Relationships",features:{stars:!0,social:!0},model:{title:{type:"html","default":""},reject:{type:"boolean","default":!1,display:"Reject Answers",help:"Images will go back to where they came from when placed incorrectly\n"},list:{min:2,max:4,type:[{image:{display:"Left",types:["text","image"]},name:{display:"Right",types:["text","image"],"default":"Image 1"}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag the images to their labels"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"classify-three",title:"Match the product with its name",answer:{takeaway:"Product X, Y and Z are best-sellers\n",text:"The first is Product X, then Product Y and thirdly Product Z.\n"},list:[{image:"img/examples/product-phone.png",imageType:"image",name:"Product X"},{image:"img/examples/product-laptop.png",imageType:"image",name:"Product Y"},{image:"img/examples/product-tablet.png",imageType:"image",name:"Product Z"}]},{subtype:"classify-three-into-two",hidden:!0,title:"Match the product with its features",reject:!0,answer:{takeaway:"Product X, Y and Z have a range of features\n",text:"Product X and Z have touch screens, Product Y has a multi-touch trackpad\n"},list:[{image:"img/examples/product-phone.png",imageType:"image",name:"Touch Screen"},{image:"img/examples/product-laptop.png",imageType:"image",name:"Multi-Touch Trackpad"},{image:"img/examples/product-tablet.png",imageType:"image",name:"Touch Screen"}]}]}}),require.register("engine/drag-to-match/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v,g,y){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};f=f||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');
var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="block-v-lg content-fill text-center"><div'+jade.cls(["drag-to-match-outer","content-fill",c?"long-text":"short-text"],[null,null,!0])+'><div class="title-wrapper"><h1 class="drag-to-match-title block-v-sm tight">'+(null==(e=g)?"":e)+'</h1></div><div class="drag-to-match-inner row block-v-md block-box-sizing"><div class="col-sm-6 draggy-container slide-up content-fill"><div'+jade.cls(["draggies","clearfix","content-fill",p.length>1?"text-right":""],[null,null,null,!0])+">"),function(){var t=p;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("style","height: "+100/p.length+"%",!0,!1)+' class="drag-to-match-item block-v-sm block-box-sizing block-inline"><div class="content-fill block-dk block-sm"><div'+jade.attr("data-id",s.id,!0,!1)+jade.attr("data-name",s.name,!0,!1)+' class="draggy">'),n["multi-content"]("image",s),i.push("</div></div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("style","height: "+100/p.length+"%",!0,!1)+' class="drag-to-match-item block-v-sm block-box-sizing block-inline"><div class="content-fill block-dk block-sm"><div'+jade.attr("data-id",s.id,!0,!1)+jade.attr("data-name",s.name,!0,!1)+' class="draggy">'),n["multi-content"]("image",s),i.push("</div></div></div>")}}}.call(this),i.push('</div></div><div class="col-sm-6 droppy-container slide-up content-fill"><div'+jade.cls(["droppies","clearfix","content-fill",h.length>1?"text-left":""],[null,null,null,!0])+">"),function(){var t=h;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("style","height: "+100/h.length+"%",!0,!1)+' class="drag-to-match-item block-v-sm block-box-sizing block-inline"><div'+jade.attr("data-name",s.name,!0,!1)+' class="content-fill droppy block-sm block-dk"><div class="droppy-zone"></div>'),n["multi-content"]("name",s),i.push("</div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("style","height: "+100/h.length+"%",!0,!1)+' class="drag-to-match-item block-v-sm block-box-sizing block-inline"><div'+jade.attr("data-name",s.name,!0,!1)+' class="content-fill droppy block-sm block-dk"><div class="droppy-zone"></div>'),n["multi-content"]("name",s),i.push("</div></div>")}}}.call(this),i.push("</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",v?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof m&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=m)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"isLong"in o?o.isLong:"undefined"!=typeof isLong?isLong:void 0,"list"in o?o.list:"undefined"!=typeof list?list:void 0,"names"in o?o.names:"undefined"!=typeof names?names:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/drag-to-match/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty,u=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};s=e("views/base/game"),a=e("views/slide"),r=e("lib/prefix"),o=e("views/components/draggy").DraggyView,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s,r,a;for(t=i.__super__.serialize.apply(this,arguments),t.list=function(){var i,n,s,r;for(s=t.list,r=[],e=i=0,n=s.length;i<n;e=++i)o=s[e],o.image&&o.name&&r.push(_.extend({id:e},o));return r}(),t.list=_.shuffle(t.list),t.names=_.chain(t.list).shuffle().filter(function(t,e,i){var n;return n=t.name,_.pluck(i,"name").indexOf(n)===e}).value(),n=!1,a=t.list,s=0,r=a.length;s<r;s++)o=a[s],"text"!==o.nameType&&""!==o.nameType&&o.nameType||(n=n||(o.name||"").length>32),"text"!==o.imageType&&""!==o.imageType||(n=n||(o.image||"").length>32);return t.isLong=n,t},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.beforeShow=function(){return this.setHeight()},i.prototype.show=function(){var t,e;return i.__super__.show.apply(this,arguments),this.listenTo(this,"resize",this.onResize),this.droppies=this.getElements(".droppy"),this.draggies=function(){var i,n,s,r;for(s=this.findAll(".draggy"),r=[],i=0,n=s.length;i<n;i++)e=s[i],t=new o({el:e}),t.id=e.dataset.id,this.listenTo(t,"drag",this.onDrag),this.listenTo(t,"drop",this.onDrop),r.push(t);return r}.call(this),this.enterGame()},i.prototype.setHeight=function(){var t,e,i;return e=this.findOne(".drag-to-match-outer"),i=this.findOne(".title-wrapper"),t=this.findOne(".drag-to-match-inner"),t.style.height=e.offsetHeight-i.offsetHeight+"px"},i.prototype.onDrag=function(t,e){var i,n,o,s,r,a,l;for(e&&(this.droppies=this.getElements(".droppy",this.droppies)),i=t.closest(_.pluck(this.droppies,"bounds")),l=this.droppies,s=r=0,a=l.length;r<a;s=++r)o=l[s],o.el.classList.toggle("active",s===i),o.isActive=s===i;return e&&(t.el.classList.remove("fade"),o=this.droppies[i],n=_.without(null!=o?o.contains:void 0,t.id),n.length?this.getDraggyFromId(_.last(n)).el.classList.remove("fade"):o&&o.el.classList.remove("contains")),this.transform(t.el,{x:t.x,y:t.y,scale:1.25,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t){var e,i,n,o,s,r,a,l,d;return s=t.offset,o=s.left,r=s.top,a=s.width,n=s.height,i=function(){var t,e,n,o;for(n=this.droppies,o=[],t=0,e=n.length;t<e;t++)i=n[t],i.isActive&&o.push(i);return o}.call(this)[0],l=d=0,i?(e=i.bounds,l=Math.round(e.left+e.width/2-o-a/2),d=Math.round(e.top+e.height/2-r-n/2)):t.isPositioned=!1,this.options.data.reject&&(null!=i?i.el.dataset.name:void 0)!==t.el.dataset.name&&(null!=i&&(i.isActive=!1),l=d=0,i&&(i.el.classList.add("incorrect"),window.setTimeout(function(){return i.el.classList.remove("incorrect")},400))),t.x!==l||t.y!==d?t.reset({x:l,y:d}):(this.transform(t.el,{x:t.x,y:t.y,transition:"all 300ms"}),this.checkAnswer(t)),this.setState(this.isTouched()?"touched":"prompt")},i.prototype.onResize=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h,f;for(this.setHeight(),d=this.droppies||[],u=[],r=0,l=d.length;r<l;r++)n=d[r],u.push(function(){var t,r,l,d,u;for(l=n.contains||[],u=[],t=0,r=l.length;t<r;t++)s=l[t],i=this.getDraggyFromId(s),this.transition(i.el,"none"),i.getOffset(),e=n.el.getBoundingClientRect(),d=i.offset,a=d.left,c=d.top,p=d.width,o=d.height,h=Math.round(e.left+e.width/2-a-p/2),f=Math.round(e.top+e.height/2-c-o/2),i.setPosition({x:h,y:f}),u.push(this.transform(i.el,{x:h,y:f}));return u}.call(this));return u},i.prototype.getDraggyFromId=function(t){return _.findWhere(this.draggies,{id:t})},i.prototype.getElements=function(t,e){var i,n,o,s,r,a,l,d,u,c,p;if(e){for(c=[],s=0,a=e.length;s<a;s++)d=e[s],n=d.el,i=d.contains,c.push({el:n,contains:i,bounds:n.getBoundingClientRect()});return c}for(u=this.findAll(t),p=[],o=r=0,l=u.length;r<l;o=++r)n=u[o],p.push({el:n,bounds:n.getBoundingClientRect(),contains:[]});return p},i.prototype.resetDraggy=function(t){return t.reset(),t.el.classList.remove("is-positioned"),t.isPositioned=!1},i.prototype.checkAnswer=function(t){var e,i,n,o,s,r,a,l,d,u,c,p;for(u=this.droppies,p=[],r=0,l=u.length;r<l;r++){for(n=u[r],n.el.classList.remove("active"),i=_.include(n.contains,t.id),n.isActive?(t.el.classList.add("is-positioned"),t.isPositioned=!0,n.contains.length>0&&!i&&this.isOnlyUnique()&&(n.isActive=!1,this.resetDraggy(this.getDraggyFromId(n.contains[0]))),n.contains=_.uniq(n.contains.concat(t.id))):i&&(n.contains=_.without(n.contains,t.id)),c=n.contains,o=a=0,d=c.length;a<d;o=++a)s=c[o],e=this.getDraggyFromId(s),e.el.classList.toggle("fade",o!==n.contains.length-1);p.push(n.el.classList.toggle("contains",n.contains.length>0))}return p},i.prototype.isTouched=function(){var t,e;return e=function(){var e,i,n,o;for(n=this.draggies,o=[],e=0,i=n.length;e<i;e++)t=n[e],t.isPositioned&&o.push(t);return o}.call(this),e.length===this.options.data.list.length},i.prototype.isCorrect=function(){var t,e;return t=function(){var t,i,n,o;for(n=this.droppies,o=[],t=0,i=n.length;t<i;t++)e=n[t],_.filter(e.contains,function(t){return function(i){return e.el.dataset.name===t.getDraggyFromId(i).el.dataset.name}}(this)).length===e.contains.length&&o.push(e);return o}.call(this),t.length===this.droppies.length},i.prototype.showAnswer=function(){var t,e,i,n,o,s,r,a,l,d,u,c;for(d=this.droppies,c=[],s=0,a=d.length;s<a;s++){for(e=d[s],i=!0,u=e.contains,r=0,l=u.length;r<l;r++)n=u[r],t=this.getDraggyFromId(n),o=e.el.dataset.name===t.el.dataset.name,t.el.classList.toggle("incorrect",!o),o||(i=!1);c.push(e.el.classList.toggle("correct",i))}return c},i.prototype.isOnlyUnique=function(){return _.chain(this.options.data.list).pluck("name").uniq().value().length===this.options.data.list.length},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a,l;if(s=(null!=(r=this.options.metadata)?r.questions:void 0)||[],!(s.length>0))return[];for(t=[],e=_.indexBy(this.draggies,function(t){return null!=t.el.children[0].dataset.content?t.el.children[0].dataset.content:t.el.innerText.toLowerCase()}),i=0,n=s.length;i<n;i++)o=s[i],(a=e[o.question.content.toLowerCase()])&&(l=_.find(this.droppies,function(t){var e;return e=a.el.dataset.id,u.call(t.contains,e)>=0}),t.push({question:o.question,answer:_.find(o.answers,function(t){return t.content===l.el.dataset.name})}));return t},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(s),i.exports=n}),require.register("engine/exit/model.yaml",function(t,e,i){i.exports={title:"exit",display:"Exit Lesson",category:"Exit",visible:!1,model:{title:{type:"html","default":"That's it!"},content:{type:"html","default":"Nice work. You’ve reached the end of this lesson."},buttonText:{type:"html","default":"Exit Lesson",display:"Button CTA"}}}}),require.register("engine/exit/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){i.push('<div class="content-scroll content-fit content-ver text-center block-v-md"><div class="content-scroll-inner"><div class="block-v-md"><h1 class="slide-up">'+(null==(e=s)?"":e)+'</h1><div class="slide-up delay-1 text-md">'+(null==(e=o)?"":e)+"</div></div>"),n.contextRequiresExitButton&&i.push('<div class="block-v-md"><div class="btn btn-solid slide-up">'+(null==(e=t)?"":e)+"</div></div>"),i.push("</div></div>")}.call(this,"buttonText"in n?n.buttonText:"undefined"!=typeof buttonText?buttonText:void 0,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/exit/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=e("views/slide"),o=Application.actions().Lesson,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn":"exit"}},i.prototype.show=function(){return o.complete()},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i}(s),i.exports=n}),require.register("engine/expandable-list/model.yaml",function(t,e,i){i.exports={title:"expandable-list",display:"Expandable list",description:"Show a list of concepts",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":""},list:{type:[{title:{type:"html"},content:{type:"html"}}],min:1,max:6},focus:{type:"boolean","default":!0,help:"Only reveal one item at a time.\n"},prompt:{type:"html","default":"Select an item to see more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"three",title:"Learn more about our product range",list:[{title:"Product X",content:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{title:"Product Y",content:"Crystal clear display performs better than any of our competitors.\n"},{title:"Product Z",content:"The newest feature offers a new level of feedback for the user.\n"}]}]}}),require.register("engine/expandable-list/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c){i.push('<div class="content-scroll content-fill"><div class="content-scroll-inner block-v-md"><div class="block-v-md"><div class="text-xxl text-center slide-up">'+(null==(e=u)?"":e)+'</div></div><div class="row block-v-md"><div class="col-sm-12 col-md-10 col-md-offset-1"><div class="accordion">'),function(){var t=a;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n],r="middle";0===n&&(r="first"),n===a.length-1&&(r="last"),i.push("<div"+jade.cls(["item","item-"+r],[null,!0])+'><div class="item-button btn btn-solid"><div class="accordion-text text-start">'+(null==(e=s.title)?"":e)+'</div></div><div class="item-content block-dk block-md"><div class="text-md">'+(null==(e=s.content)?"":e)+"</div></div></div>")}else{var o=0;for(var n in t){o++;var s=t[n],r="middle";0===n&&(r="first"),n===a.length-1&&(r="last"),i.push("<div"+jade.cls(["item","item-"+r],[null,!0])+'><div class="item-button btn btn-solid"><div class="accordion-text text-start">'+(null==(e=s.title)?"":e)+'</div></div><div class="item-content block-dk block-md"><div class="text-md">'+(null==(e=s.content)?"":e)+"</div></div></div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"list"in n?n.list:"undefined"!=typeof list?list:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/expandable-list/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("../scrollable/view"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .item-button":"toggleItem","iostap .btn-done":"submit"},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.list=_.filter(t.list,function(t){return t.title&&t.content}),t.hasPrompt=!0,t},i.prototype.beforeShow=function(){return this.setEl(this.findAll(".item"),"items"),this.setEl(this.findOne(".content-scroll-inner"),"container"),this.setEl(this.findOne(".accordion"),"accordion"),this.$(".item-button .md-list").removeClass("md-list"),this.transformItems(!1),this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){return this.touchedItems=[],this.setState("prompt"),this.listenTo(this,"resize",this.onResize)},i.prototype.onResize=function(){return this.beforeShow()},i.prototype.onRefresh=function(){},i.prototype.toggleItem=function(t,e){var i,n,o,s,r,a,l;for(i=(null!=t?t.currentTarget:void 0)||e,n=i.parentNode,l=null!=t,this.touchedItems=_.uniq(this.touchedItems.concat(n)),this.touchedItems.length===this.getEl("items").length&&this.setState("touched"),a=this.getEl("items"),o=0,s=a.length;o<s;o++)r=a[o],this.transition(r,l?"all 300ms":""),this.options.data.focus&&r!==n&&r.classList.remove("active");return n.offsetHeight,n.classList.toggle("active"),this.transformItems(l)},i.prototype.transformItems=function(t){var e,i,n,o,s,r,a,l,d;if(e=this.getEl("accordion"),null!=e&&this.getEl("items").length){for(window.clearTimeout(this.timeout),d=0,n=0,l=this.getEl("items"),o=r=0,a=l.length;r<a;o=++r)s=l[o],i=s.firstChild,n+=i.offsetHeight,this.transform(s,{y:d}),s.classList.contains("active")&&(n+=s.lastChild.offsetHeight,d+=s.lastChild.offsetHeight);return n>e.offsetHeight||!t?this.transformContainer(n,t):this.timeout=window.setTimeout(function(e){return function(){return e.transformContainer(n,t)}}(this),300)}},i.prototype.transformContainer=function(t,e){var i,n,o,s;return n=this.getEl("container"),i=this.getEl("accordion"),i.style.height=t+"px",o=this.el.offsetHeight-n.offsetHeight,s=Math.max(o/2,0),this.transform(n,{y:s,transition:e?"all 300ms":""})},i.prototype.refresh=function(t){var e,n,o,s,r,a;for(a=t.data.list,n=s=0,r=a.length;s<r;n=++s)o=a[n],_.isEqual(this.options.data.list[n],o)||(e=n);if(i.__super__.refresh.apply(this,arguments),this.beforeShow(),this.show(),null!=e&&e<this.getEl("items").length)return this.toggleItem(null,this.getEl("items")[e].firstChild)},i}(o),i.exports=n}),require.register("engine/find-a-word/model.yaml",function(t,e,i){i.exports={title:"find-a-word",display:"Find-a-word",description:"Find words in the grid",category:"Game",visible:!0,features:{narration:!1,stars:!0},model:{title:{type:"text"},words:{min:3,max:12,type:[{type:"text"}]},answer:{text:{type:"text","default":"",display:"Answer Text"},correct:{type:"text","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"text","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"text","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":3e4,display:"Time Limit (seconds)",min:1},"out-of-time-prompt":{type:"html",display:"Out of time prompt"},isDisabled:{type:"boolean","default":!0,display:"Disable",help:"Disabling the timer lets users find words at their own pace.\n"}}},prompt:{type:"text","default":"Find the words in the grid"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"find-a-word",title:"Find all of the products that make up our range",words:["Product X","Product Y","Product Z"]}]}}),require.register("engine/find-a-word/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m,v){r&&r.timer&&r.timer.limit>0&&!r.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content content-fit clearfix"><div class="text-center block-v-lg"><h1 class="fade-in">'+(null==(e=f)?"":e)+'</h1><div class="grid-container block-md block-dk"><div class="grid">'),p=1/a.length*100,o=["up","down","left","right"],function(){var t=a;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var r=t[n];i.push("<div"+jade.attr("style","height: "+p+"%;",!0,!1)+' class="grid-row clearfix">'),function(){var t=r;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var a=t[n];i.push("<div"+jade.attr("data-letter",a,!0,!1)+jade.attr("style","width: "+p+"%;",!0,!1)+jade.cls(["grid-col","text-uppercase","delay-"+_.random(3)+" slide-"+_.sample(o)],[null,null,!0])+">"+jade.escape(null==(e=a)?"":e)+"</div>")}else{var s=0;for(var n in t){s++;var a=t[n];i.push("<div"+jade.attr("data-letter",a,!0,!1)+jade.attr("style","width: "+p+"%;",!0,!1)+jade.cls(["grid-col","text-uppercase","delay-"+_.random(3)+" slide-"+_.sample(o)],[null,null,!0])+">"+jade.escape(null==(e=a)?"":e)+"</div>")}}}.call(this),i.push("</div>")}else{var s=0;for(var n in t){s++;var r=t[n];i.push("<div"+jade.attr("style","height: "+p+"%;",!0,!1)+' class="grid-row clearfix">'),function(){var t=r;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var a=t[n];i.push("<div"+jade.attr("data-letter",a,!0,!1)+jade.attr("style","width: "+p+"%;",!0,!1)+jade.cls(["grid-col","text-uppercase","delay-"+_.random(3)+" slide-"+_.sample(o)],[null,null,!0])+">"+jade.escape(null==(e=a)?"":e)+"</div>")}else{var s=0;for(var n in t){s++;var a=t[n];i.push("<div"+jade.attr("data-letter",a,!0,!1)+jade.attr("style","width: "+p+"%;",!0,!1)+jade.cls(["grid-col","text-uppercase","delay-"+_.random(3)+" slide-"+_.sample(o)],[null,null,!0])+">"+jade.escape(null==(e=a)?"":e)+"</div>")}}}.call(this),i.push("</div>")}}}.call(this),i.push('<div class="grid-highlights">'),function(){var e=new t(v.length+1);if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push("<div"+jade.attr("style","width: "+p+"%; height: "+p+"%;",!0,!1)+jade.cls(["grid-highlight","grid-highlight-"+n],[null,!0])+"></div>")}else{var o=0;for(var n in e){o++;e[n];i.push("<div"+jade.attr("style","width: "+p+"%; height: "+p+"%;",!0,!1)+jade.cls(["grid-highlight","grid-highlight-"+n],[null,!0])+"></div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",h?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||s||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"dirs"in n?n.dirs:"undefined"!=typeof dirs?dirs:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"grid"in n?n.grid:"undefined"!=typeof grid?grid:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"size"in n?n.size:"undefined"!=typeof size?size:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0,"words"in n?n.words:"undefined"!=typeof words?words:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/find-a-word/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;s=e("views/base/game"),n=e("views/components/draggy").DraggyView,a=e("lib/prefix"),r=Math.PI/2,l=Math.PI/4,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.orientations=["verticalUp","diagonalUp","horizontal","diagonal","vertical","diagonalBack","horizontalBack","diagonalUpBack"],i.prototype.events=function(){return{"iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e,n,o;return t=i.__super__.serialize.apply(this,arguments),o=_.uniq(function(){var e,i,o,s;for(o=t.words,s=[],e=0,i=o.length;e<i;e++)n=o[e],s.push(n.replace(/\s/g,"").toUpperCase());return s}()),e=_.uniq(o.join("")),null==this.grid&&(this.grid=window.wordfind.newPuzzle(o,{letters:e})),this.solution=window.wordfind.solve(this.grid,o).found,t.grid=this.grid,t},i.prototype.beforeShow=function(){var t,e,i,n,o,s,d,u,c,p,h,f,m;for(this.setEl(this.findAll(".grid-highlight"),"highlight"),i=this.findOne(".grid"),i.style.width="",n=parseFloat(window.getComputedStyle(this.el).fontSize),o=Math.min(i.offsetWidth/n,22),t=o/this.grid.length,e=t*n,this.size=e,i.style.width=o+"em",i.style.height=o+"em",i.style.lineHeight=1.1*t+"em",u=this.getEl("highlight"),p=[],s=0,d=u.length;s<d;s++)i=u[s],i.style[a("transformOrigin")]=t/2+"em",c=i.dataset,f=c.x,m=c.y,h=c.t,null!=f&&null!=m&&null!=h?p.push(this.transform(i,{x:f*t+"em",y:m*t+"em",rotate:h*l-r+"rad"})):p.push(void 0);return p},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.draggy=new n({el:this.findOne(".grid"),isParent:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),this.onResize(),this.enterGame()},i.prototype.refresh=function(){return delete this.grid,i.__super__.refresh.apply(this,arguments),this.serialize(),this.beforeShow()},i.prototype.hide=function(){return delete this.grid},i.prototype.onResize=function(t){var e;return(null!=t?t.width:void 0)||(null!=(e=this.currentState)?e.refresh:void 0)||this.el.classList.remove("active"),this.beforeShow(),this.fitText(function(t){return function(){var e;return e=Math.round(t.findOne(".grid").offsetWidth/t.grid.length),t.size=e,window.setTimeout(function(){return t.el.classList.add("active")},300)}}(this))},i.prototype.onDrag=function(t,e){var i,n,o,s,a,d,u,c,p,h,f,m;return n=this.getEl("highlight").item(this.solution.length),n.classList.add("active"),e?(f=t.x,m=t.y,this.line={theta:0,start:{x:Math.floor(f/this.size),y:Math.floor(m/this.size)}},this.transform(n,{x:this.line.start.x*this.size,y:this.line.start.y*this.size}),n.offsetWidth,this.setState(!0,"dragging")):(f=t.x,m=t.y,o=this.grid.length-1,a=this.line.start.x,d=this.line.start.y,f-=(a+.5)*this.size,m-=(d+.5)*this.size,h=Math.ceil((t.toAngle(f,m)-r)/l+r),s=h%2===0?1:Math.SQRT2,i=this.line.theta-this.line.theta%8,p=this.line.theta%8-h,p<-5?i-=8:8===p&&(i+=8),c=this.getMaxLength(a,d,h),u=Math.round((h%2===0?Math.max(Math.abs(f),Math.abs(m)):Math.sqrt(f*f+m*m))/(s*this.size)),this.line.length=Math.max(Math.min(u,c)+1,1),this.line.theta=(i||0)+h,this.line.orientation=this.orientations[h%8],this.transform(n,{x:this.line.start.x*this.size,y:this.line.start.y*this.size,rotate:this.line.theta*l-r+"rad"}),n.dataset.x=this.line.start.x,n.dataset.y=this.line.start.y,n.dataset.t=this.line.theta,n.style.width=(1+(this.line.length-1)*s)/(o+1)*100+"%")},i.prototype.onDrop=function(t,e){var i,n,o,s,a,d,u;if(n=this.getEl("highlight").item(this.solution.length),n.classList.remove("active"),d=this.getSelection(this.line),u=d.reduce(function(t,e){return t+e.dataset.letter},""),i=_.find(this.solution,{word:u}))for(this.solution=_.without(this.solution,i),n.classList.add("complete"),o=0,s=d.length;o<s;o++)a=d[o],a.classList.add("complete");else this.transform(n,{x:this.line.start.x*this.size,y:this.line.start.y*this.size,rotate:this.line.theta*l-r+"rad",scale:1.2}),window.setTimeout(function(t){return function(){return n.style.width="",t.setState(!1,"dragging")}}(this),300);return this.setState("touched")},i.prototype.getSelection=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h;for(l=t.start,p=l.x,h=l.y,s=t.orientation,o=t.length,c=[],i=n=0,d=o;0<=d?n<d:n>d;i=0<=d?++n:--n)r=window.wordfind.orientations[s](p,h,i),a=Math.floor(r.y*this.grid.length)/this.grid.length,e=r.x%this.grid.length,c.push(null!=(u=this.draggy.el.children[a])?u.children[e]:void 0);return c},i.prototype.getOrientation=function(t){return this.orientations[t%8]},i.prototype.getMaxLength=function(t,e,i){var n;switch(n=this.grid.length-1,i%8){case 1:return Math.min(n-t,e);case 2:return n-t;case 3:return Math.min(n-t,n-e);case 4:return n-e;case 5:return Math.min(t,n-e);case 6:return t;case 7:return Math.min(t,e);default:return e}},i.prototype.isCorrect=function(){return 0===this.solution.length},i.prototype.showAnswer=function(){var t,e,i,n,o,s,a,d,u,c,p,h,f,m;for(u=this.solution,p=[],i=n=0,o=u.length;n<o;i=++n)c=u[i],f=c.x,m=c.y,d=c.overlap,a=c.orientation,s=this.getSelection({start:{x:f,y:m},length:d,orientation:a
}),t=this.getEl("highlight").item(i),h=this.orientations.indexOf(a),e=h%2===0?1:Math.SQRT2,this.transform(t,{x:f*this.size,y:m*this.size,rotate:h*l-r+"rad"}),t.offsetWidth,t.classList.add("incorrect"),p.push(t.style.width=e*d/this.grid.length*100+"%");return p},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(s),i.exports=o}),require.register("engine/free-text-contribution/model.yaml",function(t,e,i){i.exports={title:"free-text-contribution",display:"Free text",category:"Peer Learning",description:"Ask for written feedback",visible:!1,model:{question:{id:{type:"uuid",hidden:!0},content:{type:"html"},min:{type:"int",display:"Minimum Response Length"}},prompt:{type:"html","default":"Type your response"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"free-text",question:{id:"#GENUUID#",content:"Write your contribution"}}]}}),require.register("engine/free-text-contribution/template.jade",function(t,e,i){var n=function(t){var e=[];return e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/free-text-contribution/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("../free-text-survey/view"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.userInput=function(){return{contribution:{text:this.value,question:{content:this.options.data.question.content,id:this.options.data.question.id}}}},e}(o),i.exports=n}),require.register("engine/free-text-survey/model.yaml",function(t,e,i){i.exports={title:"free-text-survey",display:"Free text",description:"Ask for written feedback",category:"Survey",model:{question:{id:{type:"uuid",hidden:!0},content:{type:"html"},min:{type:"int",display:"Minimum Response Length",help:"If you want a response from every learner, set a minimum response length. This is the number of characters they will need to type before they are able to continue.\n"}},prompt:{type:"html","default":"Type your response"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"free-text",question:{id:"#GENUUID#",content:"How would you improve this lesson?"}}]}}),require.register("engine/free-text-survey/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u){i.push('<div class="content-fill"><div class="content-scroll content-ver"><div class="content-scroll-inner"><div class="row block-v-lg clearfix"><div class="col-sm-12 col-lg-10 col-lg-offset-1"><div class="block-v-md slide-title"><h1 class="text-center">'+(null==(e=d)?"":e)+'</h1></div><div class="block-v-md"><div class="user-input-container"><div class="user-input text-md block-lg text-prewrap">'+jade.escape(null==(e=u)?"":e)+'</div><div class="btn btn-prompt btn-muted"><div class="icon icon-pencil"></div></div></div></div></div></div></div></div></div><div'+jade.cls(["slide-footer","block-v-lg",l?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof a&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=a)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"value"in n?n.value:"undefined"!=typeof value?value:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/free-text-survey/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/input"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .content-fill":"focus","iostap .btn-done":"nextSlide"}},i.prototype.show=function(){return this.listenTo(this,"resize",this.onResize)},i.prototype.beforeShow=function(){var t;if(this.setEl(this.findOne(".user-input"),"input"),this.trigger("ui",{flexibleHeight:!0}),0===this.serialize().min||(null!=(t=this.value)?t.length:void 0)>=this.serialize().min)return this.setState("touched")},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.onResize=function(){return this.beforeShow()},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.title=this.options.data.question.content,t.min=this.options.data.question.min,t.min>0||(t.min=0),t.value=this.value,t.hasPrompt=!0,t},i.prototype.focus=function(){var t,e,i,n,o;return t=this.getEl("input"),n=this.serialize(),o=n.title,e=n.min,i=n.prompt,0===e&&this.changeState(!0),$("#text-input-view").off("update").trigger("open",{title:o,min:e,prompt:i,value:this.value}).on("update",function(e){return function(i,n){return e.onUpdate(n,t)}}(this))},i.prototype.userInput=function(){return{text:this.value,question:{content:this.options.data.question.content,id:this.options.data.question.id}}},i.prototype.onUpdate=function(t,e){var i;return this.value=t,i=this.value.length>=this.serialize().min,e.textContent=this.value,this.changeState(i)},i.prototype.changeState=function(t){var e;return this.setState((null!=(e=this.value)?e.length:void 0)>0,"has-input"),this.setState(t?"touched":"prompt")},i}(o),i.exports=n}),require.register("engine/game-elevator/components/container.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="game-image-title text-center text-bold text-lg">'+(null==(e=r)?"":e)+'</div><div class="game-box-inner content-fill block-v-lg"><div class="row content-fill"><div class="col-md-4 col-sm-4 content-fill"><div class="block-dk content-fill"><div class="block-md game-image-container text-center">'),n.image(s,"game-image"),i.push('</div></div></div><div class="col-md-8 col-sm-8 content-fill"><div class="block-flex-ver text-md direction-column">'),function(){var n=t;if("number"==typeof n.length)for(var s=0,r=n.length;s<r;s++){var a=n[s];i.push("<div"+jade.attr("data-is-correct",o.indexOf(a)>-1,!0,!1)+jade.attr("data-index",s,!0,!1)+' class="btn-attribute block-flex-child block-flex-ver"><h2 class="block-h-md btn-text">'+(null==(e=a)?"":e)+"</h2></div>")}else{var r=0;for(var s in n){r++;var a=n[s];i.push("<div"+jade.attr("data-is-correct",o.indexOf(a)>-1,!0,!1)+jade.attr("data-index",s,!0,!1)+' class="btn-attribute block-flex-child block-flex-ver"><h2 class="block-h-md btn-text">'+(null==(e=a)?"":e)+"</h2></div>")}}}.call(this),i.push("</div></div></div></div>")}.call(this,"all"in o?o.all:"undefined"!=typeof all?all:void 0,"correct"in o?o.correct:"undefined"!=typeof correct?correct:void 0,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-elevator/components/description.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-fill content-fit block-lg text-center"><div class="game-description"><div class="block-md">'),n.image(o,"game-image"),i.push('</div><div class="text-md">'),function(){var t=s;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var r=t[n];i.push("<p>"+(null==(e=r)?"":e)+"</p>")}else{var o=0;for(var n in t){o++;var r=t[n];i.push("<p>"+(null==(e=r)?"":e)+"</p>")}}}.call(this),i.push('</div><div class="block-v-md"><div class="btn btn-muted btn-continue">'+jade.escape(null==(e=t("buttons.continue"))?"":e)+"</div></div></div></div>")}.call(this,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"paragraphs"in o?o.paragraphs:"undefined"!=typeof paragraphs?paragraphs:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-elevator/model.yaml",function(t,e,i){i.exports={title:"game-elevator",display:"Elevator",description:"Select the matching statement",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"How would you describe..?"},description:{type:"html","default":"Which of these facts matches the product? Tap on the correct statement when the product is directly aligned to get points.\n"},images:{min:3,max:12,type:[{title:{type:"html"},image:{type:"image"},correct:{min:1,max:4,type:[{type:"html"}]},incorrect:{min:0,max:4,"default":0,type:[{type:"html"}]},description:{type:"html"}}],help:"Add some correct and/or incorrect attributes to for the image. The total number of attributes should be 3 or 4.\n"},combine:{type:"boolean",display:"Mix all attributes together","default":!0,help:"Use attributes of other images as incorrect options."},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after one round has been played for each item.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars."}},prompt:{type:"html","default":"Select the matching statement"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"elevator",title:"How would you describe..?",description:"Which of these facts matches the product? Tap on the correct statement when the product is directly aligned to get points.\n",images:[{title:"Product X",image:"img/examples/product-phone.png",correct:["This is the very first, premier product in the range","Industry-leading colour accuracy","Wireless charging"],incorrect:[],description:"This is your chance to talk about the product or image. You can list all of its qualities, so everyone is excited and familiar with it.\n"},{title:"Product Y",image:"img/examples/product-laptop.png",correct:["It’s the second product","Touch ID","Retina display"],incorrect:[],description:"This is your chance to talk about the product or image. You can list all of its qualities, so everyone is excited and familiar with it.\n"},{title:"Product Z",image:"img/examples/product-tablet.png",correct:["It’s ultra-slim","12‑megapixel camera","Fast Wi‑Fi"],incorrect:[],description:"This is your chance to talk about the product or image. You can list all of its qualities, so everyone is excited and familiar with it.\n"}]}]}}),require.register("engine/game-elevator/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=l)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=l)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="content-fill full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('</div><div class="content-fill"><div class="game-box content-fill"></div></div><div class="slide-footer slide-up block-v-lg"><div class="text-uppercase text-bold text-ellipsis">'+(null==(e=a)?"":e)+"</div></div></div>")}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-elevator/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;r=e("views/base/game"),a=e("lib/preload"),o=e("lib/easie"),n=e("lib/device"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.templates={container:e("./components/container"),description:e("./components/description")},i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next","iostap .btn-attribute":"checkAnswer","iostap .btn-continue":"hideDescription"}},i.prototype.initializeData=function(){var t,e;return i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),e=this.options.data.images,e=(e||[]).filter(function(t){return t.image&&_.compact(t.correct).length>0}),e=e.map(function(t){var e,i,n,o;for(o=["correct","incorrect"],e=0,i=o.length;e<i;e++)n=o[e],t[n]=_.compact(t[n]);return t}),this.setArray("variant",e),a.load(function(){var i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i].image,o.push(t);return o}(),function(t){return function(i){return null==i&&(i=[]),t.setArray("variant",_.reject(e,function(t,e){return _.include(i,t.image)}))}}(this))},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-box"),"container")},i.prototype.startGame=function(){return this.answeredCount=0,i.__super__.startGame.apply(this,arguments)},i.prototype.showNext=function(t){var e,i,n,o,s,r,a,l;for(t||this.unpauseGame(),this.game.timer.timestamp=Date.now(),l=this.getRandom("variant"),e=l.correct,o=this.options.data.combine?_.chain(this.getArray("variant")).without(l).pluck("correct").flatten().value():l.incorrect,e=_.sample(e,4),o=_.sample(o,4-e.length),this.getEl("container").innerHTML=this.templates.container({title:l.title,image:l.image,correct:l.correct,all:_.chain().union(e,o).shuffle().value()}),this.setEl(this.getEl("container").querySelector(".game-image-container"),"image"),this.setEl(this.getEl("container").querySelectorAll(".btn-attribute"),"answers"),this.transform(this.getEl("image"),{opacity:0,x:"-100%"}),a=this.getEl("answers"),n=s=0,r=a.length;s<r;n=++s)i=a[n],this.transform(i,{opacity:0,x:"100%"});return this.getEl("image").firstChild.complete?this.onImageLoad():this.getEl("image").firstChild.onload=function(t){return function(){return t.onImageLoad()}}(this)},i.prototype.onImageLoad=function(){var t,e,i,n,o,s,r;for(t=this.getEl("image").parentNode.offsetHeight,n=this.getEl("image").offsetHeight,this.getEl("container").classList.remove("hide-description"),this.transform(this.getEl("image"),{opacity:1,transition:"all 300ms"}),r=this.getEl("answers"),i=o=0,s=r.length;o<s;i=++o)e=r[i],this.transform(e,{opacity:1,transition:"all 300ms "+100*i+"ms"});return this.game.extra.set({animateImage:!1}),window.setTimeout(function(t){return function(){var n,o,s,r;for(t.game.extra.set({animateImage:!0}),t.transition(t.getEl("image"),""),s=t.getEl("answers"),r=[],i=n=0,o=s.length;n<o;i=++n)e=s[i],r.push(t.transition(e,""));return r}}(this),600)},i.prototype.onTimerChange=function(t){var e,n,o,s,r,a,l,d,u,c;if(i.__super__.onTimerChange.apply(this,arguments),this.game.extra.get("animateImage")&&null!=t.changed.passed&&null!=this.getEl("image")){for(s=this.getEl("image"),l=this.getPercent(),d=(s.parentNode.offsetHeight-s.offsetHeight)*l,this.transform(this.getEl("image"),{y:d}),u=this.getEl("answers"),c=[],o=r=0,a=u.length;r<a;o=++r)n=u[o],n.classList.contains("selected")||(e=.4*(1-Math.abs(this.getDist(o,l))),c.push(n.style.backgroundColor="rgba(255, 255, 255, "+e+")"));return c}},i.prototype.checkAnswer=function(t){var e,i,n,o,s,r,a;if(!(this.game.timer.get("paused")||this.getEl("container").classList.contains("hide-attributes")||(i=t.currentTarget,r=i.dataset,s=r.isCorrect,n=r.index,e=Math.abs(this.getDist(n,this.getPercent())),a=.2,e>a)))return i.classList.add("selected"),o=_.chain(this.getEl("answers")).filter(function(t){return t.dataset.isCorrect&&!t.classList.contains("selected")}).isEmpty().value(),s?this.onCorrectAnswer({score:1e3,time:o?1e3:0,tally:!0}):this.onIncorrectAnswer({time:1e3,tally:!0}),o||!s?this.showDescription():void 0},i.prototype.showDescription=function(){var t;return this.getEl("container").classList.add("hide-attributes"),this.getEl("container").scrollTop=0,this.pauseGame(),t=this.templates.description({image:this.data.variant.lastValue.image,paragraphs:this.data.variant.lastValue.description.split(/\n+/)}),this.getEl("container").innerHTML=t},i.prototype.hideDescription=function(){return this.answeredCount+=1,this.getEl("container").classList.add("hide-description"),window.setTimeout(function(t){return function(){return t.getEl("container").classList.remove("hide-attributes"),t.game.timer.get("isDisabled")&&t.answeredCount===t.getArray("variant").length?void t.endGame():(t.showNext(),t.game.timer.get("isDisabled")?void 0:t.game.timer.trigger("count",{callback:function(){return t.game.timer.trigger("start",{callback:function(){return t.endGame()}})}}))}}(this),600)},i.prototype.getDuration=function(){return 3e3},i.prototype.getPercent=function(){var t,e,i;return i=Date.now()-this.game.timer.timestamp,e=this.getDuration(),t=2*Math.PI,(1-Math.sin(i*t/e))/2},i.prototype.getDist=function(t,e){return Math.abs(t/(this.getEl("answers").length-1)-e)},i}(r),i.exports=s}),require.register("engine/game-image-word-match/components/container.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d){n["video-stream"]=e=function(t,e,n,s,a){this&&this.block,this&&this.attributes||{};r=r||!0,n=n||!0,s=s||"video vjs-fluid";var l=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,d="";t&&t.indexOf(l)>-1&&(d=t.replace(l,l+"sp_full_hd/"),d=d.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",a,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),d&&i.push("<source"+jade.attr("src",d,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},i.push('<div class="match-top block-v-md block-h-xl"><div class="text-center match-top-content"><h4 class="block-v-md match-prompt text-md">'+(null==(e=a)?"":e)+'</h4><div class="match-image-container block-v-md text-center block-lt"><h1 class="match-image">'),n["multi-content"]("image",s),i.push('</h1></div></div></div><div class="match-words clearfix text-lg">'),function(){var t=d;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var r=t[n];i.push("<div"+jade.attr("data-answer",r,!0,!1)+jade.attr("data-is-correct",r===s.title,!0,!1)+jade.cls(["btn-word","text-center","delay-"+n],[null,null,!0])+">"+(null==(e=r)?"":e)+"</div>")}else{var o=0;for(var n in t){o++;var r=t[n];i.push("<div"+jade.attr("data-answer",r,!0,!1)+jade.attr("data-is-correct",r===s.title,!0,!1)+jade.cls(["btn-word","text-center","delay-"+n],[null,null,!0])+">"+(null==(e=r)?"":e)+"</div>")}}}.call(this),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"undefined"in o?o.undefined:void 0,"words"in o?o.words:"undefined"!=typeof words?words:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-image-word-match/model.yaml",function(t,e,i){i.exports={title:"game-image-word-match",display:"Image/word match",description:"Select a word to match the image",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"Match the image to the word"},description:{type:"html","default":"Select the correct word related to the image. Speed and accuracy will score you the most points.\n"},images:{min:3,max:20,type:[{image:{types:["image","text"],display:"Content"},title:{type:"html"}}]},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after one round has been played for each image.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars. 500 points are earned per question. Don’t forget to have enough time and questions to earn all the stars!"}},prompt:{type:"html","default":"Select a word to match the image"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"image-word-match",images:[{image:"Sample Text",imageType:"text",title:"Product description"},{image:"img/examples/product-laptop.png",imageType:"image",title:"Retina display"},{image:"img/examples/product-tablet.png",imageType:"image",title:"Touch screen"}],challenge_configuration:{nb_stars:5},title:"Match the image to the word",description:"Select the correct word related to the image. Speed and accuracy will score you the most points.\n",prompt:"Select a word to match the image"}]}}),require.register("engine/game-image-word-match/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=a)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=a)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('<div class="game-box content-fill"></div></div></div>')}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-image-word-match/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("views/base/game"),r=e("./components/container"),s=e("lib/preload"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next","iostap  .btn-word":"checkAnswer"}},i.prototype.initializeData=function(){var t,e;if(i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),t=_.chain(this.options.data.images).map(function(t){return t.imageType&&""!==t.imageType||(t.imageType="image"),t}).filter(function(t){return t.title&&""!==t.title}).value(),this.setArray(t,"images"),e=_.chain(t).where({imageType:"image"}).pluck("image").value(),e.length)return s.load(e,function(e){return function(i){return e.setArray(_.reject(t,function(t){return i.indexOf(t.image)>-1}),"images")}}(this))},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-box"),"container")},i.prototype.startGame=function(){return this.game.timer.timestamp=Date.now(),this.answeredCount=0,i.__super__.startGame.apply(this,arguments)},i.prototype.showNext=function(t){var e;return e=this.getRandom("images"),this.game.timer.timestamp=Date.now(),this.getEl("container").innerHTML=r(_.extend({},this.options.data,{image:e,words:_.chain(this.getArray("images")).pluck("title").without(e.title).uniq().sample(2).concat(e.title).shuffle().value()})),this.getEl("container").offsetTop,this.getEl("container").classList.remove("hidden")},i.prototype.checkAnswer=function(t){var e,i,n;if(!this.game.timer.get("paused"))return i=t.currentTarget.dataset,
n=i.word,e=i.isCorrect,null!=e?this.onCorrectAnswer({score:500,time:1e3,tally:!0}):this.onIncorrectAnswer({time:300,tally:!0}),this.getEl("container").classList.add("hidden"),this.answeredCount+=1,window.setTimeout(function(t){return function(){return t.game.timer.get("isDisabled")&&t.answeredCount===t.getArray("images").length?void t.endGame():t.showNext()}}(this),1200)},i}(o),i.exports=n}),require.register("engine/game-jeopardy/components/menu.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n){var o=12/t.length,s="col-sm-"+o+" col-md-"+o;i.push('<div class="content-ver block-v-md"><div class="row text-center">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,r=n.length;o<r;o++){var a=n[o];i.push("<h2"+jade.cls(["tight","game-category-title",s],[null,null,!0])+'><div class="content-ver">'+(null==(e=a.title)?"":e)+"</div></h2>")}else{var r=0;for(var o in n){r++;var a=n[o];i.push("<h2"+jade.cls(["tight","game-category-title",s],[null,null,!0])+'><div class="content-ver">'+(null==(e=a.title)?"":e)+"</div></h2>")}}}.call(this),i.push('</div><div class="row text-center">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,r=n.length;o<r;o++){var a=n[o];i.push("<div"+jade.cls(["game-category",s],[null,!0])+'><div class="block-v-sm">'),function(){var t=a.questions;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){t[n];i.push("<div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="btn-question block-v-sm"><div'+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+jade.cls(["block-md","block-dk","stars-"+(n+1)],[null,null,!0])+"><div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="text-lg">'+jade.escape(null==(e=200*(n+1))?"":e)+"</div></div></div>")}else{var s=0;for(var n in t){s++;t[n];i.push("<div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="btn-question block-v-sm"><div'+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+jade.cls(["block-md","block-dk","stars-"+(n+1)],[null,null,!0])+"><div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="text-lg">'+jade.escape(null==(e=200*(n+1))?"":e)+"</div></div></div>")}}}.call(this),i.push("</div></div>")}else{var r=0;for(var o in n){r++;var a=n[o];i.push("<div"+jade.cls(["game-category",s],[null,!0])+'><div class="block-v-sm">'),function(){var t=a.questions;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){t[n];i.push("<div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="btn-question block-v-sm"><div'+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+jade.cls(["block-md","block-dk","stars-"+(n+1)],[null,null,!0])+"><div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="text-lg">'+jade.escape(null==(e=200*(n+1))?"":e)+"</div></div></div>")}else{var s=0;for(var n in t){s++;t[n];i.push("<div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="btn-question block-v-sm"><div'+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+jade.cls(["block-md","block-dk","stars-"+(n+1)],[null,null,!0])+"><div"+jade.attr("data-category",o,!0,!1)+jade.attr("data-question",n,!0,!1)+' class="text-lg">'+jade.escape(null==(e=200*(n+1))?"":e)+"</div></div></div>")}}}.call(this),i.push("</div></div>")}}}.call(this),i.push("</div></div>")}.call(this,"categories"in n?n.categories:"undefined"!=typeof categories?categories:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-jeopardy/components/question.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){i.push('<div class="content-ver text-center"><div class="text-md block-v-lg"><h2>'+(null==(e=o.content)?"":e)+'</h2></div><div class="block-v-md row"><div class="col-md-3 col-md-offset-3 col-sm-6"><div'+jade.attr("data-question-id",o.id,!0,!1)+jade.attr("data-answer-id",t["false"].id,!0,!1)+jade.attr("data-is-correct",t["false"].correct,!0,!1)+jade.attr("data-stars",s,!0,!1)+' class="btn btn-solid btn-block btn-check">'+jade.escape(null==(e=n("game-jeopardy.is-false"))?"":e)+'</div></div><div class="col-md-3 col-sm-6"><div'+jade.attr("data-question-id",o.id,!0,!1)+jade.attr("data-answer-id",t["true"].id,!0,!1)+jade.attr("data-is-correct",t["true"].correct,!0,!1)+jade.attr("data-stars",s,!0,!1)+' class="btn btn-solid btn-block btn-check">'+jade.escape(null==(e=n("game-jeopardy.is-true"))?"":e)+"</div></div></div></div>")}.call(this,"answers"in n?n.answers:"undefined"!=typeof answers?answers:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"question"in n?n.question:"undefined"!=typeof question?question:void 0,"stars"in n?n.stars:"undefined"!=typeof stars?stars:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-jeopardy/model.yaml",function(t,e,i){i.exports={title:"game-jeopardy",display:"Jeopardy",description:"Ask questions of varying difficulty",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"Jeopardy"},description:{type:"html","default":"How many stars can you earn? Choose questions from one of three topics. Harder questions will earn you more stars, but answer any question incorrectly and it’s game over!\n"},categories:{min:3,max:3,type:[{title:{type:"html",display:"Category"},questions:{min:5,max:5,type:[{mix:{min:1,max:3,type:[{text:{type:"html"},"true":{type:"boolean",display:"Correct"}}]}}]},help:"Add at least five questions to each category, starting with the easiest worth 200 points.\n"}]},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends at the first wrong answer or until all questions are answered.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars."}},prompt:{type:"html","default":"Select a question from any category"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"jeopardy",title:"Jeopardy",description:"How many stars can you earn? Choose questions from one of three topics. Harder questions will earn you more stars, but answer any question incorrectly and it’s game over!\n",prompt:"Select a question from any category",categories:[{title:"Category 1",questions:[{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]}]},{title:"Category 2",questions:[{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]}]},{title:"Category 3",questions:[{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]},{mix:[{text:"Question 1","true":!0},{text:"Question 2","true":!1},{text:"Question 3","true":!0}]}]}]}]}}),require.register("engine/game-jeopardy/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=l)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=l)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="full-screen content-fill"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('</div><div class="content-fill"><div class="game-box content-fill"><div class="game-menu content-fill"></div><div class="game-question content-fill"></div></div></div><div class="slide-footer slide-up block-v-lg"><div class="slide-footer-prompt text-bold text-uppercase">'+(null==(e=a)?"":e)+"</div></div></div>")}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-jeopardy/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=e("views/base/game"),r=e("lib/preload"),n=e("lib/easie"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.templates={"default":e("./template"),menu:e("./components/menu"),question:e("./components/question")},i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next","iostap .btn-question":"showQuestion","iostap .btn-check":"checkAnswer"}},i.prototype.initializeData=function(){var t,e,n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y;for(i.__super__.initializeData.apply(this,arguments),this.guesses=[],this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),v=this.options,h=v.metadata,o=v.data,e=_.chain(h.questions).groupBy(function(t){var e;return e=t.question,e.category}).map(function(t,e){return{title:e,unOrderedQuestions:t}}).value(),s=a=0,d=e.length;a<d;s=++a)for(n=e[s],e[s].questions=[],y=null!=(g=o.categories[s])?g.questions:void 0,r=l=0,u=y.length;l<u;r=++l)for(f=y[r].mix,null==(t=e[s].questions)[r]&&(t[r]={mix:[]}),p=0,c=f.length;p<c;p++)m=f[p],e[s].questions[r].mix.push(e[s].unOrderedQuestions.shift());return this.questionsDict=_.chain(h.questions).pluck("question").indexBy("id").value(),this.answersDict=_.chain(h.questions).pluck("answers").flatten().indexBy("id").value(),this.setArray("categories",e)},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-menu"),"menu"),this.setEl(this.findOne(".game-question"),"question")},i.prototype.showNext=function(t){return this.getEl("menu").innerHTML=this.templates.menu({categories:this.getArray("categories")}),this.setEl(this.getEl("menu").querySelectorAll(".btn-question"),"questions")},i.prototype.showQuestion=function(t){var e,i,n,o,s,r,a,l;if(!this.game.timer.get("paused"))return r=t.currentTarget.dataset,e=r.category,n=r.question,o=this.getArray("categories")[parseInt(e)].questions[parseInt(n)].mix,s=_.sample(o),a=_.partition(s.answers,function(t){return"true"===t.content||"True"===t.content}),l=a[0],i=a[1],[l,i].map(function(t){return t[0].content=t[0].content.toString()}),t.currentTarget.classList.add("question-answered"),this.getEl("question").innerHTML=this.templates.question({question:s.question,answers:{"true":l[0],"false":i[0]},stars:+n+1}),this.getEl("question").offsetLeft,this.el.classList.add("show-question")},i.prototype.checkAnswer=function(t){var e,i,n,o,s,r,a,l,d;if(n=t.currentTarget,l=n.dataset,a=l.questionId,i=l.answerId,d=l.stars,r=this.questionsDict[a],e=this.answersDict[i],this.guesses.push(r,e),!this.game.timer.get("paused")&&this.el.classList.contains("show-question"))return this.el.classList.remove("show-question"),s=null!=e?e.correct:void 0,o=_.chain(this.getEl("questions")).filter(function(t){return!t.classList.contains("question-answered")}).isEmpty().value(),s&&this.onCorrectAnswer({score:200*d,time:4e3,tally:!0}),o||!s?this.endGame():void 0},i.prototype.answerDetails=function(){var t,e,i;return(null!=(t=this.options)&&null!=(e=t.metadata)&&null!=(i=e.questions)?i.length:void 0)>0?this.guesses:[]},i}(s),i.exports=o}),require.register("engine/game-jumble/components/container.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")};var c="jumble-answer-"+u.toLowerCase(),p=/[\s-]/.test(u)&&u.length>7;p&&(c+=" multiline"),i.push('<div class="jumble-top"><div class="jumble-top-content block-h-xl"><div class="block-v-md"><div class="jumble-image-container block-lt block-v-sm">'),n.image(a,"jumble-image content-ver"),i.push('<div class="jumble-masks">'),function(){var e=new t(60);if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push('<div class="jumble-mask"></div>')}else{var o=0;for(var n in e){o++;e[n];i.push('<div class="jumble-mask"></div>')}}}.call(this),i.push("</div></div></div><div"+jade.cls(["jumble-answer","block-v-sm",c],[null,null,!0])+">"),function(){var t=u;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var r=t[n],a=o.indexOf(r);/[\s-]/.test(r)?p?" "!=r?i.push('<div class="droppy-complete">'+jade.escape(null==(e=r)?"":e)+'</div><div class="line-br-sm"></div>'):i.push("<br/>"):i.push('<div class="droppy-complete">&nbsp;</div>'):a>-1?(o[a]=null,i.push('<div class="droppy-complete"><div class="letter">'+jade.escape(null==(e=r)?"":e)+"</div></div>")):i.push("<div"+jade.attr("data-letter",r,!0,!1)+' class="droppy"><div class="letter">&nbsp;</div></div>')}else{var s=0;for(var n in t){s++;var r=t[n],a=o.indexOf(r);/[\s-]/.test(r)?p?" "!=r?i.push('<div class="droppy-complete">'+jade.escape(null==(e=r)?"":e)+'</div><div class="line-br-sm"></div>'):i.push("<br/>"):i.push('<div class="droppy-complete">&nbsp;</div>'):a>-1?(o[a]=null,i.push('<div class="droppy-complete"><div class="letter">'+jade.escape(null==(e=r)?"":e)+"</div></div>")):i.push("<div"+jade.attr("data-letter",r,!0,!1)+' class="droppy"><div class="letter">&nbsp;</div></div>')}}}.call(this),i.push('</div></div></div><div class="jumble-letters block-md clearfix"><h4 class="jumble-prompt text-md-left block-sm">'+jade.escape(null==(e=s("game-jumble.drag-letters"))?"":e)+"</h4>"),function(){var t=l;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("data-id",r[n],!0,!1)+jade.attr("data-letter",s,!0,!1)+jade.cls(["draggy","bold","draggy-"+n],[null,null,!0])+'><div class="letter">'+jade.escape(null==(e=s)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("data-id",r[n],!0,!1)+jade.attr("data-letter",s,!0,!1)+jade.cls(["draggy","bold","draggy-"+n],[null,null,!0])+'><div class="letter">'+jade.escape(null==(e=s)?"":e)+"</div></div>")}}}.call(this),i.push("</div>")}.call(this,"Array"in o?o.Array:"undefined"!=typeof Array?Array:void 0,"complete"in o?o.complete:"undefined"!=typeof complete?complete:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"ids"in o?o.ids:"undefined"!=typeof ids?ids:void 0,"image"in o?o.image:"undefined"!=typeof image?image:void 0,"letters"in o?o.letters:"undefined"!=typeof letters?letters:void 0,"undefined"in o?o.undefined:void 0,"word"in o?o.word:"undefined"!=typeof word?word:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-jumble/model.yaml",function(t,e,i){i.exports={title:"game-jumble",display:"Letter jumble",description:"Drag letters to complete the word",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"Letter Jumble"},description:{type:"html","default":"Drag the letters to spell words related to each image. Each correct answer will reward extra time to complete more words and earn more points.\n"},words:{min:3,max:20,type:[{image:{type:"image"},word:{type:"html"}}]},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after one round has been played for each word.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars."}},prompt:{type:"html","default":"Drag the letters to the word above"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"jumble",title:"Letter Jumble",description:"Drag the letters to spell words related to each image. Each correct answer will reward extra time to complete more words and earn more points.\n",prompt:"Snag the letters to the word above",words:[{image:"img/examples/product-phone.png",word:"Wireless charging"},{image:"img/examples/product-laptop.png",word:"Retina display"},{image:"img/examples/product-tablet.png",word:"Touch screen"}],challenge_configuration:{nb_stars:5}}]}}),require.register("engine/game-jumble/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=a)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=a)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('<div class="game-box content-fill text-center"></div></div></div>')}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-jumble/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;s=e("views/base/game"),n=e("views/components/draggy").DraggyView,r=e("./components/container"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next"}},i.prototype.initializeData=function(){var t;return i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),t=_.compact(_.map(this.options.data.words,function(t){return _.isString(t.word)&&""!==t.word?(t.word=t.word.replace(/<\/?[^>]+(>|$)/g,""),t.word=_.unescape(t.word),t):null})),this.setArray(t,"words")},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-box"),"container")},i.prototype.startGame=function(){var t,e,n,o;for(this.displayMaskedImage(),this.game.timer.timestamp=Date.now(),o=this.draggies,e=0,n=o.length;e<n;e++)t=o[e],t.unlock();return this.answeredCount=0,i.__super__.startGame.apply(this,arguments)},i.prototype.showNext=function(t){var e,i,o,s,l,d,u,c,p,h,f,m;for(h=this.getRandom("words"),m=h.word,d=h.image,m=m.toUpperCase(),c=this.getRandomLetters(_.without(m.split("")," ")),i=this.getDifficulty(),f=m.length-1,this.game.timer.timestamp=Date.now(),e=function(){var t;for(t=[];c.length>i&&f>0;)u=_.sample(c),p=_.filter(c,function(t,e,i){return i.indexOf(u)!==e}),0!==_.intersection(c,p).length&&(c=p,f-=1,t.push(u));return t}();c.length<Math.min(i+_.random(1,2),6);)c.push(_.sample(a));return l=function(){var t,e,i;for(i=[],t=0,e=c.length;t<e;t++)u=c[t],i.push(Math.random().toString(16).slice(2));return i}(),this.getEl("container").innerHTML=r({ids:l,word:m,image:d,letters:_.shuffle(c),complete:e}),this.setEl(this.findAll(".jumble-mask"),"masks"),this.droppies=this.getElements(".droppy"),this.draggies=function(){var e,i,r,a;for(r=this.findAll(".draggy"),a=[],e=0,i=r.length;e<i;e++)s=r[e],o=new n({el:s}),this.listenTo(o,"drag",this.onDrag),this.listenTo(o,"drop",this.onDrop),t&&o.lock(),a.push(o);return a}.call(this),t||this.displayMaskedImage(),this.displayLetters(),this.displayDraggies(),this.getEl("container").offsetTop,this.transform(this.getEl("container"),{opacity:1,transition:"opacity 300ms"})},i.prototype.displayMaskedImage=function(){var t,e,i,n,o,s;for(o=_.shuffle(this.getEl("masks")),s=[],e=i=0,n=o.length;i<n;e=++i)t=o[e],s.push(this.transform(t,{opacity:0,transition:"opacity 300ms "+e*(5e3/this.getEl("masks").length)+"ms"}));return s},i.prototype.displayLetters=function(){var t,e,i,n,o,s,r;for(s=this.findAll(".jumble-answer, .jumble-letters"),r=[],n=0,o=s.length;n<o;n++)e=s[n],r.push(function(){var n,o,s,r;for(s=e.querySelectorAll(".letter"),r=[],i=n=0,o=s.length;n<o;i=++n)t=s[i],this.transition(t,"all 300ms "+50*i+"ms",!0),r.push(t.classList.add("visible"));return r}.call(this));return r},i.prototype.displayDraggies=function(){var t,e,i,n,o;for(n=this.draggies,o=[],e=0,i=n.length;e<i;e++)t=n[e],o.push(this.resetDraggy(t));return o},i.prototype.getElements=function(t){var e,i,n,o,s;for(o=this.findAll(t),s=[],i=0,n=o.length;i<n;i++)e=o[i],s.push({el:e,bounds:e.getBoundingClientRect()});return s},i.prototype.onDrag=function(t,e){var i,n,o,s,r,a,l,d,u,c,p,h,f,m,v;for(e&&(this.droppies=this.getElements(".droppy",this.droppies)),n=t.closest(_.pluck(this.droppies,"bounds")),i=this.droppies[n],c=this.droppies,r=a=0,d=c.length;a<d;r=++a)o=c[r],o.el.classList.toggle("active",r===n),o.isActive=r===n;for(t.el.classList.toggle("active-pos",null!=i),p=this.draggies,l=0,u=p.length;l<u;l++)s=p[l].el,s!==t.el&&(f=s.dataset.id===(null!=i?i.el.dataset.contains:void 0),s.classList.toggle("hidden",f));if(h=i?this.positionFromBounds(t,i.bounds):t,m=h.x,v=h.y,this.transform(t.el,{x:m,y:v,scale:i?1:1.4,transition:e||i?"all 300ms":"none"}),!e)return t.el.offsetLeft},i.prototype.onDrop=function(t){var e,i,n,o;return e=_.findWhere(this.droppies,{isActive:!0}),e?(i=this.positionFromBounds(t,e.bounds),n=i.x,o=i.y):n=o=0,t.x!==n||t.y!==o?t.reset({x:n,y:o}):(this.transform(t.el,{x:t.x,y:t.y,transition:"all 300ms"}),this.updateDroppies(t),this.checkAnswer())},i.prototype.updateDroppies=function(t){var e,i,n,o,s,r;for(s=this.droppies,r=[],n=0,o=s.length;n<o;n++)i=s[n],i.el.classList.remove("active"),e=i.el.dataset.contains===t.el.dataset.id,i.isActive?(t.el.classList.add("is-positioned"),i.el.dataset.contains&&!e&&(i.isActive=!1,this.resetDraggy(this.getDraggy(i.el.dataset.contains))),r.push(i.el.dataset.contains=t.el.dataset.id)):e?r.push(delete i.el.dataset.contains):r.push(void 0);return r},i.prototype.positionFromBounds=function(t,e){var i,n,o,s,r;return o=t.offset,n=o.left,s=o.top,r=o.width,i=o.height,{x:Math.round(e.left+e.width/2-n-r/2),y:Math.round(e.top+e.height/2-s-i/2)}},i.prototype.resetDraggy=function(t){return t.reset(),t.el.classList.remove("is-positioned","hidden","active-pos"),this.transform(t.el,{rotate:_.random(-8,8),transition:"all 300ms"})},i.prototype.checkAnswer=function(){var t,e,i,n,o,s,r,a;if(t=this.droppies.filter(function(t){return t.el.dataset.letter}),e=t.filter(function(t){return function(e){var i;return i=t.getDraggy(e.el.dataset.contains),e.el.dataset.letter===(null!=i?i.el.dataset.letter:void 0)}}(this)),t.length===e.length){for(a=this.draggies,o=0,s=a.length;o<s;o++)n=a[o],n.undelegateEvents();return i=this.game.timer.timestamp-Date.now(),r=5e3+500*this.getDifficulty(),this.onCorrectAnswer({score:1e3,time:3e3,tally:!0}),this.el.classList.add("correct"),this.transform(this.getEl("container"),{opacity:0,transition:"opacity 300ms 900ms"}),window.setTimeout(function(t){return function(){var e,i,n,o,s;for(o=t.findAll(".letter"),s=[],i=0,n=o.length;i<n;i++)e=o[i],s.push(e.classList.remove("visible"));return s}}(this),300),window.setTimeout(function(t){return function(){return t.el.classList.remove("correct"),t.answeredCount+=1,t.game.timer.get("isDisabled")&&t.answeredCount===t.getArray("words").length?void t.endGame():t.showNext()}}(this),1200)}},i.prototype.getDraggy=function(t){var e;return function(){var i,n,o,s;for(o=this.draggies,s=[],i=0,n=o.length;i<n;i++)e=o[i],e.el.dataset.id===t&&s.push(e);return s}.call(this)[0]},i.prototype.getDifficulty=function(){return Math.floor(_.limit(this.game.score.get("consecutive")/1.6,6,1))},i.prototype.getRandomLetters=function(t){return _.chain(a).difference(t).sample(6-t.length).value().concat(t)},i}(s),i.exports=o}),require.register("engine/game-memory/components/tiles.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a){n["video-stream"]=e=function(t,e,n,r,a){this&&this.block,this&&this.attributes||{};s=s||!0,n=n||!0,r=r||"video vjs-fluid";var l=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,d="";t&&t.indexOf(l)>-1&&(d=t.replace(l,l+"sp_full_hd/"),d=d.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",a,!0,!1)+jade.cls(["video-js",r],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),d&&i.push("<source"+jade.attr("src",d,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');
break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},function(){var t=r;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("data-index",s.index,!0,!1)+jade.cls(["tile","tile-"+r.length/2],[null,!0])+'><div class="tile-content"><div class="btn btn-solid tile-front"><div class="content text-xl">?</div></div><div'+jade.cls(["btn","btn-solid","tile-back",s.klass],[null,null,null,!0])+">"),n["multi-content"]("content",s),i.push("</div></div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("data-index",s.index,!0,!1)+jade.cls(["tile","tile-"+r.length/2],[null,!0])+'><div class="tile-content"><div class="btn btn-solid tile-front"><div class="content text-xl">?</div></div><div'+jade.cls(["btn","btn-solid","tile-back",s.klass],[null,null,null,!0])+">"),n["multi-content"]("content",s),i.push("</div></div></div>")}}}.call(this)}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"tiles"in o?o.tiles:"undefined"!=typeof tiles?tiles:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-memory/model.yaml",function(t,e,i){i.exports={title:"game-memory",display:"Memory",category:"Game",description:"Find matching pairs of tiles",features:{stars:!0},model:{title:{type:"text","default":"Find matching pairs of tiles"},description:{type:"html","default":"Use your memory to find the matching pairs tiles. Tap on a tile to select it and then tap its matching pair.\n"},tiles:{min:2,max:4,type:[{left:{types:["text","image"]},right:{types:["text","image"]}}]},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after all pairs have been matched.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars."}},prompt:{type:"text","default":"Find matching pairs of tiles"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"memory",tiles:[{left:"Pig",right:"Pink"},{left:"Cow",right:"Brown"},{left:"Cat",right:"Black, white, cream, ginger, brown & different assortments of the aforementioned (tortoiseshell)\n"},{left:"Polar Bear",right:"White"}]}]}}),require.register("engine/game-memory/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=l)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=l)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="content-fill full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('</div><div class="game-tiles content-fill text-center"></div><div class="slide-footer slide-up block-v-lg"><div class="slide-footer-prompt text-uppercase text-bold">'+(null==(e=a)?"":e)+"</div></div></div>")}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-memory/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/base/game"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.templates={"default":e("./template"),tiles:e("./components/tiles")},i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .tile":"selectTile","iostap .goto-next":"next"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.tiles=_.chain(t.tiles).map(function(t,e){var i,n,o,s;return i=t.left,n=t.leftType,o=t.right,s=t.rightType,null!=i&&null!=o?[{content:i,contentType:n,index:e},{content:o,contentType:s,index:e}]:[]}).flatten().shuffle().each(function(t){return t.content.length>20?t.klass="text-sm":t.content.length<8?t.klass="text-lg":void 0}).value(),t},i.prototype.initializeData=function(){return i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0)},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-tiles"),"container")},i.prototype.enterGame=function(){return this.getEl("container").innerHTML=this.templates.tiles(this.serialize()),this.setEl(this.findAll(".tile"),"tiles"),this.elements.current=null,i.__super__.enterGame.apply(this,arguments)},i.prototype.startGame=function(){return this.game.timer.timestamp=Date.now(),i.__super__.startGame.apply(this,arguments)},i.prototype.selectTile=function(t){var e,i;if(i=this.getEl("current"),e=t.currentTarget,!this.game.timer.get("paused")&&!e.classList.contains("correct"))return e.classList.toggle("active"),i?(e.classList.contains("active")&&this.compareTiles(i,e),this.elements.current=null):this.setEl(e,"current")},i.prototype.compareTiles=function(t,e){var i,n,o,s,r;if(t!==e&&t.dataset.index===e.dataset.index?(t.classList.add("correct"),e.classList.add("correct"),t.classList.add("active"),e.classList.add("active"),i=this.getEl("tiles"),n=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],r.classList.contains("correct")&&n.push(r);return n}(),o=n.length===i.length,s=!0):window.setTimeout(function(){return t.classList.remove("active"),e.classList.remove("active")},1e3),s&&(this.onCorrectAnswer({score:1e3,tally:!0}),this.game.timer.timestamp=Date.now()),o)return window.setTimeout(_.bind(this.endGame,this),1e3)},i}(o),i.exports=n}),require.register("engine/game-next-in-order/components/options.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i,n,o){(function(){var o=i;if("number"==typeof o.length)for(var s=0,r=o.length;s<r;s++){var a=o[s];e.push('<div class="btn-image-container block-md"><img'+jade.attr("src",a,!0,!1)+jade.attr("data-is-correct",a===n[t[0]],!0,!1)+jade.cls(["btn-image","delay-"+s],[null,!0])+"/></div>")}else{var r=0;for(var s in o){r++;var a=o[s];e.push('<div class="btn-image-container block-md"><img'+jade.attr("src",a,!0,!1)+jade.attr("data-is-correct",a===n[t[0]],!0,!1)+jade.cls(["btn-image","delay-"+s],[null,!0])+"/></div>")}}}).call(this)}.call(this,"missing"in i?i.missing:"undefined"!=typeof missing?missing:void 0,"options"in i?i.options:"undefined"!=typeof options?options:void 0,"sequence"in i?i.sequence:"undefined"!=typeof sequence?sequence:void 0,"undefined"in i?i.undefined:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-next-in-order/components/sequence.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i,n){(function(){var n=i;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o],a=t.indexOf(o)>-1?"hidden":"";e.push('<div class="next-img-container block-sm"><div'+jade.cls(["block-lt","block-sm",a+" delay-"+o],[null,null,!0])+"><img"+jade.attr("src",r,!0,!1)+' class="next-img"/></div></div>')}else{var s=0;for(var o in n){s++;var r=n[o],a=t.indexOf(o)>-1?"hidden":"";e.push('<div class="next-img-container block-sm"><div'+jade.cls(["block-lt","block-sm",a+" delay-"+o],[null,null,!0])+"><img"+jade.attr("src",r,!0,!1)+' class="next-img"/></div></div>')}}}).call(this)}.call(this,"missing"in i?i.missing:"undefined"!=typeof missing?missing:void 0,"sequence"in i?i.sequence:"undefined"!=typeof sequence?sequence:void 0,"undefined"in i?i.undefined:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-next-in-order/model.yaml",function(t,e,i){i.exports={title:"game-next-in-order",display:"Next in order",description:"Select the image that comes next",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"What comes next?"},description:{type:"html","default":"Can you remember the correct order? Select the image that completes the following sequence.\n"},sequence:{min:3,max:9,type:[{type:"image"}]},imposters:{min:0,max:9,type:[{type:"image"}],help:"Imposters are images that don't belong in the sequence."},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after one sequence is attempted.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars."}},prompt:{type:"html","default":"Select the image that is next in order"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"next-in-order",title:"What comes next?",description:"Can you remember the correct order? Select the image that completes the following sequence.\n",prompt:"Select the image that is next in order",sequence:["img/examples/product-phone.png","img/examples/product-laptop.png","img/examples/product-tablet.png"]}]}}),require.register("engine/game-next-in-order/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=l)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=r("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=l)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",o?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),o&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=r("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=r("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=n)?"":e)+'</div></div></div><div class="content-playing"><div class="full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),s&&i.push(""+jade.escape(null==(e=r("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=r("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),s&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),s&&i.push('<div class="game-bonus-time"></div>'),i.push('<div class="block-lg content-fill"><div class="text-center content-fill game-box"><div class="next-top"><div class="content-ver"><h4 class="next-prompt block-lg text-md">'+(null==(e=a)?"":e)+'</h4><div class="next-sequence block-dk block-sm"></div></div></div><div class="next-options"></div></div></div></div></div>')}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-next-in-order/view.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty,u=[].slice;o=e("views/base/game"),a=e("./components/sequence"),r=e("./components/options"),s=e("lib/preload"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next","iostap .btn-image":"checkAnswer"}},i.prototype.initializeData=function(){var t,e,n,o,r,a,l;i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),o=this.options.data,e=o.imposters,l=o.sequence,r={imposters:e,sequence:l},a=[];for(n in r)t=r[n],t=_.compact(t),t=_.filter(t,_.isString),this.setArray(n,t),a.push(s.load(t,function(e){return function(i){return null==i&&(i=[]),e.setArray(n,_.without.apply(_,[t].concat(u.call(i))))}}(this)));return a},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-box"),"container"),this.setEl(this.findOne(".next-sequence"),"sequence"),this.setEl(this.findOne(".next-options"),"options")},i.prototype.startGame=function(){return this.game.timer.timestamp=Date.now(),i.__super__.startGame.apply(this,arguments)},i.prototype.showNext=function(){var t;return this.setArray("missing",_.chain(function(){t=[];for(var e=0,i=this.getArray("sequence").length;0<=i?e<i:e>i;0<=i?e++:e--)t.push(e);return t}.apply(this)).sample(this.getDifficulty()).sortBy(_.identity).value()),this.continueSequence(!0)},i.prototype.continueSequence=function(t){var e,i,n,o;if(this.game.timer.timestamp=Date.now(),e=_.extend({},this.options.data,{missing:this.getArray("missing"),options:_.chain(this.getArray("missing").slice(1)).map(function(t){return function(e){return t.getArray("sequence")[e]}}(this)).concat(this.getArray("imposters")).sample(3).concat(this.getArray("sequence")[this.getArray("missing")[0]]).shuffle().value()}),this.getEl("options").innerHTML=r(e),n=this.getEl("sequence"),t&&(this.getEl("container").classList.remove("hidden"),n.innerHTML=a(e),n.style.width=this.getArray("sequence").length*n.firstChild.offsetWidth+"px"),n.querySelectorAll(".hidden").item(0))return i=n.querySelectorAll(".hidden").item(0),o=-i.parentNode.offsetLeft-n.offsetLeft-(i.parentNode.offsetWidth-n.parentNode.offsetWidth)/2,i.classList.add("hidden-next"),this.transform(this.getEl("sequence"),{x:o,transition:"all 300ms"}),this.setArray("missing",this.getArray("missing").slice(1)),this.getEl("container").offsetTop,this.getEl("container").classList.remove("hidden","between")},i.prototype.checkAnswer=function(t){var e,i,n;if(e=this.findOne(".hidden-next"),!this.game.timer.get("paused")&&null!=e)return n=t.currentTarget.dataset.isCorrect,i=0===this.getArray("missing").length,n?this.onCorrectAnswer({score:i?1e3:200,time:i?3e3:500,tally:!0}):this.onIncorrectAnswer({time:1e3,tally:!0}),e.classList.remove("hidden","hidden-next"),i||!n?window.setTimeout(function(t){return function(){return t.game.timer.get("isDisabled")?void t.endGame():(t.getEl("container").classList.add("hidden"),window.setTimeout(function(){return t.showNext()},800))}}(this),500):(this.getEl("container").classList.add("between"),window.setTimeout(function(t){return function(){return t.continueSequence()}}(this),800))},i.prototype.getDifficulty=function(){var t;return this.game.timer.get("isDisabled")?this.getArray("sequence").length:(t=this.game.score.get("consecutive"),Math.floor(_.limit((t+1)/2,this.getArray("sequence").length,2)))},i}(o),i.exports=n}),require.register("engine/game-true-or-false/components/statement.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i,n){(function(){var n=i;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o],a=t.indexOf(o)>-1?"hidden":"";e.push("<div"+jade.cls(["pull-left","delay-"+o],[null,!0])+'><div class="block-sm"><div'+jade.cls(["next-img-container","block-sm","block-lt",a],[null,null,null,!0])+"><img"+jade.attr("src",r,!0,!1)+' class="next-img"/></div></div></div>')}else{var s=0;for(var o in n){s++;var r=n[o],a=t.indexOf(o)>-1?"hidden":"";e.push("<div"+jade.cls(["pull-left","delay-"+o],[null,!0])+'><div class="block-sm"><div'+jade.cls(["next-img-container","block-sm","block-lt",a],[null,null,null,!0])+"><img"+jade.attr("src",r,!0,!1)+' class="next-img"/></div></div></div>')}}}).call(this)}.call(this,"missing"in i?i.missing:"undefined"!=typeof missing?missing:void 0,"sequence"in i?i.sequence:"undefined"!=typeof sequence?sequence:void 0,"undefined"in i?i.undefined:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-true-or-false/model.yaml",function(t,e,i){i.exports={title:"game-true-or-false",display:"Left or right",description:"Swipe statements into categories",category:"Game",features:{stars:!0},model:{title:{type:"html","default":"True or false?"},description:{type:"html","default":"Which of these statements is true? Swipe the incorrect statements to the left and the true statements to the right.\n"},statements:{min:3,max:30,type:[{text:{type:"html"},"true":{type:"boolean",display:"Right Side"}}]},falseText:{display:"Left Side",type:"html","default":"False"},trueText:{display:"Right Side",type:"html","default":"True"},game:{timer:{limit:{type:"number","default":2e4,min:1,display:"Time Limit (seconds)"},isDisabled:{type:"boolean","default":!1,display:"Disable",help:"If the timer is disabled, the game ends after all questions have been answered.\n"}},stars:{min:{type:"int","default":1e3,display:"1 Star"},max:{type:"int","default":1e3,display:"All Stars"},help:"Number of points required to earn stars. 1000 points are earned per question. Don’t forget to have enough time and questions to earn all the stars!"}},prompt:{type:"html","default":"Swipe to answer"},doneText:{display:"Done text",type:"html","default":"Move on"}},examples:[{subtype:"true-or-false",title:"True or false?",prompt:"Swipe to answer",description:"Which of these statements is true? Swipe the incorrect statements to the left and the true statements to the right.",falseText:"False",trueText:"True",statements:[{text:"Africa is the continent with the most countries","true":!0},{text:"Halley’s comet passes the Earth every 67 years","true":!1},{text:"The Amazon rainforest produces half the world’s oxygen supply","true":!0}]},{subtype:"classify",hidden:!0,title:"Classify?",prompt:"Swipe to answer",description:"Which of items are a fruit? Swipe the vegetable to the left and the fruits to the right.",falseText:"Vegetable",trueText:"Fruit",statements:[{text:"Banana","true":!0},{text:"Apple","true":!0},{text:"Carrot","true":!1},{text:"Potato","true":!1},{text:"Dragon Fruit","true":!0}]}]}}),require.register("engine/game-true-or-false/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=d)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=a("game.play-game"))?"":e)+'</div></div></div></div></div><div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=d)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",s?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=a("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=a("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),s&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=a("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=a("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=o)?"":e)+'</div></div></div><div class="content-playing"><div class="content-fill full-screen"><div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),r&&i.push(""+jade.escape(null==(e=a("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=a("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),r&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),r&&i.push('<div class="game-bonus-time"></div>'),i.push('<div class="row content-fill"><div'+jade.cls(["col-sm-2","content-fill","block-dk","text-lg","text-center",n[0].klass],[null,null,null,null,null,!0])+'><h4 class="game-label content-ver block-h-lg">'+(null==(e=n[0].text)?"":e)+'</h4></div><div class="game-statement-container col-sm-8 content-fill"><div class="content-ver text-sm text-center"><h1 class="game-statement block-lg"></h1></div></div><div'+jade.cls(["col-sm-2","content-fill","block-dk","text-lg","text-center",n[1].klass],[null,null,null,null,null,!0])+'><h4 class="game-label content-ver block-h-lg">'+(null==(e=n[1].text)?"":e)+'</h4></div></div></div><div class="slide-footer slide-up block-v-lg"><div class="slide-footer-prompt text-uppercase text-bold">'+(null==(e=l)?"":e)+"</div></div></div>")}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"displayOrder"in n?n.displayOrder:"undefined"!=typeof displayOrder?displayOrder:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/game-true-or-false/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=e("views/base/game"),n=e("views/components/draggy").AutoCursorRemoveDraggy,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.templates={"default":e("./template"),statement:e("./components/statement")},i.prototype.events=function(){return{"iostap .play-game":"enterGame","iostap .goto-next":"next"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.falseText=_.hyphenate(t.falseText),t.trueText=_.hyphenate(t.trueText),t.displayOrder=[{klass:"game-false",text:t.falseText},{klass:"game-true",text:t.trueText}],"rtl"===this.options.config().direction&&t.displayOrder.reverse(),t},i.prototype.initializeData=function(){return i.__super__.initializeData.apply(this,arguments),this.game.extra.set("fullscreen",!0),this.game.extra.set("sounds",!0),this.setArray("statements",_.filter(this.options.data.statements,function(t){return t.text}))},i.prototype.initializeElements=function(){return i.__super__.initializeElements.apply(this,arguments),this.setEl(this.findOne(".game-true"),"true"),this.setEl(this.findOne(".game-false"),"false"),this.draggy=new n({el:this.findOne(".game-statement")}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop)},i.prototype.enterGame=function(){return i.__super__.enterGame.apply(this,arguments),this.draggy.lock()},i.prototype.startGame=function(){return this.game.timer.timestamp=Date.now(),this.answeredCount=0,this.draggy.unlock(),this.guesses=[],i.__super__.startGame.apply(this,arguments)},i.prototype.onDrag=function(t,e){var i,n;if(!t.el.classList.contains("hidden"))return n=this.isRight(t),i=this.isLeft(t),"rtl"===this.options.config().direction?(this.getEl("true").classList.toggle("active",i),this.getEl("false").classList.toggle("active",n)):(this.getEl("true").classList.toggle("active",n),this.getEl("false").classList.toggle("active",i)),this.transform(t.el,{x:t.x,y:t.y/1.2,rotate:t.x*-t.y/5e3,transition:e?"all 300ms":""})},i.prototype.onDrop=function(t,e){var i,n,o;if(e)return this.transform(t.el,{x:t.x,y:t.y});if(!t.el.classList.contains("hidden"))return i=this.didMove(t),i?(o=this.el.offsetWidth*Math.abs(t.x)/t.x,t.reset({x:o,y:t.y}),this.transition(t.el,"all 300ms",!0),t.el.classList.add("hidden"),n="rtl"===this.options.config().direction?this.isLeft(t)===t.isTrue:this.isRight(t)===t.isTrue,window.setTimeout(function(e){return function(){var i,o,s;return n?e.onCorrectAnswer({score:1e3,time:1e3,tally:!0}):e.onIncorrectAnswer({time:1e3,tally:!0}),s=t.$el.text(),o="left"===t.velocity.dir?"false":"true",i={q:s,a:o},e.guesses.push(i),e.transition(t.el,"",!0),t.reset(),e.answeredCount+=1,e.game.timer.get("isDisabled")&&e.answeredCount===e.getArray("statements").length?void e.endGame():e.showNext()}}(this),400)):(this.transition(t.el,"all 300ms"),t.reset())},i.prototype.didMove=function(t){return this.isRight(t)||this.isLeft(t)},i.prototype.isRight=function(t){return Math.abs(t.velocity.x)>.5&&"right"===t.velocity.dir||t.x>.33*this.el.offsetWidth},i.prototype.isLeft=function(t){return Math.abs(t.velocity.x)>.5&&"left"===t.velocity.dir||t.x<.33*-this.el.offsetWidth},i.prototype.showNext=function(){var t;return this.game.timer.timestamp=Date.now(),t=this.getRandom("statements"),this.getEl("true").classList.remove("active"),this.getEl("false").classList.remove("active"),this.draggy.el.innerHTML=t.text,this.draggy.isTrue=t["true"],this.draggy.el.offsetLeft,this.draggy.el.classList.remove("hidden")},i.prototype.answerDetails=function(){var t,e;return e=this.options.metadata.questions||[],e.length>0?(t=_.indexBy(e,function(t){return t.question.content}),_.chain(this.guesses).map(function(e){var i,n;return n=e.q,i=e.a,!!t[n]&&{question:t[n].question,answer:_.find(t[n].answers,function(t){return t.content.toString()===t})}}).filter(function(t){return t}).value()):[]},i}(s),i.exports=o}),require.register("engine/image-collection/model.yaml",function(t,e,i){i.exports={title:"image-collection",display:"Image collection",description:"Show a grid of images",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html"},images:{display:"List items",type:[{image:{type:"image"},content:{type:"html"},narration:{type:"audio"}}],min:2,max:8},lightbox:{type:"boolean","default":!1,help:"Focus on the image by hiding other parts of the interface. If a background color is set, that color will be used.\n"},background:{type:"string","default":"",display:"Background color",help:"This color (eg. “orange”, “#f90”, “rgb(255,160,0)”) will be used for the background in lightbox mode.\n"
},prompt:{type:"html","default":"Select each image for more details"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"image-collection",title:"Example Image Collection",images:[{image:"img/examples/product-phone.png",content:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{image:"img/examples/product-laptop.png",content:"Crystal clear display performs better than any of our competitors.\n"},{image:"img/examples/product-tablet.png",content:"The newest feature offers a new level of feedback for the user.\n"}]}]}}),require.register("engine/image-collection/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="block-v-lg content-fill text-center"><div class="tappies-parent content-fill"><div class="thumbnail-collection content-sm-ver content-md-ver content-lg-ver"><div class="title-wrapper"><h1 class="title slide-down delay-3 tight">'+(null==(e=c)?"":e)+'</h1></div><div class="row tappies text-center">');var h="col-sm-12 col-lg-8 col-lg-offset-2",f="col-sm-6 col-lg-6";(function(){var t=u;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("data-index",e,!0,!1)+jade.cls(["tappy","content-fill","slide-up","delay-"+(e+1)+" "+(u.length>=4?f:h)],[null,null,null,!0])+'><div class="tappy-child content-fill block-dk block-sm">'),n.image(s.image,"content-ver thumbnail"),i.push("</div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("data-index",e,!0,!1)+jade.cls(["tappy","content-fill","slide-up","delay-"+(e+1)+" "+(u.length>=4?f:h)],[null,null,null,!0])+'><div class="tappy-child content-fill block-dk block-sm">'),n.image(s.image,"content-ver thumbnail"),i.push("</div></div>")}}}).call(this),i.push('</div></div></div><div class="details-parent content-fill">'),function(){var t=u;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push('<div class="image-details content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 content-lg-ver image-container">'),n.image(r.image,"image-full-size block-v-md"),i.push('</div><div class="col-lg-6 content-lg-ver"><div class="caption block-v-md block-h-md text-md">'+(null==(e=r.content)?"":e)+"</div></div></div></div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push('<div class="image-details content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 content-lg-ver image-container">'),n.image(r.image,"image-full-size block-v-md"),i.push('</div><div class="col-lg-6 content-lg-ver"><div class="caption block-v-md block-h-md text-md">'+(null==(e=r.content)?"":e)+"</div></div></div></div>")}}}.call(this),i.push("</div></div><div"+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"tappies"in o?o.tappies:"undefined"!=typeof tappies?tappies:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-collection/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("lib/preload"),s=e("views/slide"),r=Application.actions().Sound,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.events=function(){return{"iostap .btn-done":"submit","iostap .image-details":"hideDetails","iostap .tappy":"toggleThumbnail"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.tappies=_.filter(t.images||[],function(t){return t.image}),t.hasPrompt=!0,t},i.prototype.onResize=function(){var t;return this.el.classList.remove("active"),t=_.pluck(this.options.data.images,"image"),o.load(_.compact(t),function(t){return function(){return t.setTappyHeight(),t.fitText(function(){return window.setTimeout(function(){return t.el.classList.add("active")},300)})}}(this))},i.prototype.onDetailResize=function(){var t;return t=this.getEl("active-details"),this.limitImageSize(t)},i.prototype.show=function(){var t;return this.setEl(this.findOne(".tappies-parent"),"parent"),this.setEl(this.findOne(".tappies"),"tappies"),this.setEl(this.findOne(".title-wrapper"),"title"),this.setEl(this.findAll(".image-details"),"imageDetails"),this.listenTo(this,"resize",this.onResize),this.onResize(),this.toVisit=function(){t=[];for(var e=0,i=this.serialize().tappies.length;0<=i?e<i:e>i;0<=i?e++:e--)t.push(e);return t}.apply(this),this.hideDetails()},i.prototype.beforeHide=function(){if(this.currentSrc)return r.fadeOut(this.currentSrc,500,.02)},i.prototype.setTappyHeight=function(){var t,e,i,n,o,s,r,a,l;for(o=this.getEl("tappies").children.length,o>=4&&(o=Math.ceil(o/2)),s=this.getEl("parent").offsetHeight-this.getEl("title").offsetHeight,l=s/o,l=Math.min(l,220),r=this.getEl("tappies").children,a=[],e=i=0,n=r.length;i<n;e=++i)t=r[e],a.push(t.style.height=l+"px");return a},i.prototype.limitImageSize=function(t){var e,i,n,o,s;return n=t.querySelector(".image-full-size"),s=t.querySelector(".caption"),e=t.offsetHeight-s.offsetHeight,i=t.offsetWidth,o=_.max([n.height/e,n.width/i]),n.style.height=n.height/o+"px"},i.prototype.toggleThumbnail=function(t){return this.showDetails(t.currentTarget,!0)},i.prototype.showDetails=function(t,e){var i,n,o,s;return n=+t.dataset.index,i=this.getEl("imageDetails").item(n),s=this.serialize().tappies[n].narration,o=!1,this.currentSrc&&r.stop(this.currentSrc),(this.currentSrc=s)&&!this.withoutNarration&&(this.showLoadingNarration(),r.play(s,{cb:function(){},onProgress:function(t){return function(){if(!o)return o=!0,t.hideLoadingNarration()}}(this)})),this.toVisit=_.without(this.toVisit,n),this.setEl(i,"active-details"),_.isEmpty(this.toVisit)&&this.setState("touched"),this.setState("active","details"),this.showLightbox(),this.listenTo(this,"resize",this.onDetailResize),this.onDetailResize(),t.classList.add("visited"),this.transform(i,{opacity:1,transition:e?"all 300ms":""}),i.classList.add("image-details-visible")},i.prototype.hideDetails=function(){var t;if(this.currentSrc&&r.fadeOut(this.currentSrc,500,.02),t=this.getEl("active-details"))return this.transform(t,{opacity:0,scale:.9,transition:"all 300ms"}),t.classList.remove("image-details-visible"),this.trigger("ui",{lightbox:!1}),this.setState("inactive","details")},i.prototype.showLightbox=function(){if(this.options.data.lightbox)return this.trigger("ui",{lightbox:this.options.data.background||!0})},i.prototype.refresh=function(t){var e,n,o,s,r,a,l,d;if(t.data.images.length===this.options.data.images.length)for(a=t.data.images,o=s=0,r=a.length;s<r;o=++s)n=a[o].content,n&&(null!=(l=this.options.data.images[o])?l.content:void 0)!==n&&(e=o);if(i.__super__.refresh.apply(this,arguments),null!=e&&(d=this.getEl("tappies").children[e]))return this.showDetails(d,!1)},i}(s),i.exports=n}),require.register("engine/image-gallery/model.yaml",function(t,e,i){i.exports={title:"image-gallery",display:"Horizontal series",category:"Content",description:"Swipe through a gallery of images",links:{academy:"https://academy.edapp.com/tag/image-gallery/"},features:{narration:!0,social:!0},model:{images:{min:1,max:10,type:[{image:{type:"image",display:"Image"},caption:{type:"html"}}]},lightbox:{type:"boolean","default":!1,help:"Focus on the image by hiding other parts of the interface. If a background color is set, that color will be used.\n"},background:{type:"string","default":"",display:"Background color",help:"This color (eg. “orange”, “#f90”, “rgb(255,160,0)”) will be used for the background in lightbox mode.\n"},prompt:{type:"html","default":"Swipe to continue"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"image-gallery",templateDescription:"Show images in order",images:[{image:"img/examples/product-phone.png",caption:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{image:"img/examples/product-laptop.png",caption:"Crystal clear display performs better than any of our competitors.\n"},{image:"img/examples/product-tablet.png",caption:"The newest feature offers a new level of feedback for the user.\n"}]},{subtype:"text-gallery",templateDescription:"Show text blocks in order",images:[{caption:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{caption:"Crystal clear display performs better than any of our competitors.\n"},{caption:"The newest feature offers a new level of feedback for the user.\n"}]}]}}),require.register("engine/image-gallery/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-wrapper content-fill slide-up"><div class="carousel content-fill delay-6 draggy block-v-xl"><div'+jade.attr("style","width:"+100*l.length+"%;",!0,!1)+' class="carousel-slider content-fill clearfix">'),function(){var t=l;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push("<div"+jade.attr("style","width: "+100/l.length+"%;",!0,!1)+' class="carousel-item content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver">');var a=_.compact([r.image,r.caption]).length,d=2==a?"col-lg-6":"";r.image&&(i.push("<div"+jade.cls(["col-sm-12","content-lg-ver",d],[null,null,!0])+">"),n.image(r.image,"img"),i.push("</div>")),r.caption&&i.push("<div"+jade.cls(["caption","content-fit","col-sm-12","content-lg-ver",d],[null,null,null,null,!0])+'><div class="text-center text-md block-v-lg">'+(null==(e=r.caption)?"":e)+"</div></div>"),i.push("</div></div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push("<div"+jade.attr("style","width: "+100/l.length+"%;",!0,!1)+' class="carousel-item content-fill"><div class="row content-lg-fill content-sm-ver content-md-ver">');var a=_.compact([r.image,r.caption]).length,d=2==a?"col-lg-6":"";r.image&&(i.push("<div"+jade.cls(["col-sm-12","content-lg-ver",d],[null,null,!0])+">"),n.image(r.image,"img"),i.push("</div>")),r.caption&&i.push("<div"+jade.cls(["caption","content-fit","col-sm-12","content-lg-ver",d],[null,null,null,null,!0])+'><div class="text-center text-md block-v-lg">'+(null==(e=r.caption)?"":e)+"</div></div>"),i.push("</div></div>")}}}.call(this),i.push("</div></div></div>"),l.length>1&&(i.push('<div class="pagination">'),function(){var t=l;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){t[e];i.push("<div"+jade.attr("data-page",e,!0,!1)+' class="dot"></div>')}else{var n=0;for(var e in t){n++;t[e];i.push("<div"+jade.attr("data-page",e,!0,!1)+' class="dot"></div>')}}}.call(this),i.push("</div>")),i.push("<div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"images"in o?o.images:"undefined"!=typeof images?images:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-gallery/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=e("views/slide"),o=e("views/components/draggy").DraggyView,r=e("lib/preload"),n=e("lib/device"),l=e("lib/fit-text"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.currentIndex=0,i.prototype.events={"iostap .btn-done":"submit","iostap .dot":"goToPage"},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),this.options.data.images=t.images=(t.images||[]).filter(function(t){return t.image||t.caption.length>0}),"rtl"!==this.options.config().direction||this.options.data.isReversed||(t.images=t.images.reverse(),this.options.data.isReversed=!0),0===t.images.length&&t.images.push({image:void 0,caption:""}),t.images.length<=1&&window.setTimeout(function(t){return function(){return t.setState("touched")}}(this),0),t.hasPrompt=!0,t},i.prototype.beforeShow=function(){var t;return t=this.options.data.lightbox?void 0:"default",this.options.data.lightbox?this.trigger("ui",{lightbox:this.options.data.background||!0}):this.trigger("ui",{lightbox:!1})},i.prototype.onRefresh=function(){return i.__super__.onRefresh.apply(this,arguments),this.beforeShow()},i.prototype.show=function(t){var e,i,n,s,r;if(null==t&&(t=0),null!=(s=this.draggy)&&s.undelegateEvents(),this.draggy=null,!this.draggy)return e=this.findOne(".carousel"),this.setEl(e.firstChild,"scroller"),this.options.data.images.length>1?(this.setEl(this.findOne(".pagination"),"pagination"),i=this.options.data.images.length-1,n=-e.offsetWidth*i,this.draggy=new o({el:e,minX:n,maxX:0,lock:"y"}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),r="rtl"===this.options.config().direction?-this.draggy.el.offsetWidth*(i-Math.min(t,i)):-this.draggy.el.offsetWidth*Math.min(t,i),this.draggy.reset({x:r})):this.getEl("scroller").firstChild.style.opacity=1,this.listenTo(this,"resize",this.onResize),this.onResize(),this.limitImageSize()},i.prototype.limitImageSize=function(){var t,e;return e=_.chain(this.options.data.images).pluck("image").compact().value(),t=this.getEl("scroller").offsetHeight,r.load(e,function(e){return function(){var i,o,s,r,a,d,u,c,p,h;for(u=e.getEl("scroller").children,c=[],o=r=0,a=u.length;r<a;o=++r)i=u[o],i.style.fontSize="",s=i.querySelector(".img"),s&&(d=t,n.breakpoint(["xs","sm","md"])?(h=i.querySelector(".caption"),d-=(null!=h?h.offsetHeight:void 0)||0):p=!0,s.style.maxHeight=d+"px"),p?c.push(l(i)):c.push(void 0);return c}}(this))},i.prototype.onDrag=function(t,e){var i;return i=e?"all 300ms":"none",this.transform(this.getEl("scroller"),{x:this.getScrollDist(t),transition:i}),this.updateChildren(t,i)},i.prototype.onDrop=function(t,e){var i,n,o,s,r,a,l,d,u,c;for(e?(u=null!=this.currentIndex?"all 300ms":"",this.currentIndex=Math.floor(-t.x/t.offset.width),this.transform(this.getEl("scroller"),{x:this.getScrollDist(t),transition:u}),this.updateChildren(t,u)):(c=t.velocity.x,a=.9,n=c<-a?"ceil":c>a?"floor":"round",d=Math[n](Math.min(t.x/t.offset.width,1)),t.reset({x:d*t.offset.width})),l=this.getEl("pagination").children,o=s=0,r=l.length;s<r;o=++s)i=l[o],i.classList.toggle("active",o===this.currentIndex);if("rtl"===this.options.config().direction){if(0===this.currentIndex)return this.setState("touched")}else if(this.currentIndex===this.options.data.images.length-1)return this.setState("touched")},i.prototype.goToPage=function(t){var e,i;return e=t.currentTarget.dataset.page,i=this.options.data.images.length-1,this.draggy.reset({x:e/i*this.draggy.options.minX})},i.prototype.updateChildren=function(t,e){var i,n,o,s,r,a,l;for(l=t.offset.width,r=this.getEl("scroller").children,a=[],n=o=0,s=r.length;o<s;n=++o)i=r[n],e&&(i.classList.toggle("active",n===this.currentIndex),this.transition(i,e,!0)),a.push(this.transform(i,{scale:1-Math.abs(t.x+n*l)/l/5,opacity:1-Math.abs(t.x+n*l)/l}));return a},i.prototype.getScrollDist=function(t){return t.x/t.offset.width/this.options.data.images.length*100+"%"},i.prototype.onResize=function(){var t;if(this.limitImageSize(),t=this.getEl("scroller")&&this.draggy)return this.draggy.options.minX=-this.draggy.el.offsetWidth*(this.options.data.images.length-1),this.draggy.getOffset()},i.prototype.refresh=function(t){var e,n,o,s,r,a;for(s=t.data.images,t.data.images.length!==this.options.data.images.length&&(s=(t.data.images||[]).filter(function(t){return t.image||t.caption.length>0}),e=this.currentIndex),n=r=0,a=s.length;r<a;n=++r)if(o=s[n],!_.isEqual(o,this.options.data.images[n])){e=n;break}return i.__super__.refresh.apply(this,arguments),this.draggy&&(this.draggy.undelegateEvents(),this.draggy=this.currentIndex=null),this.show(e)},i.prototype.screenshot=function(){var t;return t=this.options.data.images.length-1,new Promise(function(e){return function(i,n){var o;return(o=function(s){var r,a;return null==s&&(s=[]),s.length<=t?(r=s.length,null!=(a=e.draggy)&&a.reset({x:r/t*e.draggy.options.minX}),e.collateScreenshots(s).then(o)["catch"](n)):i(s)})()}}(this))},i}(a),i.exports=s}),require.register("engine/image-map/model.yaml",function(t,e,i){i.exports={title:"image-map",display:"Image map",category:"Content",description:"Describe points on an image",features:{social:!0},model:{url:{type:"image","default":"",display:"Image Map"},waypoints:{min:1,max:20,type:[{region:{type:"image-region","for":"url"},image:{type:"image"},caption:{type:"html","default":""},narration:{type:"audio"}}]},zoom:{type:"boolean","default":!0,help:"Recenter the map image on the region after it has been selected.\n"},stickyCaptions:{type:"boolean",display:"Sticky Captions","default":!1,help:"Place waypoint captions directly underneath the image.\n"},appearance:{waypointColor:{display:"Waypoint Style",type:"select","default":"White","enum":["Black","White","None"]}},lightbox:{background:{type:"string","default":"",display:"Background Color",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used for the background of the entire screen in lightbox mode.\n'},textColor:{display:"Text Color",type:"select","default":"White","enum":["Black","White"]}},prompt:{type:"html","default":"Explore each region of the image"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"multiple-regions",url:"img/examples/product-phone.png",stickyCaptions:!0,waypoints:[{region:{xMin:.55,xMax:.76,yMin:0,yMax:.15},image:"img/examples/product-phone.png",caption:"\n# Product X\nOur brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{region:{xMin:.4,xMax:.76,yMin:.2,yMax:.5},image:"img/examples/product-laptop.png",caption:"\n# Product Y\nConsistent with product Y, the liquid retina display with true tone technology extends from edge to edge.\n"},{region:{xMin:.27,xMax:.43,yMin:.78,yMax:1},image:"img/examples/product-tablet.png",caption:"\n# Product Z\nWireless charging, a feature also avaliable as part of Product Z.\n"}]},{subtype:"highlight-single-region",hidden:!0,url:"img/examples/flow-1.png",zoom:!1,waypoints:[{region:{xMin:.66,xMax:1,yMin:.25,yMax:.5},image:"img/examples/flow-2.png",caption:"\n# Process Flow\nAt this point in the process, those who answer no move directly\nto the end.\n"}],lightbox:{background:"transparent"},appearance:{waypointColor:"None"}}]}}),require.register("engine/image-map/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-fill text-center block-v-md"><div class="image-container block-inline content-fill">'),n.image(c,"img-map content-ver"),i.push('<div class="waypoints content">'),function(){var t=p;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){var o=t[e];i.push("<div"+jade.attr("style",["left: "+100*o.region.xMin+"%","top: "+100*o.region.yMin+"%","width: "+100*(o.region.xMax-o.region.xMin)+"%","height: "+100*(o.region.yMax-o.region.yMin)+"%"].join(";"),!0,!1)+jade.attr("data-index",e,!0,!1)+' class="waypoint"></div>')}else{var n=0;for(var e in t){n++;var o=t[e];i.push("<div"+jade.attr("style",["left: "+100*o.region.xMin+"%","top: "+100*o.region.yMin+"%","width: "+100*(o.region.xMax-o.region.xMin)+"%","height: "+100*(o.region.yMax-o.region.yMin)+"%"].join(";"),!0,!1)+jade.attr("data-index",e,!0,!1)+' class="waypoint"></div>')}}}.call(this),i.push("</div></div></div>"),function(){var t=p;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push('<div class="waypoint-img content-fill text-center">'),n.image(s.image,"content-ver"),i.push("</div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push('<div class="waypoint-img content-fill text-center">'),n.image(s.image,"content-ver"),i.push("</div>")}}}.call(this),i.push('<div class="full-screen"><div class="navigation text-center"><div class="caption text-md block-lg"></div></div></div><div'+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0,"url"in o?o.url:"undefined"!=typeof url?url:void 0,"waypoints"in o?o.waypoints:"undefined"!=typeof waypoints?waypoints:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-map/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/slide"),s=Application.actions().Sound,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit","iostap .waypoint":"tapWaypoint",iostap:"exitWaypoint"},i.prototype.serialize=function(){var t,e,n,o,s;for(t=i.__super__.serialize.apply(this,arguments),t.hasPrompt=!0,o=t.waypoints,e=0,n=o.length;e<n;e++)s=o[e],s.center=this.getCenter(s.region);return t},i.prototype.submit=function(t){return null!=t&&t.stopImmediatePropagation(),i.__super__.submit.apply(this,arguments)},i.prototype.beforeHide=function(){if(this.trigger("ui",{lightbox:!1}),this.currentSrc)return s.fadeOut(this.currentSrc,500,.02)},i.prototype.hide=function(){return this.exitWaypoint(),this.el.classList.remove("is-loaded")},i.prototype.refresh=function(t){var e,n,o,s,r,a,l;for(a=t.data.waypoints,o=s=0,r=a.length;s<r;o=++s)e=a[o].caption,e!==(null!=(l=this.options.data.waypoints[o])?l.caption:void 0)&&(n=o);if(i.__super__.refresh.apply(this,arguments),this.beforeShow(),this.show(!1),null!=n)return this.el.classList.add("no-transition"),this.goToWaypoint(n),_.delay(function(t){return function(){return t.el.classList.remove("no-transition")}}(this),1)},i.prototype.onRefresh=function(){},i.prototype.onResize=function(){return this.getEl("waypoints").removeAttribute("style"),this.setContainerDimensions()},i.prototype.beforeShow=function(){return this.setState(!1,"zoom"),this.setState(this.options.data.stickyCaptions,"sticky"),this.setState(this.options.data.zoom.toString(),"recenter")},i.prototype.setTextColor=function(t){var e,i,n;if(e=null!=t&&null!=(i=t.textColor)?i.toLowerCase():void 0)return this.el.style.color=null!=t&&null!=(n=t.textColor)?n.toLowerCase():void 0},i.prototype.setWaypointColor=function(t){var e,i;if(e=null!=t&&null!=(i=t.waypointColor)?i.toLowerCase():void 0)return this.el.classList.remove("waypoint-none","waypoint-black","waypoint-white"),this.el.classList.add("waypoint-"+e)},i.prototype.showLightbox=function(){var t;return this.setState(!0,"zoom"),this.trigger("ui",{lightbox:(null!=(t=this.options.data.lightbox)?t.background:void 0)||!0})},i.prototype.show=function(t){var e;if(null==t&&(t=!0),this.setEl(e=this.findOne(".img-map"),"image"),null!=e)return this.setEl(this.findOne(".caption"),"caption"),this.setEl(this.findOne(".waypoints"),"waypoints"),this.setEl(this.findOne(".navigation"),"navigation"),this.setEl(this.findOne(".image-container"),"container"),this.setEl(this.findAll(".waypoint-img"),"images"),this.setState("prompt"),this.setState(!1,"zoom"),this.setTextColor(this.options.data.lightbox),this.setWaypointColor(this.options.data.appearance),this.listenTo(this,"resize",this.onResize),t||this.el.classList.add("no-transition"),(null!=e?e.complete:void 0)?this.setDimensions():null!=e?e.onload=function(t){return function(){return t.setDimensions()}}(this):void 0},i.prototype.setDimensions=function(){var t,e,i,n,o,s;for(this.setContainerDimensions(),this.el.classList.add("is-loaded"),this.el.offsetLeft,this.el.classList.remove("no-transition"),n=this.options.data.waypoints,o=[],t=e=0,i=n.length;e<i;t=++e)s=n[t],o.push(this.scaleDown(t));return o},i.prototype.getCenter=function(t){return{x:(t.xMin+t.xMax)/2,y:(t.yMin+t.yMax)/2}},i.prototype.allWaypointsTapped=function(){return _.reduce(this.getEl("waypoints").children,function(t,e){return t&&e.dataset.tapped},!0)},i.prototype.tapWaypoint=function(t){var e;if(e=t.target,t.stopImmediatePropagation(),this.goToWaypoint(+e.dataset.index),e.dataset.tapped="true",e.classList.add("tapped"),this.allWaypointsTapped())return this.setState("touched")},i.prototype.limits=function(){return{min:0,max:this.options.data.waypoints.length-1}},i.prototype.goToWaypoint=function(t){var e,i,n,o,r;return this.currentIndex=t,o=this.options.data.waypoints[this.currentIndex],r=o.region,e=o.caption,n=o.narration,i=!1,this.currentSrc&&s.stop(this.currentSrc),(this.currentSrc=n)&&!this.withoutNarration&&(this.showLoadingNarration(),s.play(n,{cb:function(t){return function(){}}(this),onProgress:function(t){return function(){if(!i)return i=!0,t.hideLoadingNarration()}}(this)})),this.getEl("images").item(this.currentIndex).classList.add("active"),this.showLightbox(),this.toggleCaption(e),this.scaleUp(this.currentIndex)},i.prototype.exitWaypoint=function(){if(null!=this.currentIndex)return this.currentSrc&&s.fadeOut(this.currentSrc,500,.02),this.getEl("images").item(this.currentIndex).classList.remove("active"),this.toggleCaption(),this.setState(!1,"zoom"),this.trigger("ui",{lightbox:!1}),this.scaleDown(this.currentIndex),this.transform(this.getEl("image"),{scale:1,y:"-50%"}),this.transform(this.getEl("navigation"),{y:0}),delete this.currentIndex},i.prototype.scaleDown=function(t){var e,i,n,o,s,r,a;return s=this.getEl("images").item(t),i=1/this.scaleForWaypoint(this.options.data.waypoints[t]),o=this.getEl("waypoints").children[t],this.options.data.zoom?(n=(s.offsetHeight-this.getEl("waypoints").offsetHeight)/2,e=this.getEl("waypoints").parentNode.offsetLeft,r=o.offsetLeft+o.offsetWidth/2-(s.offsetWidth/2-e),a=o.offsetTop+o.offsetHeight/2-(s.offsetHeight/2-n)-s.offsetTop):(r=0,a="-50%",i=1),this.transform(s,{x:r,y:a,scale:i})},i.prototype.scaleUp=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h,f,m,v;if(p=this.options.data.waypoints[t],s=this.getEl("navigation"),i=this.getEl("image"),h=this.getEl("images").item(t),u=h.offsetHeight,c=(window.innerHeight-u)/2,v=-s.offsetHeight/2/i.height,v*=.75,e=v*i.offsetHeight,this.options.data.zoom?(l=this.getCenter(p.region),f=l.x,m=l.y,d=this.scaleForWaypoint(p)):(f=.5,m=.5,d=1),this.transform(i,{x:100*d*(.5-f)+"%",y:-50+100*v+100*d*(.5-m)+"%",scale:d}),this.transform(h,{y:-50+100*e/u+"%",scale:1}),this.options.data.stickyCaptions)return n=h.firstChild,r=s.offsetTop-c,o=n.offsetTop+n.offsetHeight/2+e,a=-Math.max(r-o,0),this.transform(s,{y:a})},i.prototype.scaleForWaypoint=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h;return this.options.data.zoom?(n=this.options.data.waypoints.indexOf(t),s=t.region,i=this.getEl("image"),h=this.getEl("waypoints").children[n],p=this.getEl("images").item(n),o=this.getEl("navigation").getBoundingClientRect(),u=p.firstChild.offsetWidth,d=p.firstChild.offsetHeight,
a=(s.xMax-s.xMin)*i.offsetWidth,r=(s.yMax-s.yMin)*i.offsetHeight,c=u/a,e=d/r,l=Math.min(c,e)):l=1},i.prototype.toggleCaption=function(t){var e;return null==t&&(t=!1),this.setState(Boolean(t),"caption"),t&&(this.getEl("caption").innerHTML=t),null==t?this.getEl("caption").style.background="":(null!=(e=this.options.data.lightbox)?e.background:void 0)?this.getEl("caption").style.background=this.options.data.lightbox.background:void 0},i.prototype.setContainerDimensions=function(){return this.getEl("waypoints").style.height=this.getEl("image").offsetHeight+"px",this.getEl("waypoints").style.width=this.getEl("image").offsetWidth+"px"},i}(o),i.exports=n}),require.register("engine/image-multiple-choice/model.yaml",function(t,e,i){i.exports={title:"image-multiple-choice",display:"Select image",description:"Show image answers in a grid",category:"Multiple Choice",features:{stars:!0,social:!0},model:{title:{types:["text","image","audio","video"],"default":""},selectable:{display:"Number of selectable answers","default":1,type:"number"},answers:{display:"List items",type:[{image:{type:"image"},correct:{type:"boolean"}}],min:2,max:9},reject:{type:"boolean","default":!1,display:"Reject Answers",help:"Users will not be able to select incorrect answers.\n"},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Select the correct answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"multiple-choice",title:"Which is the correct product?",selectable:1,reject:!1,horizontal:!0,answers:[{image:"img/examples/product-phone.png",correct:!0},{image:"img/examples/product-laptop.png"},{image:"img/examples/product-tablet.png"}],answer:{incorrect:"Not quite...",correct:"That's correct!",text:"Product X is correct.\n"}}]}}),require.register("engine/image-multiple-choice/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};c=c||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-fill text-center block-v-lg"><div class="tappies-parent content-fill content-fit"><h1 class="title block-v-md slide-up delay-3 tight">'),n["multi-content"]("title"),i.push('</h1><div class="tappies">'),function(){var t=f;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("data-answer-id",s.id,!0,!1)+jade.cls(["tappy","block-md","delay-4","selectable",(e%2==0?"slide-up":"slide-down")+" delay-"+(e+1),s.correct?"correct":"incorrect"],[null,null,null,null,!0,!0])+'><div class="tappy-content block-dk block-sm content-fill block-frame">'),n.image(s.image,"tappy-img content-ver"),i.push('<div class="tappy-selection block-dk text-bold text-lg"></div></div></div>')}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("data-answer-id",s.id,!0,!1)+jade.cls(["tappy","block-md","delay-4","selectable",(e%2==0?"slide-up":"slide-down")+" delay-"+(e+1),s.correct?"correct":"incorrect"],[null,null,null,null,!0,!0])+'><div class="tappy-content block-dk block-sm content-fill block-frame">'),n.image(s.image,"tappy-img content-ver"),i.push('<div class="tappy-selection block-dk text-bold text-lg"></div></div></div>')}}}.call(this),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",h?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof p&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=p)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"tappies"in o?o.tappies:"undefined"!=typeof tappies?tappies:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-multiple-choice/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty,d=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};o=e("../multiple-choice-game/view"),r=e("lib/preload"),s=e("lib/prefix"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.serialize=function(){var t,e,n,o;return e=i.__super__.serialize.apply(this,arguments),t=((null!=(n=this.options.metadata.questions)&&null!=(o=n[0])?o.answers:void 0)||[]).filter(function(t){return t&&t.content}).map(function(t){return{image:t.content,correct:t.correct,id:t.id}}),e.tappies=_.shuffle(t),e},i.prototype.answerDetails=function(){var t,e,i,n,o;return o=this.options.metadata.questions||[],o.length>0?(n=o[0],i=this.getEl("selected").map(function(t){return this.$(t).data("answer-id")}),t=n.answers.filter(function(t){var e;return e=t.id,d.call(i,e)>=0}),e=t.map(function(t){return{question:n.question,answer:t}})):[]},i.prototype.selectAnswer=function(t){var e;return e=t.currentTarget,!e.classList.contains("correct")&&this.options.data.reject?(e.classList.add("show-incorrect"),void(e.onanimationend=function(){return e.classList.remove("show-incorrect")})):i.__super__.selectAnswer.apply(this,arguments)},i.prototype.onResize=function(){return this.setTappyHeight(!0)},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.listenTo(this,"resize",this.onResize),this.setTappyHeight()},i.prototype.setTappyHeight=function(t){var e;return(null!=(e=this.currentState)?e.refresh:void 0)||t||this.el.classList.remove("active"),this.setEl(this.findOne(".tappies-parent"),"tappy-parent"),this.setEl(this.findAll(".tappy"),"tappies"),this.setEl(this.findOne(".title"),"title"),this.setEl(this.findOne(".tappies"),"tappy-container"),r.load(_.pluck(this.findAll("img"),"src"),function(t){return function(e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y;for(h=t.getEl("tappy-parent"),o=t.getEl("tappy-container"),y=t.getEl("title"),g=t.serialize().tappies,f=t.getEl("tappies"),l=0,c=f.length;l<c;l++)r=f[l],r.style.opacity=0;for(o.style.height=h.offsetHeight-y.offsetHeight+"px",d=_.chain(i).map(function(t){return t.naturalWidth/t.naturalHeight}).average().value(),s=h.offsetWidth/(h.offsetHeight-y.offsetHeight),a=s/d,v=Math.round(Math.sqrt(g.length*(d/s),2)),v=Math.max(Math.min(v,g.length),1),n=Math.round((g.length+g.length%v)/v),m=t.getEl("tappies"),u=0,p=m.length;u<p;u++)r=m[u],r.style.height=100/v+"%",r.style.width=100/n+"%",r.offsetWidth,r.style.opacity="";return t.fitText(function(){return window.setTimeout(function(){return t.el.classList.add("active")},300)})}}(this))},i}(o),i.exports=n}),require.register("engine/image-pair/model.yaml",function(t,e,i){i.exports={title:"image-pair",display:"Image pairs",description:"Select the correct image",category:"Relationships",features:{stars:!0,social:!0},model:{title:{type:"text","default":"Select the correct image in each group"},multi:{type:"boolean","default":!1,display:"Select more than one correct answer"},reject:{type:"boolean","default":!1,display:"Reject incorrect answers"},groups:{display:"Pairs",min:1,max:4,type:[{images:{min:2,max:2,type:[{image:{type:"image"},correct:{type:"boolean"}}]}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"text","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"text","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"text","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"text","default":"Select the correct image"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"image-pair",title:"Which is our first product?\n",multi:!0,groups:[{images:[{image:"img/examples/product-phone.png",correct:!0},{image:"img/examples/product-laptop.png",correct:!1}]},{images:[{image:"img/examples/product-laptop.png",correct:!1},{image:"img/examples/product-phone.png",correct:!0}]},{images:[{image:"img/examples/product-phone.png",correct:!0},{image:"img/examples/product-phone.png",correct:!0}]},{images:[{image:"img/examples/product-laptop.png",correct:!1},{image:"img/examples/product-tablet.png",correct:!1}]}]}]}}),require.register("engine/image-pair/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h,f){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-fill"><div class="block-v-md content-fill content-sm-ver content-md-ver"><div class="row content-fill content-area text-center"><div class="col-sm-12 col-lg-6 content-lg-ver"><h1 class="title tight block-v-md">'+(null==(e=h)?"":e)+'</h1></div><div class="col-sm-12 col-lg-6">'),function(){var t=u.questions;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e],r=s.question;s.answers;i.push('<div class="row">'),function(){var t=_.shuffle(s.answers);if("number"==typeof t.length)for(var o=0,a=t.length;o<a;o++){var l=t[o];d=l.correct?"correct":"incorrect",d+=0===o?" left":" right",i.push('<div class="col-sm-6 block-v-sm slide-up hide-overflow block-box-sizing"><div'+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-content",l.content,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+jade.attr("data-question-id",r.id,!0,!1)+jade.attr("data-group",e,!0,!1)+jade.attr("data-image",o,!0,!1)+jade.cls(["image-container","block-dk","block-sm","content-fill",d],[null,null,null,null,!0])+">"),n.image(l.content,"img content-ver block"),i.push("</div></div>")}else{var a=0;for(var o in t){a++;var l=t[o];d=l.correct?"correct":"incorrect",d+=0===o?" left":" right",i.push('<div class="col-sm-6 block-v-sm slide-up hide-overflow block-box-sizing"><div'+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-content",l.content,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+jade.attr("data-question-id",r.id,!0,!1)+jade.attr("data-group",e,!0,!1)+jade.attr("data-image",o,!0,!1)+jade.cls(["image-container","block-dk","block-sm","content-fill",d],[null,null,null,null,!0])+">"),n.image(l.content,"img content-ver block"),i.push("</div></div>")}}}.call(this),i.push("</div>")}else{var o=0;for(var e in t){o++;var s=t[e],r=s.question;s.answers;i.push('<div class="row">'),function(){var t=_.shuffle(s.answers);if("number"==typeof t.length)for(var o=0,a=t.length;o<a;o++){var l=t[o];d=l.correct?"correct":"incorrect",d+=0===o?" left":" right",i.push('<div class="col-sm-6 block-v-sm slide-up hide-overflow block-box-sizing"><div'+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-content",l.content,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+jade.attr("data-question-id",r.id,!0,!1)+jade.attr("data-group",e,!0,!1)+jade.attr("data-image",o,!0,!1)+jade.cls(["image-container","block-dk","block-sm","content-fill",d],[null,null,null,null,!0])+">"),n.image(l.content,"img content-ver block"),i.push("</div></div>")}else{var a=0;for(var o in t){a++;var l=t[o];d=l.correct?"correct":"incorrect",d+=0===o?" left":" right",i.push('<div class="col-sm-6 block-v-sm slide-up hide-overflow block-box-sizing"><div'+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-content",l.content,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+jade.attr("data-question-id",r.id,!0,!1)+jade.attr("data-group",e,!0,!1)+jade.attr("data-image",o,!0,!1)+jade.cls(["image-container","block-dk","block-sm","content-fill",d],[null,null,null,null,!0])+">"),n.image(l.content,"img content-ver block"),i.push("</div></div>")}}}.call(this),i.push("</div>")}}}.call(this),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",p?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"klass"in o?o.klass:"undefined"!=typeof klass?klass:void 0,"metadata"in o?o.metadata:"undefined"!=typeof metadata?metadata:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-pair/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e("views/base/game"),s=e("lib/preload"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .image-container":"selectImage","iostap .btn-done":"endGame"}},i.prototype.show=function(){var t;return i.__super__.show.apply(this,arguments),this.setEl(this.findAll(".image-container"),"images"),this.setEl(this.findOne(".title"),"title"),this.setEl(this.findOne(".content-area"),"parent"),this.setState(this.options.data.reject,"reject"),this.listenTo(this,"resize",this.onResize),t=_.chain(this.options.metadata.questions).pluck("answers").flatten().pluck("content").union().value(),s.load(t,function(t){return function(){return t.onResize()}}(this)),this.enterGame()},i.prototype.onResize=function(){var t,e,i,n,o,s,r,a,l,d,u,c;for(d=this.getEl("images"),n=0,s=d.length;n<s;n++)i=d[n],i.parentNode.style.height="";for(l=this.getEl("parent").offsetHeight,this.el.offsetWidth<1024&&(l-=this.getEl("title").offsetHeight),t=this.options.data.groups.length,a=l/t,e=_.reduce(this.getEl("images"),function(t,e){return Math.min(t,e.offsetHeight)},a),this.getEl("parent").classList.toggle("content-fill",e===a),this.getEl("parent").classList.toggle("content-ver",e<a),u=this.getEl("images"),c=[],o=0,r=u.length;o<r;o++)i=u[o],c.push(i.parentNode.style.height=e+"px");return c},i.prototype.selectImage=function(t){var e,i,n,o,s,r;if(e=t.currentTarget,this.options.data.reject&&null==e.dataset.correct?(r=!0,e.classList.add("show-incorrect"),window.setTimeout(function(){return e.classList.remove("show-incorrect")},500)):e.classList.toggle("active"),!this.options.data.multi&&!r)for(s=this.getEl("images"),i=0,n=s.length;i<n;i++)o=s[i],o!==e&&o.dataset.group===e.dataset.group&&o.classList.remove("active");return this.setState(this.isTouched()?"touched":"prompt")},i.prototype.isTouched=function(){return!!this.options.data.multi||_.chain(this.getEl("images")).groupBy(function(t,e){return~~(e/2)}).map(function(t){return t.filter(function(t){return t.classList.contains("active")})}).reduce(function(t,e){return t&&e.length>0},!0).value()},i.prototype.imageIsCorrect=function(t){return t.classList.contains("active")===(null!=t.dataset.correct)},i.prototype.isCorrect=function(){return _.chain(this.getEl("images")).map(this.imageIsCorrect).reduce(function(t,e){return t&&e},!0).value()},i.prototype.answerDetails=function(){var t,e,i,n;return e=(null!=(n=this.options.metadata)?n.questions:void 0)||[],e.length>0?(i=_.chain(e).pluck("question").indexBy("id").value(),t=_.chain(e).pluck("answers").flatten().indexBy("id").value(),_.chain(this.getEl("images")).compact().groupBy(function(t){return t.dataset.questionId}).map(function(e,n){return _.chain(e).filter(function(t){return t.classList.contains("active")}).map(function(e){return{question:i[n],answer:t[e.dataset.answerId]}}).value()}).compact().flatten().value()):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(n),i.exports=o}),require.register("engine/image-slider/model.yaml",function(t,e,i){i.exports={title:"image-slider",display:"Vertical series",category:"Content",features:{narration:!0,social:!0},model:{items:{min:1,max:10,type:[{content:{types:["image","text"]},imagePosition:{type:"select","enum":["Top","Middle","Bottom","Cover"],"default":"Middle",display:"Image Position"},caption:{type:"html"},captionStyle:{type:"select","enum":["Default","Light","Dark","Transparent Light Text","Transparent Dark Text"],"default":"Default",display:"Caption Style"},position:{type:"select","enum":["Top","Middle","Bottom"],"default":"Bottom",display:"Caption Position"},color:{type:"string","default":"",display:"Background Color"}}]},arrows:{type:"boolean","default":!0,help:"Use arrows to indicate how the template works. Hiding the arrows can help to focus on the slide content.\n"},prompt:{type:"html","default":"Swipe up to see more"},doneText:{type:"html","default":"Continue",display:"Done text",help:"Appears after multiple images are viewed."}},examples:[{subtype:"multiple",templateDescription:"Show text blocks in order",items:[{contentType:"text",content:"Swipe up to learn more about our range of products."},{content:"img/examples/product-phone.png",contentType:"image",caption:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n",position:"Middle",color:"#91A6BA"},{content:"img/examples/product-laptop.png",contentType:"image",caption:"Crystal clear display performs better than any of our competitors.\n",position:"Bottom",captionStyle:"Transparent Light Text",color:"#9fb9bf"},{content:"img/examples/product-tablet.png",contentType:"image",caption:"The newest feature offers a new level of feedback for the user.\n",position:"Top",captionStyle:"Dark",color:"rgba(29, 46, 67, 0.84)"}]},{subtype:"single",templateDescription:"Show images in order",items:[{content:"img/examples/product-phone.png",contentType:"image",caption:"\n### Product X\nBrilliant. In every way.\n"}]}]}}),require.register("engine/image-slider/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-fill slide-up"><div class="carousel content-fill delay-6"><div'+jade.attr("style","height: "+100*d.length+"%;",!0,!1)+' class="carousel-slider content-fill clearfix">'),function(){var t=d;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];switch(i.push("<div"+jade.attr("style","height: "+100/d.length+"%;",!0,!1)+jade.cls(["carousel-item","content-fill",["style-"+h.hyphenCase(r.captionStyle),"img-pos-"+h.hyphenCase(r.imagePosition)].join(" ")],[null,null,!0])+"><div"+jade.cls(["content-fill","carousel-content","Cover"===r.imagePosition?"full-screen":""],[null,null,!0])+">"),r.contentType){case"text":i.push('<div class="content-ver text-center text-md">'+(null==(e=r.content)?"":e)+"</div>");break;case"image":"Cover"===r.imagePosition?i.push("<div"+jade.attr("style","background-image: url("+r.content+")",!0,!1)+' class="img-pos-cover"></div>'):n.image(r.content,"img content")}i.push("</div>"),r.caption&&i.push("<div"+jade.cls(["caption","text-center","block-box-sizing","position-"+(r.position||"bottom").toLowerCase()],[null,null,null,!0])+'><div class="caption-content text-md block-lg">'+(null==(e=r.caption)?"":e)+"</div></div>"),i.push("</div>")}else{var s=0;for(var o in t){s++;var r=t[o];switch(i.push("<div"+jade.attr("style","height: "+100/d.length+"%;",!0,!1)+jade.cls(["carousel-item","content-fill",["style-"+h.hyphenCase(r.captionStyle),"img-pos-"+h.hyphenCase(r.imagePosition)].join(" ")],[null,null,!0])+"><div"+jade.cls(["content-fill","carousel-content","Cover"===r.imagePosition?"full-screen":""],[null,null,!0])+">"),r.contentType){case"text":i.push('<div class="content-ver text-center text-md">'+(null==(e=r.content)?"":e)+"</div>");break;case"image":"Cover"===r.imagePosition?i.push("<div"+jade.attr("style","background-image: url("+r.content+")",!0,!1)+' class="img-pos-cover"></div>'):n.image(r.content,"img content")}i.push("</div>"),r.caption&&i.push("<div"+jade.cls(["caption","text-center","block-box-sizing","position-"+(r.position||"bottom").toLowerCase()],[null,null,null,!0])+'><div class="caption-content text-md block-lg">'+(null==(e=r.caption)?"":e)+"</div></div>"),i.push("</div>")}}}.call(this),i.push("</div></div>"),t&&i.push('<div class="btn btn-muted btn-circular btn-up"><span class="icon icon-chevron-up text-lg"></span></div><div class="btn btn-muted btn-circular btn-down"><span class="icon icon-chevron-down text-lg"></span></div>'),i.push("</div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"arrows"in o?o.arrows:"undefined"!=typeof arrows?arrows:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"items"in o?o.items:"undefined"!=typeof items?items:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0,"written"in o?o.written:"undefined"!=typeof written?written:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-slider/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=e("views/slide"),n=e("views/components/draggy").DraggyView,s=e("lib/preload"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.currentIndex=0,i.prototype.events={"iostap .btn-done":"submit",iostap:"onTap"},i.prototype.submit=function(t){return t.stopImmediatePropagation(),i.__super__.submit.apply(this,arguments)},i.prototype.onTap=function(t){var e,i,n;if(!(t.target instanceof HTMLAnchorElement))return e=this.currentIndex,(null!=(i=t.detail)?i.clientY:void 0)>this.el.offsetHeight/2?e++:e--,e=Math.max(Math.min(e,this.options.data.items.length-1),0),null!=(n=this.draggy)?n.reset({y:-e*this.draggy.offset.height}):void 0},i.prototype.serialize=function(){var t,e,n,o,s;for(t=i.__super__.serialize.apply(this,arguments),this.options.data.items=t.items=(t.items||[]).filter(function(t){return t.content||t.caption&&t.caption.length>0}),s=t.items,n=0,o=s.length;n<o;n++)e=s[n],null==e.contentType&&(e.contentType="image"),null==e.captionStyle&&(e.captionStyle="Default"),null==e.imagePosition&&(e.imagePosition="Middle");return t.items.length<=1&&window.setTimeout(function(t){return function(){return t.setState("touched")}}(this),0),t.hasPrompt=!0,null==t.arrows&&(t.arrows=!0),t},i.prototype.beforeShow=function(){if(this.options.data.arrows)return this.trigger("hide",{arrows:!1})},i.prototype.show=function(t){var e,i,o,s,r,a,l,d,u;if(null==t&&(t=0),null!=(l=this.draggy)&&l.undelegateEvents(),this.draggy=null,!this.draggy){if(e=this.findOne(".carousel"),this.setEl(e.firstChild,"scroller"),this.setEl(this.findOne(".btn-up"),"btn-up"),this.setEl(this.findOne(".btn-down"),"btn-down"),this.options.data.items.length>1)s=this.options.data.items.length-1,a=-e.offsetHeight*s,this.draggy=new n({el:e,minY:a,maxY:0,lock:"x",allowPropagation:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.draggy.reset({y:-this.draggy.offset.height*Math.min(t,s)});else if(i=this.getEl("scroller").firstChild)for(i.classList.add("active"),d=i.children,o=0,r=d.length;o<r;o++)e=d[o],this.transform(e,{opacity:1,transition:"all 300ms"});return this.trigger("ui",{lightbox:(null!=(u=this.options.data.items[0])?u.color:void 0)||!1}),this.listenTo(this,"resize",this.onResize),this.onResize()}},i.prototype.onDrag=function(t,e){var i;return window.Backbone.trigger("canceltap"),i=e?"all 300ms":"none",this.transform(this.getEl("scroller"),{y:this.getScrollDist(t),transition:i}),this.updateChildren(t,i)},i.prototype.onDrop=function(t,e){var i,n,o,s,r,a,l,d;if(e?(l=null!=this.currentIndex?"all 300ms":"",this.currentIndex=Math.floor(-t.y/t.offset.height),this.transform(this.getEl("scroller"),{y:this.getScrollDist(t),transition:l}),this.updateChildren(t,l)):(d=t.velocity.y,o=.9,n=d<-o?"ceil":d>o?"floor":"round",r=Math[n](Math.min(t.y/t.offset.height,1)),t.reset({y:r*t.offset.height})),a=this.options.data.items.length-1,i=this.options.data.items[this.currentIndex||0],this.trigger("ui",{lightbox:(null!=i?i.color:void 0)||!1}),this.setState((null!=(s=i.position)?s.toLowerCase():void 0)||"none","caption-position"),this.getEl("btn-up").classList.toggle("active",this.currentIndex>0),this.getEl("btn-down").classList.toggle("active",this.currentIndex<a),this.currentIndex===a)return this.setState("touched")},i.prototype.updateChildren=function(t,e){var i,n,o,s,r,a,l,d,u;for(n=t.offset.height,d=this.getEl("scroller").children,u=[],o=r=0,a=d.length;r<a;o=++r)i=d[o],i.classList.toggle("active",o===this.currentIndex),i.classList.toggle("transition",""!==e),e&&this.transition(i,e,!0),l=Math.abs(t.y+o*n)/n,u.push(function(){var t,r,a,d;
for(a=i.children,d=[],o=t=0,r=a.length;t<r;o=++t)s=a[o],s.classList.contains("caption")||d.push(this.transform(s,{y:-l*n/(o+1)/3,opacity:1-l,transition:e}));return d}.call(this));return u},i.prototype.getScrollDist=function(t){return t.y/t.offset.height/this.options.data.items.length*100+"%"},i.prototype.onResize=function(){var t;if(t=this.getEl("scroller")&&this.draggy)return this.draggy.y=-this.currentIndex*this.draggy.offset.height,this.draggy.options.minY=-this.draggy.el.offsetHeight*(this.options.data.items.length-1),this.draggy.getOffset()},i.prototype.refresh=function(t){var e,n,o,s,r,a,l,d,u;for(d=t.data.items,n=o=0,r=d.length;o<r;n=++o){if(a=d[n],l=this.options.data.items[n]){for(s in a)if(u=a[s],void 0!==l[s]&&l[s]===u||(e=n),null!=e)break}else e=n;if(null!=e)break}return i.__super__.refresh.apply(this,arguments),this.draggy&&(this.draggy.undelegateEvents(),this.draggy=this.currentIndex=null),this.show(e)},i.prototype.screenshot=function(){return this.currentIndex=-1,new Promise(function(t){return function(e,i){var n;return(n=function(o){var s;return null==o&&(o=[]),t.currentIndex<t.options.data.items.length-1?(t.currentIndex++,t.options.data.items.length>1&&null!=(s=t.draggy)&&s.reset({y:-t.currentIndex*t.draggy.offset.height}),t.collateScreenshots(o).then(n)["catch"](i)):e(o)})()}}(this))},i}(r),i.exports=o}),require.register("engine/image-waypoints/model.yaml",function(t,e,i){i.exports={title:"image-waypoints",display:"Image waypoints",description:"Highlight points on an image",category:"Content",features:{narration:!0,social:!0},model:{url:{type:"image","default":"",display:"Image"},waypoints:{min:1,max:20,type:[{region:{type:"image-region","for":"url"},caption:{type:"html","default":""},narration:{type:"audio"}}]},guided:{type:"boolean","default":!1,help:"Start on the first waypoint and only continue with Previous and Next buttons.\n"},appearance:{waypointColor:{display:"Waypoints Color",type:"select","default":"White","enum":["Black","White"]}},lightbox:{background:{type:"string","default":"",display:"Background Color",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used for the background of the entire screen in lightbox mode.\n'},textColor:{display:"Text Color",type:"select","default":"White","enum":["Black","White"]}},prompt:{type:"html","default":"Explore the image"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"guided",url:"img/examples/product-phone.png",guided:!0,waypoints:[{region:{xMin:0,xMax:1,yMin:0,yMax:1}},{region:{xMin:.62,xMax:.78,yMin:0,yMax:.15},caption:"12 MP Front-Facing Camera"},{region:{xMin:.14,xMax:.75,yMin:.19,yMax:.75},caption:"Super Retina HD Display"},{region:{xMin:.24,xMax:.43,yMin:.78,yMax:1},caption:"Power and Battery"}]},{subtype:"unguided",hidden:!0,url:"img/examples/product-phone.png",guided:!1,waypoints:[{region:{xMin:.64,xMax:.76,yMin:0,yMax:.15},caption:"\n**12 MP Front-Facing Camera**\n\nA new sensor creates better image fidelity, greater colour accuracy and reduced noise in low-light shots.\n"},{region:{xMin:.14,xMax:.75,yMin:.19,yMax:.75},caption:"\n**Super Retina HD Display**\n\nThe custom-engineered OLED displays deliver the most accurate colour in the industry, as well as HDR and true blacks.\n"},{region:{xMin:.24,xMax:.43,yMin:.78,yMax:1},caption:"\n**Power and Battery**\n\nBuilt-in rechargeable lithium-ion battery with wireless charging.\n"}]}]}}),require.register("engine/image-waypoints/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="full-screen content-fill hide-overflow text-center"><div class="image-container content-ver block-inline">'),n.image(p,"img"),s||(i.push('<div class="waypoints">'),function(){var t=h;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){var o=t[e];i.push("<div"+jade.attr("style","left: "+100*o.center.x+"%; top: "+100*o.center.y+"%",!0,!1)+jade.attr("data-index",e,!0,!1)+' class="waypoint"></div>')}else{var n=0;for(var e in t){n++;var o=t[e];i.push("<div"+jade.attr("style","left: "+100*o.center.x+"%; top: "+100*o.center.y+"%",!0,!1)+jade.attr("data-index",e,!0,!1)+' class="waypoint"></div>')}}}.call(this),i.push("</div>")),i.push('</div><div class="navigation text-center"><div class="caption text-md block-lg"></div>'),s&&i.push('<div class="btn-container"><div class="col-sm-4 col-sm-offset-2 col-lg-3 col-lg-offset-3 block-v-sm"><div class="prev-wp btn btn-block"><span class="icon icon-chevron-left text-xl"></span></div></div><div class="col-sm-4 col-lg-3 block-v-sm"><div class="next-wp btn btn-block"><span class="icon icon-chevron-right text-xl"></span></div></div></div>'),i.push("</div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"guided"in o?o.guided:"undefined"!=typeof guided?guided:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0,"url"in o?o.url:"undefined"!=typeof url?url:void 0,"waypoints"in o?o.waypoints:"undefined"!=typeof waypoints?waypoints:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image-waypoints/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/slide"),s=Application.actions().Sound,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit","iostap .prev-wp":"goToPrevWaypoint","iostap .next-wp":"goToNextWaypoint","iostap .waypoint":"tapWaypoint",iostap:"exitWaypoint"},i.prototype.serialize=function(){var t,e,n,o,s;for(t=i.__super__.serialize.apply(this,arguments),t.hasPrompt=!0,o=t.waypoints,e=0,n=o.length;e<n;e++)s=o[e],s.center=this.getCenter(s.region);return t},i.prototype.submit=function(t){return null!=t&&t.stopImmediatePropagation(),i.__super__.submit.apply(this,arguments)},i.prototype.beforeHide=function(){return this.trigger("ui",{lightbox:!1}),this.currentSrc&&s.fadeOut(this.currentSrc,500,.02),this.exitWaypoint()},i.prototype.hide=function(){return this.el.classList.remove("is-loaded")},i.prototype.refresh=function(t){var e,n,o,s,r,a,l;for(a=t.data.waypoints,o=s=0,r=a.length;s<r;o=++s)e=a[o].caption,e!==(null!=(l=this.options.data.waypoints[o])?l.caption:void 0)&&(n=o);if(i.__super__.refresh.apply(this,arguments),this.beforeShow(),this.show(!1),null!=n)return this.el.classList.add("no-transition"),this.goToWaypoint(n),_.delay(function(t){return function(){return t.el.classList.remove("no-transition")}}(this),1)},i.prototype.onRefresh=function(){},i.prototype.onResize=function(){var t;return this.getEl("container")&&(this.getEl("container").style.height="",this.getEl("container").style.width="",null!=(t=this.getEl("container").parentNode)&&(t.style.height="")),this.setDimensions()},i.prototype.beforeShow=function(){return this.setState(!1,"zoom"),this.setState(this.options.data.guided.toString(),"guided"),this.options.data.guided?this.showLightbox():this.trigger("ui",{lightbox:!1})},i.prototype.setTextColor=function(t){var e,i,n;if(e=null!=t&&null!=(i=t.textColor)?i.toLowerCase():void 0)return this.el.style.color=null!=t&&null!=(n=t.textColor)?n.toLowerCase():void 0},i.prototype.setWaypointColor=function(t){var e,i;if(e=null!=t&&null!=(i=t.waypointColor)?i.toLowerCase():void 0)return this.el.classList.remove("waypoint-black","waypoint-white"),this.el.classList.add("waypoint-"+e)},i.prototype.showLightbox=function(){var t;return this.setState(!0,"zoom"),this.trigger("ui",{lightbox:(null!=(t=this.options.data.lightbox)?t.background:void 0)||!0})},i.prototype.show=function(t){var e;return null==t&&(t=!0),this.setEl(e=this.findOne(".img"),"image"),this.setEl(this.findOne(".caption"),"caption"),this.setEl(this.findOne(".waypoints"),"waypoints"),this.setEl(this.findOne(".navigation"),"navigation"),this.setEl(this.findOne(".image-container"),"container"),this.setState("prompt"),this.setState(!1,"zoom"),this.setState(this.options.data.guided.toString(),"guided"),this.setTextColor(this.options.data.lightbox),this.setWaypointColor(this.options.data.appearance),this.listenTo(this,"resize",this.onResize),t||this.el.classList.add("no-transition"),(null!=e?e.complete:void 0)?(this.resetImageScale(),this.setDimensions()):null!=e?e.onload=function(t){return function(){return t.resetImageScale(),t.setDimensions()}}(this):void 0},i.prototype.resetImageScale=function(){return this.transform(this.getEl("image"),"none")},i.prototype.setDimensions=function(){return this.setContainerDimensions(),this.el.classList.add("is-loaded"),this.options.data.guided&&this.goToWaypoint(0),this.el.offsetLeft,this.el.classList.remove("no-transition")},i.prototype.getCenter=function(t){return{x:(t.xMin+t.xMax)/2,y:(t.yMin+t.yMax)/2}},i.prototype.allWaypointsTapped=function(){return _.reduce(this.getEl("waypoints").children,function(t,e){return t&&e.dataset.tapped},!0)},i.prototype.tapWaypoint=function(t){var e;if(e=t.target,t.stopImmediatePropagation(),this.goToWaypoint(+e.dataset.index),e.dataset.tapped="true",e.classList.add("tapped"),this.allWaypointsTapped())return this.setState("touched")},i.prototype.goToPrevWaypoint=function(t){return t.stopImmediatePropagation(),this.goToWaypoint(Math.max(this.currentIndex-1,this.limits().min))},i.prototype.goToNextWaypoint=function(t){return t.stopImmediatePropagation(),this.goToWaypoint(Math.min(this.currentIndex+1,this.limits().max))},i.prototype.updateNextPrevButtons=function(){var t,e,i;if(this.options.data.guided&&(i=this.limits(),e=i.min,t=i.max,this.el.classList.toggle("prev-disabled",this.currentIndex===e),this.el.classList.toggle("next-disabled",this.currentIndex===t),this.currentIndex===t))return this.setState("touched")},i.prototype.limits=function(){return{min:0,max:this.options.data.waypoints.length-1}},i.prototype.goToWaypoint=function(t){var e,i,n,o,r;return this.currentIndex=t,o=this.options.data.waypoints[this.currentIndex],r=o.region,e=o.caption,n=o.narration,i=!1,this.currentSrc&&s.stop(this.currentSrc),(this.currentSrc=n)&&!this.withoutNarration&&(this.showLoadingNarration(),s.play(n,{cb:function(t){return function(){return t.hideLoadingNarration()}}(this),onProgress:function(t){return function(){if(!i)return i=!0,t.hideLoadingNarration()}}(this)})),this.showLightbox(),this.updateNextPrevButtons(),this.toggleCaption(e),this.scaleImage(r)},i.prototype.exitWaypoint=function(){if(this.currentSrc&&s.fadeOut(this.currentSrc,500,.02),!this.options.data.guided)return this.toggleCaption(),this.setState(!1,"zoom"),this.trigger("ui",{lightbox:!1}),this.resetImageScale()},i.prototype.scaleImage=function(t,e){var i,n,o,s,r,a,l,d,u,c,p,h,f;return null==e&&(e=!0),n=this.getEl("image"),o=this.getEl("navigation").getBoundingClientRect(),s=this.getCenter(t),h=s.x,f=s.y,c=this.el.offsetWidth,u=e||this.options.data.guided?window.innerHeight-150:this.el.offsetHeight,a=(t.xMax-t.xMin)*n.width,r=(t.yMax-t.yMin)*n.height,p=c/a,i=u/r,this.scaleToUse=parseFloat(Math.min(p,i)),l=100*-h*this.scaleToUse+50+"%",d=100*-f*this.scaleToUse+50+"%",this.transform(n,"translateX("+l+") translateY("+d+") scale("+this.scaleToUse+")")},i.prototype.toggleCaption=function(t){var e;return null==t&&(t=!1),this.setState(Boolean(t),"caption"),this.getEl("caption").innerHTML=t||"",null==t?this.getEl("caption").style.background="":(null!=(e=this.options.data.lightbox)?e.background:void 0)?this.getEl("caption").style.background=this.options.data.lightbox.background:void 0},i.prototype.setContainerDimensions=function(){var t,e,i,n,o,s;if(e=this.getEl("image"),i=this.getEl("container").parentNode.parentNode,null!=e&&null!=i)return 0===e.width||0===e.height?void(i.offsetWidth<i.offsetHeight?this.getEl("container").style.width=i.offsetWidth+"px":this.getEl("container").style.height=i.offsetHeight+"px"):(s=i.offsetWidth/e.width,t=i.offsetHeight/e.height,n=Math.min(s,t),o={width:e.width*n,height:e.height*n},this.getEl("container").style.width=o.width+"px",this.getEl("container").style.height=o.height+"px")},i}(o),i.exports=n}),require.register("engine/image/model.yaml",function(t,e,i){i.exports={title:"image",display:"Single image",description:"Show a single image",category:"Content",features:{narration:!0,social:!0},model:{url:{type:"image","default":"",display:"Image"},compose:{type:"boolean","default":!1,help:"Add a border and shadow to the image.\n"},autofocus:{type:"boolean","default":!1,help:"Automatically focus on the image to show its caption.\n"},caption:{title:{type:"html","default":""},content:{type:"html","default":""}},tapAnywhere:{type:"boolean",display:"Tap anywhere to continue","default":!1,help:"Let the user tap anywhere on the screen to continue to the next slide. This only applies if there is no caption.\n"},prompt:{type:"html","default":"Select the image for more details"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"image",url:"img/examples/product-phone.png",autofocus:!1,compose:!0,caption:{title:"Product X",content:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"}}]}}),require.register("engine/image/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h,f){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="block-v-lg content-fill text-center">'),n.image(f,"img content-ver"+(s?" img-compose":"")),i.push('<div class="slide-loader content"></div></div>'),l&&(i.push('<div class="text-center"><div'+jade.attr("style","background-color: "+t+";",!0,!1)+' class="caption block-lg text-md">'),o.title&&i.push("<p><strong>"+(null==(e=o.title)?"":e)+"</strong></p>"),o.content&&i.push(null==(e=o.content)?"":e),i.push("</div></div>")),i.push("<div"+jade.cls(["slide-footer","block-v-lg",h?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),u?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=a||c("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof p&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=p)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=r||a||c("buttons.continue"))?"":e)+"</div></div>"),d&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"backgroundColor"in o?o.backgroundColor:"undefined"!=typeof backgroundColor?backgroundColor:void 0,"caption"in o?o.caption:"undefined"!=typeof caption?caption:void 0,"compose"in o?o.compose:"undefined"!=typeof compose?compose:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasCaption"in o?o.hasCaption:"undefined"!=typeof hasCaption?hasCaption:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"url"in o?o.url:"undefined"!=typeof url?url:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/image/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/slide"),s=e("lib/device").dpi,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){var t,e;return t={},e="zoom"===this.options.data.size?"touch:tap":"iostap",this.options.data.tapAnywhere&&!this.hasCaption()?t[e]="submit":(t["iostap .btn-done"]="submit",t.iostap="showZoom"),t},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.hasCaption=this.hasCaption(),t.tapAnywhere&&!t.hasCaption?(t.hasPrompt=!0,t.prompt=i18n("image.tap-to-continue")):t.hasCaption&&(t.hasPrompt=!0),t},i.prototype.hasCaption=function(){var t,e;return(null!=(t=this.options.data.caption)?t.title:void 0)||(null!=(e=this.options.data.caption)?e.content:void 0)},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){var t,e,i,n;return null!=(t=this.photoswipe)&&null!=(e=t.currItem.container)&&e.classList.add("pswp--smooth-exit"),$(null!=(i=this.photoswipe)?i.container:void 0).closest("#photoswipe").attr("class","pswp"),null!=(n=this.photoswipe)&&n.close(),this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){var t,e;return this.setState(!1,"focus"),this.setState("prompt"),t=this.findOne("img"),e=function(i){return function(){if(t.removeEventListener("load",e),i.setState(!0,"loaded"),i.options.data.autofocus)return i.showZoom()}}(this),t.complete?e():t.addEventListener("load",e)},i.prototype.showZoom=function(t,e){var i,n,o,r,a,l,d;return null==e&&(e=300),this.setState("touched"),this.setState(!0,"focus"),i=this.findOne("img"),o=this.options.data.compose?12:0,r=i.getBoundingClientRect(),l=r.top,n=r.left,d=r.width,a={x:n+o,y:l+o,w:d-2*o},this.photoswipe=new PhotoSwipe(document.querySelector("#photoswipe"),PhotoSwipeUI_Default,[{msrc:i.src,src:i.src,title:written.wrapInTag(this.options.data.caption.title,"h1")+written.wrapInTag(this.options.data.caption.content,"div"),w:(i.naturalWidth||i.width)/Math.min(s,1.66),h:(i.naturalHeight||i.height)/Math.min(s,1.66)}],{showAnimationDuration:e,focus:!1,history:!1,barsSize:{top:0,bottom:0},getThumbBoundsFn:function(){return a}}),this.photoswipe.listen("close",function(t){return function(){return t.setState(!1,"focus")}}(this)),this.photoswipe.init()},i.prototype.submit=function(t){return null!=t&&t.stopImmediatePropagation(),i.__super__.submit.apply(this,arguments)},i.prototype.refresh=function(t){var e,n;if(_.isEqual(t.data.caption,this.options.data.caption)?null!=(e=this.photoswipe)&&e.close():n=!0,i.__super__.refresh.apply(this,arguments),n)return this.showZoom(null,0)},i}(o),i.exports=n}),require.register("engine/list/model.yaml",function(t,e,i){i.exports={title:"list",display:"Bulleted list",description:"Show a list of bullet points",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":""},list:{type:[{type:"html"}],min:1,max:32},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"list",title:"Bulleted list",list:["Has a several points","Displays each point with a bullet","Is similar to a PowerPoint slide"]}]}}),require.register("engine/list/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){i.push('<div class="list-container content content-scroll"><div class="block-v-xl"><h1 class="slide-up">'+(null==(e=c)?"":e)+'</h1><ul class="list">'),function(){var n=l;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];i.push("<li"+jade.cls(["list-item","slide-up","delay-"+t.min(o,10)],[null,null,!0])+"><h2>"+(null==(e=r)?"":e)+"</h2></li>")}else{var s=0;for(var o in n){s++;var r=n[o];i.push("<li"+jade.cls(["list-item","slide-up","delay-"+t.min(o,10)],[null,null,!0])+"><h2>"+(null==(e=r)?"":e)+"</h2></li>")}}}.call(this),i.push("</ul></div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"list"in n?n.list:"undefined"!=typeof list?list:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/list/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/slide"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit"},i}(o),i.exports=n}),require.register("engine/matrix/model.yaml",function(t,e,i){i.exports={title:"matrix",display:"Multi-question",description:"Show multiple questions at once",category:"Multiple Choice",features:{stars:!0,social:!0},model:{title:{type:"html","default":""},columns:{min:2,max:3,type:[{title:{type:"html","default":"",display:"Column Title"},correct:{display:"Correct Answer",type:"html","default":""},incorrect:{display:"Incorrect Answers",min:1,max:2,type:[{type:"html"}]}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Select each correct answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"matrix",title:"Name the actor who played...",columns:[{title:"Neo",correct:"Keanu Reeves",incorrect:["Laurence Fishburne","Carrie-Anne Moss"]},{title:"Trinity",correct:"Carrie-Anne Moss",incorrect:["Keanu Reeves","Laurence Fishburne"]},{title:"Morpheus",correct:"Laurence Fishburne",incorrect:["Keanu Reeves","Carrie-Anne Moss"]}],answer:{takeaway:"The multi-questions template tests connected information",text:"The multi-questions template is powerful addition to standard multiple choice questions. You can even use it to talk about the Matrix movie!\n"}}]}}),require.register("engine/matrix/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="block-v-xl content-ver text-center content-scroll"><div class="content-scroll-inner"><h1 class="block-v-sm fade-in">'+(null==(e=h)?"":e)+'</h1><div class="row">'),function(){var n=u.questions;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];i.push("<div"+jade.cls(["col-sm-12","block-v-sm",t.length>2?"col-md-4":"col-md-6"],[null,null,!0])+"><div"+jade.cls(["block-dk","block-sm","fade-in","delay-"+o],[null,null,null,!0])+">");var a=r.question||r.questionDetails||{};i.push('<div class="block-sm text-bold text-md">'+(null==(e=a.content)?"":e)+"</div>"),function(){var t=r.answers;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var l=t[n];i.push("<div"+jade.attr("data-column",o,!0,!1)+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-question-id",a.id,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+' class="selectable block-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(d?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=null!=l.content&&l.content!=f?l.content:"&nbsp;")?"":e)+"</div></div>")}else{var s=0;for(var n in t){s++;var l=t[n];i.push("<div"+jade.attr("data-column",o,!0,!1)+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-question-id",a.id,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+' class="selectable block-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(d?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=null!=l.content&&l.content!=f?l.content:"&nbsp;")?"":e)+"</div></div>")}}}.call(this),i.push("</div></div>")}else{var s=0;for(var o in n){s++;var r=n[o];i.push("<div"+jade.cls(["col-sm-12","block-v-sm",t.length>2?"col-md-4":"col-md-6"],[null,null,!0])+"><div"+jade.cls(["block-dk","block-sm","fade-in","delay-"+o],[null,null,null,!0])+">");var a=r.question||r.questionDetails||{};i.push('<div class="block-sm text-bold text-md">'+(null==(e=a.content)?"":e)+"</div>"),function(){var t=r.answers;if("number"==typeof t.length)for(var n=0,s=t.length;n<s;n++){var l=t[n];i.push("<div"+jade.attr("data-column",o,!0,!1)+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-question-id",a.id,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+' class="selectable block-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(d?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=null!=l.content&&l.content!=f?l.content:"&nbsp;")?"":e)+"</div></div>")}else{var s=0;for(var n in t){s++;var l=t[n];i.push("<div"+jade.attr("data-column",o,!0,!1)+jade.attr("data-correct",l.correct,!0,!1)+jade.attr("data-question-id",a.id,!0,!1)+jade.attr("data-answer-id",l.id,!0,!1)+' class="selectable block-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(d?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=null!=l.content&&l.content!=f?l.content:"&nbsp;")?"":e)+"</div></div>")}}}.call(this),i.push("</div></div>")}}}.call(this),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",p?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"columns"in n?n.columns:"undefined"!=typeof columns?columns:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isLong"in n?n.isLong:"undefined"!=typeof isLong?isLong:void 0,"metadata"in n?n.metadata:"undefined"!=typeof metadata?metadata:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/matrix/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/base/game"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .selectable":"selectAnswer","iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e;return e=i.__super__.serialize.apply(this,arguments),e.isLong=_.chain(e.metadata.questions).pluck("answers").flatten().pluck("content").sortBy(function(t){return t.length}).last().value().length>10,t=/the above/i,e.metadata.questions=_.map(e.metadata.questions,function(e){var i;return e.answers=_.shuffle(e.answers),i=_.find(e.answers,function(e){
return t.test(e.content)}),i&&(e.answers=_.without(e.answers,i).concat(i)),e}),e},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.setEl(this.findAll(".selectable"),"answers"),this.setEl(this.findAll(".column"),"columns"),this.onTimerChange(this.game.timer)},i.prototype.show=function(){var t,e,n,o;for(i.__super__.show.apply(this,arguments),this.setState("prompt"),o=this.getEl("answers"),e=0,n=o.length;e<n;e++)t=o[e],t.classList.remove("active");return this.enterGame()},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.selectAnswer=function(t){var e,i,n,o,s,r,a;if("complete"!==this.currentState.state){for(a=t.currentTarget,e=a.dataset.column,a.classList.add("active"),r=this.getEl("answers"),n=0,o=r.length;n<o;n++)i=r[n],i.dataset.column===e&&i!==a&&i.classList.remove("active");return s=function(){var t,e,n,o;for(n=this.getEl("answers"),o=[],t=0,e=n.length;t<e;t++)i=n[t],i.classList.contains("active")&&o.push(i);return o}.call(this),s.length===this.options.metadata.questions.length?this.setState("touched"):void 0}},i.prototype.isCorrect=function(){var t,e;return t=function(){var t,i,n,o;for(n=this.getEl("answers"),o=[],t=0,i=n.length;t<i;t++)e=n[t],e.classList.contains("active")&&e.dataset.correct&&o.push(e);return o}.call(this),t.length===this.options.metadata.questions.length},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a,l,d;if(a=this.options.metadata.questions||[],!(a.length>0))return[];for(e=[],i=_.groupBy(this.$(".selectable"),function(t){return this.$(t).data("column")}),n=0,o=a.length;n<o;n++)s=a[n],t=a.indexOf(s),d=_.find(i[t],function(t){return this.$(t).hasClass("active")}),l=_.filter(s.answers,function(t){return t.content===this.$(d).text()}),r={question:s.question,answer:l[0]},e.push(r);return e},i}(n),i.exports=o}),require.register("engine/media-collection/model.yaml",function(t,e,i){i.exports={title:"media-collection",display:"Media collection",description:"Show up to three pieces of media",category:"Content",features:{social:!0},model:{title:{type:"html"},content:{display:"List items",type:[{content:{types:["video","image","audio"]},caption:{type:"html"}}],min:1,max:3},prompt:{type:"html","default":"Select each item for more details"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"media-collection",title:"Example Media Collection",content:[{contentType:"video",content:"video/example.mp4",caption:"This is the original product in our line and is a great source of pride for the company.\n"},{contentType:"image",content:"img/examples/product-laptop.png",caption:"Product Y was introduced to appeal to a broader customers base and was a great success.\n"},{contentType:"audio",content:"audio/achievement.mp3",caption:"Completing our range is Product Z. It appeals to old and new customers alike, making us a company for everyone.\n"}]}]}}),require.register("engine/media-collection/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};u=u||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n["media-collection-content"]=e=function(e,o,s){this&&this.block,this&&this.attributes||{};switch(o=o||t,o[e+"Type"]){case"image":i.push("<img"+jade.attr("src",o[e],!0,!1)+jade.cls(["block-v-md",s?"full-size":"thumbnail"],[null,!0])+"/>");break;case"audio":s?i.push("<audio"+jade.attr("src",o[e],!0,!1)+' webkit-playsinline="webkit-playsinline" playsinline="playsinline" preload="auto" controls="controls" class="multi-content multi-content-audio full-size"></audio>'):i.push("<audio"+jade.attr("src",o[e],!0,!1)+' webkit-playsinline="webkit-playsinline" playsinline="playsinline" preload="none" controls="controls" class="multi-content multi-content-audio thumbnail"></audio>');break;case"video":default:s?n["video-stream"](o[e],!0,!0,"multi-content vjs-fluid full-size"):n["video-stream"](o[e],!1,!1,"video vjs-fluid multi-content thumbnail")}},i.push('<div class="block-v-lg content-fill text-center"><div class="content-container content-fill"><div class="content-sm-ver content-md-ver content-lg-ver"><h1 class="title slide-down delay-3 tight">'+(null==(e=f)?"":e)+'</h1><div class="parent-container content-fill"><div class="tappies-parent content-fill"><div class="row tappies text-center">'),h&&function(){var t=h;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push("<div"+jade.attr("data-index",e,!0,!1)+jade.cls(["tappy","content-fill","col-sm-12","col-lg-8","col-lg-offset-2","slide-up","delay-"+e],[null,null,null,null,null,null,!0])+'><div class="tappy-child content-fill block-dk block-sm">'),n["media-collection-content"]("content",s,!1),i.push('<!-- put a transparent overlay on top of each item that--><!-- intercepts the click/tap events--><div class="tappy-overlay"></div></div></div>')}else{var o=0;for(var e in t){o++;var s=t[e];i.push("<div"+jade.attr("data-index",e,!0,!1)+jade.cls(["tappy","content-fill","col-sm-12","col-lg-8","col-lg-offset-2","slide-up","delay-"+e],[null,null,null,null,null,null,!0])+'><div class="tappy-child content-fill block-dk block-sm">'),n["media-collection-content"]("content",s,!1),i.push('<!-- put a transparent overlay on top of each item that--><!-- intercepts the click/tap events--><div class="tappy-overlay"></div></div></div>')}}}.call(this),i.push('</div></div><div class="details-parent content-fill">'),h&&function(){var t=h;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push('<div class="details content-sm-ver content-md-ver content-lg-ver">'),n["media-collection-content"]("content",r,!0),i.push('<div class="caption block-v-md block-h-md text-md">'+(null==(e=r.caption)?"":e)+"</div></div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push('<div class="details content-sm-ver content-md-ver content-lg-ver">'),n["media-collection-content"]("content",r,!0),i.push('<div class="caption block-v-md block-h-md text-md">'+(null==(e=r.caption)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",p?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),l?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||d("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||d("buttons.continue"))?"":e)+"</div></div>"),a&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"tappies"in o?o.tappies:"undefined"!=typeof tappies?tappies:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/media-collection/view.coffee",function(t,e,i){var n,o,s=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/slide"),n=function(t){function i(){return this.playDetailsMedia=s(this.playDetailsMedia,this),this.showDetails=s(this.showDetails,this),i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.fitTextOnResize=!1,i.prototype.fitTextOnRender=!1,i.prototype.events=function(){return{"iostap .btn-done":"submit",iostap:"hideDetails","iostap .tappy":"toggleContent"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.call(this),t.tappies=t.content||[],t.hasPrompt=!0,t},i.prototype.show=function(){var t,e,i,n,o,s,r,a;for(this.setEl(this.findOne(".tappies"),"tappies"),this.setEl(this.findAll(".details"),"details"),this.onResize(),this.listenTo(this,"resize",this.onResize),this.toVisit=function(){o=[];for(var t=0,e=this.serialize().tappies.length;0<=e?t<e:t>e;0<=e?t++:t--)o.push(t);return o}.apply(this),this.hideDetails(),n=this.el.querySelectorAll(".video-js.thumbnail"),s=[],e=0,i=n.length;e<i;e++)a=n[e],t=a.getAttribute("id"),r=_.findWhere(this.players,{id_:t}),r&&r.play().pause(),s.push(this.resetPlayer(r));return s},i.prototype.resetPlayer=function(t){return window.setTimeout(function(){return t.hasStarted(!1)},1)},i.prototype.onResize=function(){var t,e,i,n,o,s,r,a,l,d,u,c;for(c=this.$(".title"),t=this.$(".content-container"),e=this.$(".details-parent"),d=this.$(".tappies-parent"),r=this.getEl("tappies").children.length,r>=4&&(r=Math.ceil(r/2)),a=t.height()-c.height(),u=a/r,u=Math.min(u,220),l=this.getEl("tappies").children,n=o=0,s=l.length;o<s;n=++o)i=l[n],$(i).height(u);return this.$(".tappy-overlay").height(this.$(".tappy-child").height())},i.prototype.onDetailResize=function(){var t;return t=this.getEl("active-details"),this.limitDetailImageSize(t)},i.prototype.showDetails=function(t,e){var i,n,o;return o=+t.dataset.index,i=this.getContentType(o),n=this.getEl("details").item(o),this.toVisit=_.without(this.toVisit,o),this.setEl(n,"active-details"),_.isEmpty(this.toVisit)&&this.setState("touched"),this.setState("active","details"),this.listenTo(this,"resize",this.onDetailResize),this.onDetailResize(),$(n).css({opacity:1,"z-index":1e3,transform:e?"translate(-50%, -50%) scale(1)":""}),this.playDetailsMedia(i,n),t.classList.add("visited")},i.prototype.limitDetailImageSize=function(t){var e,i,n,o,s;return n=this.$(".details-parent"),o=t.querySelector(".full-size"),i=t.querySelector(".caption"),e=n.height()-i.offsetHeight,s=o.querySelector("video"),o.style.maxHeight=e+"px",s&&s.offsetHeight>e?$(o).css("padding-top",e):o.offsetHeight>e?$(o).height(e):void 0},i.prototype.toggleContent=function(t){return this.showDetails(t.currentTarget,!0)},i.prototype.playDetailsMedia=function(t,e){return"video"===t?window.setTimeout(function(t){return function(){var i,n;if(n=e.querySelector("div.video-js"))return i=n.getAttribute("id"),t.activePlayer=_.findWhere(t.players,{id_:i}),t.activePlayer.play()}}(this),400):"audio"===t?window.setTimeout(function(){var t;if(t=e.querySelector("audio"))return t.play()},400):void 0},i.prototype.hideDetails=function(t){var e;if(null!=t){if(/vjs/.test(t.target.className)||"VIDEO"===t.target.nodeName)return;if("AUDIO"===t.target.nodeName)return}if(e=this.getEl("active-details"))return this.stopDetailsMedia(e),$(e).css({opacity:0,"z-index":0,transform:"translate(-50%, -50%) scale(0.9)"}),this.setState("inactive","details")},i.prototype.stopDetailsMedia=function(t){var e;return e=t.querySelector("audio"),null!=e&&e.pause(),this.stopMedia()},i.prototype.getContentType=function(t){return this.options.data.content[t].contentType||"video"},i.prototype.refresh=function(t){var e,n,o,s,r,a,l,d,u,c,p;if(t.data.content&&this.options.data.content&&t.data.content.length===this.options.data.content.length)for(l=t.data.content,o=r=0,a=l.length;r<a;o=++r)d=l[o],n=d.content,e=d.caption,(n&&(null!=(u=this.options.data.content[o])?u.content:void 0)!==n||(null!=(c=this.options.data.content[o])?c.caption:void 0)!==e)&&(s=o);if(i.__super__.refresh.call(this,t),null!=s&&(p=this.getEl("tappies").children[s]))return this.showDetails(p,!1)},i}(o),i.exports=n}),require.register("engine/missing-word/model.yaml",function(t,e,i){i.exports={title:"missing-word",display:"Missing words",description:"Fill the missing words",category:"Concepts",links:{academy:"https://academy.edapp.com/how-to-missing-word/"},features:{stars:!0,social:!0},model:{title:{type:"html","default":"Select the missing words in this sentence"},words:{min:1,max:6,type:[{type:"html"}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag in the missing words"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"missing-word",title:"Fill in the important information about Product X",words:["important","old","Product X","Product Y"],answer:{text:"Use missing word to reinforce important messaging about Product X."}}]}}),require.register("engine/missing-word/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h){r&&r.timer&&r.timer.limit>0&&!r.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-md content-fill text-center"><div class="row content-md-ver content-sm-ver content-fit"><div class="col-md-10 col-md-offset-1 col-sm-12 block-v-md"><h1 class="fade-in">'),function(){var o=n;if("number"==typeof o.length)for(var s=0,r=o.length;s<r;s++){var a=o[s],l=9;i.push("<div"+jade.cls(["word","slide-up","delay-"+(l-t.abs(-l+s%(2*l)))],[null,null,!0])+">"),a.incorrect?i.push("<div"+jade.attr("data-name",a.incorrect,!0,!1)+' class="droppy"></div><span class="word-text">'+(null==(e=a.replaces)?"":e)+"</span>"):i.push(null==(e=a.replaces)?"":e),i.push("</div>")}else{var r=0;for(var s in o){r++;var a=o[s],l=9;i.push("<div"+jade.cls(["word","slide-up","delay-"+(l-t.abs(-l+s%(2*l)))],[null,null,!0])+">"),a.incorrect?i.push("<div"+jade.attr("data-name",a.incorrect,!0,!1)+' class="droppy"></div><span class="word-text">'+(null==(e=a.replaces)?"":e)+"</span>"):i.push(null==(e=a.replaces)?"":e),i.push("</div>")}}}.call(this),i.push('</h1></div><div class="col-sm-12 block-v-md"><div class="block-v-lg block-h-md block-dk">'),function(){var t=h;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("data-name",s,!0,!1)+jade.cls(["draggy","btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,null,!0])+">"+(null==(e=s)?"":e)+"</div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("data-name",s,!0,!1)+jade.cls(["draggy","btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,null,!0])+">"+(null==(e=s)?"":e)+"</div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),l?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||d("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||d("buttons.continue"))?"":e)+"</div></div>"),a&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"components"in n?n.components:"undefined"!=typeof components?components:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in n?n.undefined:void 0,"words"in n?n.words:"undefined"!=typeof words?words:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/missing-word/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("views/base/game"),n=e("views/components/draggy").DraggyView,r=e("lib/convert"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s,a,l,d,u,c,p,h,f,m;return e=i.__super__.serialize.apply(this,arguments),p=e.title,m=e.words,p=r.toText(p),m=m.map(function(t){return r.toText(t)}),o=_.filter(m,function(t){return""!==t}),m=function(){var t,e,i;for(i=[],s=t=0,e=o.length;t<e;s=++t)f=o[s],h=f,n=f.replace(/\W/g,function(t){return"\\"+t}),d="([^A-Z]|^)",u="([^A-Z]|$)",c=new RegExp(""+d+n+u,"i"),null!=p.match(c)&&(a=h,p=p.replace(c,function(t){return function(t,e,i){var n,o;return n=" "===e?e:e+" ",o=" "===i?i:" "+i,n+("{{"+s+"}}")+o}}(this))),i.push({replaces:f,incorrect:a});return i}.call(this),e.components=function(){var e,i,n,o,s,r,a;for(n=p.trim().split(" "),a=[],e=0,i=n.length;e<i;e++)t=n[e],l=+(null!=(o=t.match(/\{\{(\d+)\}\}/))?o[1]:void 0),a.push({incorrect:null!=(s=m[l])?s.incorrect:void 0,replaces:(null!=(r=m[l])?r.replaces:void 0)||t});return a}(),e.words=_.shuffle(o),e},i.prototype.show=function(){var t,e,o,s,r,a;if(i.__super__.show.apply(this,arguments),this.draggies)for(a=this.draggies,s=0,r=a.length;s<r;s++)t=a[s],t.undelegateEvents();return this.draggies=function(){var i,s,r,a;for(r=this.findAll(".draggy"),a=[],o=i=0,s=r.length;i<s;o=++i)e=r[o],t=new n({el:e}),this.listenTo(t,"drag",this.onDrag),this.listenTo(t,"drop",this.onDrop),a.push(t);return a}.call(this),this.droppies=this.getElements(".droppy",null),this.el.classList.add("ready"),this.listenTo(this,"resize",this.onResize),this.enterGame()},i.prototype.onResize=function(){var t,e,i,n,o,s,r,a,l,d,u,c,p,h;for(l=this.droppies||[],d=[],s=0,a=l.length;s<a;s++)i=l[s],d.push(function(){var s,a,l,d,f;for(l=i.contains||[],f=[],s=0,a=l.length;s<a;s++)o=l[s],e=_.find(this.draggies,{cid:o}),this.transition(e.el,"none"),e.getOffset(),t=i.el.getBoundingClientRect(),d=e.offset,r=d.left,u=d.top,c=d.width,n=d.height,p=Math.round(t.left+t.width/2-r-c/2),h=Math.round(t.top+t.height/2-u-n/2),e.setPosition({x:p,y:h}),f.push(this.transform(e.el,{x:p,y:h}));return f}.call(this));return d},i.prototype.getElements=function(t,e){var i,n,o,s,r,a,l,d,u,c,p;if(e){for(c=[],s=0,a=e.length;s<a;s++)d=e[s],n=d.el,i=d.contains,c.push({el:n,contains:i,bounds:n.getBoundingClientRect()});return c}for(u=this.findAll(t),p=[],o=r=0,l=u.length;r<l;o=++r)n=u[o],p.push({el:n,bounds:n.getBoundingClientRect(),contains:[]});return p},i.prototype.onDrag=function(t,e){var i,n,o,s,r,a;for(e&&(this.droppies=this.getElements(".droppy",this.droppies)),i=t.closest(_.pluck(this.droppies,"bounds")),a=this.droppies,o=s=0,r=a.length;s<r;o=++s)n=a[o],n.el.classList.toggle("active",o===i),n.isActive=o===i;return e&&(t.el.className=t.el.className.replace(/delay-\d/,"")),this.transform(t.el,{x:t.x,y:t.y,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t){var e,i,n,o,s,r,a,l,d;return s=t.offset,o=s.left,r=s.top,a=s.width,n=s.height,i=function(){var t,e,n,o;for(n=this.droppies,o=[],t=0,e=n.length;t<e;t++)i=n[t],i.isActive&&o.push(i);return o}.call(this)[0],l=d=0,i?(e=i.bounds,l=Math.round(e.left+e.width/2-o-a/2),d=Math.round(e.top+e.height/2-r-n/2)):t.isPositioned=!1,this.options.data.reject&&(null!=i?i.el.dataset.name:void 0)!==t.el.dataset.name&&(null!=i&&(i.isActive=!1),l=d=0),t.x!==l||t.y!==d?t.reset({x:l,y:d}):(this.transform(t.el,{x:t.x,y:t.y,transition:"all 300ms"}),this.checkAnswer(t)),this.setState(this.isTouched()?"touched":"prompt")},i.prototype.checkAnswer=function(t){var e,i,n,o,s,r,a;for(s=this.droppies,r=[],n=0,o=s.length;n<o;n++)i=s[n],i.el.classList.remove("active"),e=_.include(i.contains,t.cid),i.isActive?(t.el.classList.add("is-positioned"),t.isPositioned=!0,a=this.getDraggyFromID(i.contains[0],t),i.contains.length>0&&a&&(i.isActive=!1,this.resetDraggy(a)),r.push(i.contains=_.uniq(i.contains.concat(t.cid)))):e?r.push(i.contains=_.without(i.contains,t.cid)):r.push(void 0);return r},i.prototype.showAnswer=function(){var t,e,i,n,o;for(n=this.draggies,o=[],e=0,i=n.length;e<i;e++)t=n[e],o.push(t.lock());return o},i.prototype.isTouched=function(){var t,e;return e=function(){var e,i,n,o;for(n=this.droppies,o=[],e=0,i=n.length;e<i;e++)t=n[e],t.contains.length>0&&o.push(t);return o}.call(this),e.length===this.droppies.length},i.prototype.getDraggyFromID=function(t,e){return _.find(this.draggies,function(i){return i!==e&&i.cid===t})},i.prototype.resetDraggy=function(t){return t.reset(),t.el.classList.remove("is-positioned"),t.isPositioned=!1},i.prototype.isCorrect=function(){return this.droppies.reduce(function(t){return function(e,i,n){var o,s,r;return e&&(null!=(o=t.getDraggyFromID(i.contains[0]))&&null!=(s=o.el.dataset.name)?s.toLowerCase():void 0)===(null!=(r=i.el.dataset.name)?r.toLowerCase():void 0)}}(this),!0)},i.prototype.answerDetails=function(){var t,e;return e=this.options.strippedMetadata.questions||[],e.length>0?t=this.droppies.map(function(t){return function(i,n){var o,s,r,a,l,d;return s=i.contains[0],d=null!=(l=t.getDraggyFromID(s))?l.el.dataset.name:void 0,r=i.el.dataset.name.toLowerCase()===d.toLowerCase(),a=_.find(e,function(t){return t.question.content.toLowerCase()===d.toLowerCase()}),o=_.find(a.answers,function(t){return t.correct===r}),o.content=d,e=_.reject(e,function(t){return t.question.id===a.question.id}),{question:a.question,answer:o}}}(this)):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=s}),require.register("engine/multiple-choice-game/model.yaml",function(t,e,i){i.exports={title:"multiple-choice-game",display:"Multiple choice",description:"Show answers in a list",category:"Multiple Choice",features:{stars:!0,social:!0},model:{title:{"default":"",types:["text","image","video","audio","iframe"]},subtitle:{type:"text","default":""},selectable:{display:"Number of selectable answers","default":1,type:"number"},randomize:{"default":!0,type:"boolean",help:'Shuffle the answers, with those containing "the above" at the bottom.\n'},answers:{min:2,max:8,type:[{content:{type:"html"},correct:{type:"boolean"}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},additionalContent:{display:"Additional Content","default":"",types:["text","image","video","audio","iframe"],help:"This content displays beneath the multiple choice answers"},prompt:{type:"html","default":"Select the correct answer"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"true-or-false",hidden:!0,title:"Can I do a simple true or false question?",titleType:"text",answers:[{content:"True",correct:!0},{content:"False"}],randomize:!1,answer:{text:"Definitely. True and false works exactly as you would expect.\n"},additionalContent:"",additionalContentType:"text"},{subtype:"one-of-three",title:"Does the template support verbose answers?",titleType:"text",answers:[{correct:!0,content:"Yes, the answers can be long and will still display nicely."},{content:"No, verbosity is not allowed as it complicates things."},{content:"No, it's boring to have long answers. No one will read them."}],answer:{text:"We do of course support long answers. They are not always necessary, but sometimes it's important to be specific and we always want to support your needs.\n"},additionalContent:"",additionalContentType:"text"},{subtype:"subset-of-five",hidden:!0,title:'Which countries start with "A"?',titleType:"text",selectable:5,prompt:"Select the correct answers",answers:[{content:"Australia",correct:!0},{content:"Afghanistan",correct:!0},{content:"Armenia",correct:!0},{content:"Africa"},{content:"France"}],answer:{text:'Australia, Afghanistan and Armenia all start with an "A". Can you name the other eight countries?\n'},game:{timer:{limit:1e4}},additionalContent:"",additionalContentType:"text"},{subtype:"subset-of-four",hidden:!0,title:"Which of these are true?",titleType:"text",answers:[{content:"All of the above",correct:!0},{content:"This"},{content:"That"},{content:"The other"}],answer:{takeaway:"All of the above are true",text:'It\'s possible to show incorrect answers in the specific order followed by a correct answer. Any answer that contains "the above" will be placed at the bottom of the list, random or not.\n'},additionalContent:"",additionalContentType:"text"}]}}),require.register("engine/multiple-choice-game/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v,g,y){n["video-stream"]=e=function(t,e,n,o,s){this&&this.block,this&&this.attributes||{};f=f||!0,n=n||!0,o=o||"video vjs-fluid";var a=r.CLOUDINARY_CDN_URL+r.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",r.direction,!0,!1)+jade.attr("poster",s,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,s){this&&this.block,this&&this.attributes||{};switch(s=s||t,s[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(s[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](s[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",s[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",r.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=s[o].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=s[o])?"":e)+"</span>")}},d&&d.timer&&d.timer.limit>0&&!d.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-sm-scroll content-sm-ver content-md-ver content-fit block-v-md content-lg-fill"><div class="inner-content content-lg-fill fade-in text-center"><div class="row content-lg-fill"><div class="col col-lg-6 col-sm-12 block-v-md"><div class="slide-title text-xxl text-lg-right text-md-center text-sm-center fade-in">'),n["multi-content"]("title"),i.push("</div>"),g&&(h=h||t,i.push("<div"+jade.cls(["slide-subtitle","text-lg","text-md-center","text-sm-center","fade-in","delay-2",h&&"audio"===h.titleType?"text-lg-center":"text-lg-right"],[null,null,null,null,null,null,!0])+">"+(null==(e=g)?"":e)+"</div>")),i.push('</div><div class="col col-lg-6 col-sm-12 block-v-md"><div class="answers block-md block-dk fade-in"><div class="block-h-sm">'),function(){var t=s;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var r=t[n];i.push("<div"+jade.attr("data-answer-id",r.id,!0,!1)+jade.cls(["selectable","block-v-sm","fade-in",r.correct?"correct":"incorrect"],[null,null,null,!0])+"><div"+jade.cls(["btn","btn-solid","btn-block","slide-up",(r.isLong?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=r.content)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var r=t[n];i.push("<div"+jade.attr("data-answer-id",r.id,!0,!1)+jade.cls(["selectable","block-v-sm","fade-in",r.correct?"correct":"incorrect"],[null,null,null,!0])+"><div"+jade.cls(["btn","btn-solid","btn-block","slide-up",(r.isLong?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=r.content)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div>"),o&&(i.push('<div class="block-v-md slide-title text-xxl text-md-center text-sm-center fade-in">'),n["multi-content"]("additionalContent"),i.push("</div>")),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",v?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),c?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=l||p("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof m&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=m)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=a||l||p("buttons.continue"))?"":e)+"</div></div>"),u&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),
i.push("</div>")}.call(this,"additionalContent"in o?o.additionalContent:"undefined"!=typeof additionalContent?additionalContent:void 0,"answers"in o?o.answers:"undefined"!=typeof answers?answers:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"obj"in o?o.obj:"undefined"!=typeof obj?obj:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"subtitle"in o?o.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/multiple-choice-game/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,l=[].slice,d=[].indexOf||function(t){for(var e=0,i=this.length;e<i;e++)if(e in this&&this[e]===t)return e;return-1};n=e("views/base/game"),s=e("lib/device").dpi,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .selectable":"selectAnswer","iostap .btn-done":"endGame","iostap .multi-content-wrapper-image":"showZoom"},i.prototype.serialize=function(){var t,e,n,o,s,r,a,d,u,c;return o=i.__super__.serialize.apply(this,arguments),e=(null!=(d=o.metadata.questions)&&null!=(u=d[0])?u.answers:void 0)||[],e=e.filter(function(t){return null!=t.content}),r=_.max(e,function(t){var e;return(null!=(e=t.content)?e.length:void 0)||0}),s=(null!=(c=r.content)?c.length:void 0)>Math.min(o.width/16,30),e=function(){var i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(_.extend({},t,{isLong:s,bottom:/the above/i.test(t.content)}));return o}(),o.randomize&&(e=_.shuffle(e)),n=_.where(e,{bottom:!0}),a=_.without.apply(_,[e].concat(l.call(n))),o.answers=a.concat(n),o},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.setEl(this.findOne(".inner-content"),"innerContent"),this.setEl(this.findAll(".selectable"),"answers"),this.setEl([],"selected"),this.onTimerChange(this.game.timer),window.setTimeout(function(t){return function(){return t.getEl("innerContent").style.overflowY="auto"}}(this),1500)},i.prototype.refresh=function(){return i.__super__.refresh.apply(this,arguments),this.showFocusImage()},i.prototype.show=function(){var t,e,n,o;for(i.__super__.show.apply(this,arguments),this.setState("prompt"),o=this.getEl("answers")||[],e=0,n=o.length;e<n;e++)t=o[e],t.classList.remove("active");return this.enterGame(),this.showFocusImage()},i.prototype.showFocusImage=function(){var t;if(t=!1,"image"===this.options.data.titleType||"image"===this.options.data.additionalContentType)return window.setTimeout(function(e){return function(){var i,n,o,s,r;for(r=e.findAll(".multi-content-image"),i=0,s=r.length;i<s;i++)n=r[i],o=n.getBoundingClientRect(),t=o.height<(n.naturalHeight||n.height)||o.width<(n.naturalWidth||n.width);return e.setState(t,"image-focus")}}(this),100)},i.prototype.showZoom=function(t){var e,i;if(e=t.currentTarget.querySelector(".multi-content-image"),i=e.getBoundingClientRect(),i.height<(e.naturalHeight||e.height)||i.width<(e.naturalWidth||e.width))return this.photoswipe=new PhotoSwipe(document.querySelector("#photoswipe"),PhotoSwipeUI_Default,[{msrc:e.src,src:e.src,title:written.wrapInTag(this.options.data.subtitle||"","h2"),w:(e.naturalWidth||e.width)/Math.min(s,1.66),h:(e.naturalHeight||e.height)/Math.min(s,1.66)}],{focus:!1,history:!1,barsSize:{top:0,bottom:0},getThumbBoundsFn:function(){return{x:i.left,y:i.top,w:i.width}}}),this.photoswipe.listen("close",function(t){return function(){return t.setState(!1,"focus")}}(this)),this.photoswipe.init()},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.selectAnswer=function(t){var e,i,n;if("complete"!==this.currentState.state&&(n=this.getEl("selected"),e=t.currentTarget,1!==this.options.data.selectable||!e.classList.contains("active")))return e.classList.toggle("active"),e.classList.contains("active")?(n.length>=this.options.data.selectable&&null!=(i=n.shift())&&i.classList.remove("active"),n.push(e)):n=_.without(n,e),this.setEl(n,"selected"),this.setState("touched")},i.prototype.noDifference=function(t,e){return _.chain(t).difference(e).isEmpty().value()},i.prototype.answerDetails=function(){var t,e,i,n,o;return n=this.options.strippedMetadata.questions||[],n.length>0?(i=n[0],o=this.getEl("selected").map(function(t){return this.$(t).data("answer-id")}),t=i.answers.filter(function(t){var e;return e=t.id,d.call(o,e)>=0}),e=t.map(function(t){return{question:i.question,answer:t}})):[]},i.prototype.isCorrect=function(){var t,e;return e=this.getEl("selected"),t=_.chain(this.getEl("answers")).filter(function(t){return t.classList.contains("correct")}).value(),this.noDifference(t,e)&&this.noDifference(e,t)},i}(n),i.exports=o}),require.register("engine/multiple-choice-survey/model.yaml",function(t,e,i){i.exports={title:"multiple-choice-survey",display:"Survey",description:"Ask for multiple choice feedback",category:"Survey",features:{social:!0},model:{question:{id:{type:"uuid",hidden:!0},content:{"default":"",types:["text","image","video","audio","iframe"]}},selectable:{display:"Number of selectable answers","default":1,type:"number"},randomize:{"default":!0,type:"boolean",help:"Randomize the order of the answers to reduce response bias from your learners.\n"},answers:{min:2,max:8,type:[{id:{type:"uuid",hidden:!0},content:{type:"html"}}]},additionalContent:{display:"Additional Content","default":"",types:["text","image","video","audio","iframe"],help:"This content displays beneath the multiple choice answers"},prompt:{type:"html","default":"Select the best response"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"yes-no",question:{id:"#GENUUID#",content:"Have you learned something new with this lesson?",contentType:"text"},selectable:1,answers:[{id:"#GENUUID#",content:"Yes"},{id:"#GENUUID#",content:"No"}],additionalContent:"",additionalContentType:"text"}]}}),require.register("engine/multiple-choice-survey/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,o,s){this&&this.block,this&&this.attributes||{};p=p||!0,n=n||!0,o=o||"video vjs-fluid";var a=r.CLOUDINARY_CDN_URL+r.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",r.direction,!0,!1)+jade.attr("poster",s,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,s){this&&this.block,this&&this.attributes||{};switch(s=s||t,s[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(s[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](s[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",s[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",r.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=s[o].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=s[o])?"":e)+"</span>")}},i.push('<div class="block-v-lg content-fill content-fit"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><h1 class="slide-title text-lg-right text-md-center text-sm-center fade-in">'),n["multi-content"]("title"),i.push('</h1></div><div class="col col-lg-6 col-sm-12 block-v-md"><div class="answers block-md block-dk fade-in"><div class="block-h-sm">'),function(){var t=s;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var r=t[n];i.push("<div"+jade.attr("data-answer-id",r.id,!0,!1)+' class="selectable block-v-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(r.isLong?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=r.content)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var r=t[n];i.push("<div"+jade.attr("data-answer-id",r.id,!0,!1)+' class="selectable block-v-sm fade-in"><div'+jade.cls(["btn","btn-solid","btn-block","slide-up",(r.isLong?"btn-long":"")+" delay-"+n],[null,null,null,null,!0])+">"+(null==(e=r.content)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div>"),o&&(i.push('<div class="block-v-md slide-title text-xxl text-md-center text-sm-center fade-in">'),n["multi-content"]("additionalContent"),i.push("</div>")),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),u?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=l||c("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=a||l||c("buttons.continue"))?"":e)+"</div></div>"),d&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"additionalContent"in o?o.additionalContent:"undefined"!=typeof additionalContent?additionalContent:void 0,"answers"in o?o.answers:"undefined"!=typeof answers?answers:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/multiple-choice-survey/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty,l=[].slice;n=e("views/input"),s=e("lib/device").dpi,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .selectable":"selectAnswer","iostap .btn-done":"nextSlide","iostap .multi-content-wrapper-image":"showZoom"},i.prototype.serialize=function(){var t,e,n,o,s,r,a,d;return o=i.__super__.serialize.apply(this,arguments),o.title=o.question.content,o.titleType=o.question.contentType,o.hasPrompt=!0,e=_.filter(o.answers,"content"),r=_.max(e,function(t){var e;return(null!=(e=t.content)?e.length:void 0)||0}),s=(null!=(d=r.content)?d.length:void 0)>Math.min(o.width/16,30),e=function(){var i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(_.extend({},t,{isLong:s,bottom:/the above/i.test(t.content)}));return o}(),o.randomize&&(e=_.shuffle(e)),n=_.where(e,{bottom:!0}),a=_.without.apply(_,[e].concat(l.call(n))),o.answers=a.concat(n),o},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.setEl(this.findAll(".selectable"),"answers"),this.setEl([],"selected")},i.prototype.refresh=function(){return i.__super__.refresh.apply(this,arguments),this.showFocusImage()},i.prototype.show=function(){var t,e,i,n;for(n=this.getEl("answers")||[],e=0,i=n.length;e<i;e++)t=n[e],t.classList.remove("active");return this.showFocusImage()},i.prototype.showFocusImage=function(){var t;return t=!1,window.setTimeout(function(e){return function(){var i,n,o,s,r;for(r=e.findAll(".multi-content-image"),i=0,s=r.length;i<s;i++)n=r[i],o=n.getBoundingClientRect(),t=t||o.height<(n.naturalHeight||n.height)||o.width<(n.naturalWidth||n.width);return e.setState(t,"image-focus")}}(this),100)},i.prototype.showZoom=function(t){var e,i;if(e=t.currentTarget.querySelector(".multi-content-image"),i=e.getBoundingClientRect(),i.height<(e.naturalHeight||e.height)||i.width<(e.naturalWidth||e.width))return this.photoswipe=new PhotoSwipe(document.querySelector("#photoswipe"),PhotoSwipeUI_Default,[{msrc:e.src,src:e.src,title:written.wrapInTag(this.options.data.subtitle||"","h2"),w:(e.naturalWidth||e.width)/Math.min(s,1.66),h:(e.naturalHeight||e.height)/Math.min(s,1.66)}],{focus:!1,history:!1,barsSize:{top:0,bottom:0},getThumbBoundsFn:function(){return{x:i.left,y:i.top,w:i.width}}}),this.photoswipe.listen("close",function(t){return function(){return t.setState(!1,"focus")}}(this)),this.photoswipe.init()},i.prototype.userInput=function(t){var e,i,n;return n=$(this.getEl("selected")),i={id:this.options.data.question.id,text:this.options.data.question.content},e={text:_.map(n,function(t){return $(t).text()}).join("|")},1===this.options.data.selectable&&(e.id=n.data("answer-id")),{question:i,answer:e}},i.prototype.selectAnswer=function(t){var e,i,n;if("complete"!==this.currentState.state&&(n=this.getEl("selected"),e=t.currentTarget,1!==this.options.data.selectable||!e.classList.contains("active")))return e.classList.toggle("active"),e.classList.contains("active")?(n.length>=this.options.data.selectable&&null!=(i=n.shift())&&i.classList.remove("active"),n.push(e)):n=_.without(n,e),this.setEl(n,"selected"),0===n.length?this.setState("prompt"):this.setState("touched")},i}(n),i.exports=o}),require.register("engine/number-picker/model.yaml",function(t,e,i){i.exports={title:"number-picker",display:"Number picker",description:"Input one or more digits",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Input number 5 in this sentence",help:"Include the number or hashes (#) where the number will occur. The latter takes precendence.\n"},number:{digits:{type:"int","default":2,min:1,max:4},min:{type:"int","default":0,display:"Min. Value"},max:{type:"int","default":99,display:"Max. Value"},prefix:{type:"html","default":""},suffix:{type:"html","default":""},initial:{display:"Starting Value",type:"int","default":0}},answer:{text:{type:"html","default":"",display:"Answer Text"},value:{type:"number","default":5,display:"Correct Value"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Select the correct number"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"integer",title:"Of the 3 top-selling brands, our portfolio has ##.",number:{digits:2,max:10,min:0,initial:0},answer:{value:3,takeaway:"Our portfolio has 3 of the 3 top-selling brands"}},{subtype:"money",hidden:!0,title:"At a cost of $99, our product is the cheapest",number:{digits:3,max:147,min:12,initial:99,prefix:"$",suffix:","},answer:{value:99,takeaway:"The product costs $99.00"}}]}}),require.register("engine/number-picker/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m){a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill invisible"><div class="content-fit block-v-xl content text-center">'),o&&i.push('<div class="block-v-md"><h1 class="number-picker-title slide-down">'+(null==(e=o)?"":e)+"</h1></div>"),i.push("<div"+jade.cls(["number-pickers","scale-up","block-v-md",c?"pickers-sm":""],[null,null,null,!0])+">"),p.prefix&&i.push('<div class="number-picker-prefix text-right text-xxl">'+(null==(e=p.prefix)?"":e)+"</div>"),function(){var n=new t(p.digits);if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){n[o];i.push('<div class="number-picker block-dk"><div class="btn btn-solid btn-block text-sm number-picker-arr-up"><span class="icon icon-chevron-up text-lg"></span></div><div class="number-picker-nums"><div class="number-picker-nums-scroller">'),function(){var n=new t(11);if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){n[o];i.push('<div class="number-picker-num block-h-md"><div class="text-fixed">'+jade.escape(null==(e=o%10)?"":e)+"</div></div>")}else{var s=0;for(var o in n){s++;n[o];i.push('<div class="number-picker-num block-h-md"><div class="text-fixed">'+jade.escape(null==(e=o%10)?"":e)+"</div></div>")}}}.call(this),i.push('</div></div><div class="btn btn-solid btn-block text-sm number-picker-arr-down"><span class="icon icon-chevron-down text-lg"></span></div></div>')}else{var s=0;for(var o in n){s++;n[o];i.push('<div class="number-picker block-dk"><div class="btn btn-solid btn-block text-sm number-picker-arr-up"><span class="icon icon-chevron-up text-lg"></span></div><div class="number-picker-nums"><div class="number-picker-nums-scroller">'),function(){var n=new t(11);if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){n[o];i.push('<div class="number-picker-num block-h-md"><div class="text-fixed">'+jade.escape(null==(e=o%10)?"":e)+"</div></div>")}else{var s=0;for(var o in n){s++;n[o];i.push('<div class="number-picker-num block-h-md"><div class="text-fixed">'+jade.escape(null==(e=o%10)?"":e)+"</div></div>")}}}.call(this),i.push('</div></div><div class="btn btn-solid btn-block text-sm number-picker-arr-down"><span class="icon icon-chevron-down text-lg"></span></div></div>')}}}.call(this),p.suffix&&i.push('<div class="number-picker-suffix text-left text-xxl">'+(null==(e=p.suffix)?"":e)+"</div>"),i.push("</div>"),n&&i.push('<div class="block-v-md"><h1 class="number-picker-title slide-up">'+(null==(e=n)?"":e)+"</h1></div>"),i.push("</div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"after"in n?n.after:"undefined"!=typeof after?after:void 0,"before"in n?n.before:"undefined"!=typeof before?before:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isLong"in n?n.isLong:"undefined"!=typeof isLong?isLong:void 0,"number"in n?n.number:"undefined"!=typeof number?number:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/number-picker/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){return function(){return t.apply(e,arguments)}},a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=e("views/base/game"),s=e("views/components/picker"),o=function(t){function i(){return this.onResize=r(this.onResize,this),i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s,r,a,l,d;return n=i.__super__.serialize.apply(this,arguments),d=n.title,s=n.number,t=n.answer,r=s.prefix,l=s.suffix,/\W#+\W/.test(d)?e=d.split(/\W+#+\W+/):(o=""+r+t.value+l,o=null!=o?o.replace(/[\$\!]/g,function(t){return"\\"+t}):void 0,a=new RegExp("\\s+"+o+"\\s+"),e=(d||"").split(a)),n.isLong=r.length+l.length>5,n.before=e[0],n.after=e.slice(1).join(""),n},i.prototype.show=function(){var t,e,n,o,r,a,l,d,u,c;for(i.__super__.show.apply(this,arguments),this.isPickerClicked=!1,this.timeout=0,this.$el.find(".content-fill").addClass("invisible"),this.setEl(this.findAll(".number-picker"),"pickers"),u=this.options.data.number,r=u.initial,e=u.digits;(""+r).length<e;)r=" "+r;for(this.pickers=function(){var t,e,i,a;for(i=this.getEl("pickers"),a=[],o=t=0,e=i.length;t<e;o=++t)n=i[o],d=new s({el:n,value:+(""+r).charAt(o)}),this.listenTo(d,"change",this.onChange),a.push(d);return a}.call(this),c=this.pickers,a=0,l=c.length;a<l;a++)d=c[a],this.onChange(d,null,!0);return this.enterGame(),t=_.debounce(function(t){return function(){return t.onResize()}}(this),100),$(window).on("resize.numberPickerView",t),this.onResize()},i.prototype.onChange=function(t,e,i){var n,o,s,r;if(s=e>0,o=e<0,this.isPickerClicked||(this.isPickerClicked=s||o),this.getTotal(),this.isPickerClicked&&this.setState("touched"),i?this.transform(t.scroller,{y:t.offset.height*-t.value,transition:"all 300ms"}):0===t.value&&s?(this.transform(t.scroller,{y:t.offset.height*-10,transition:"all 300ms"}),n=1):(1===t.value&&s&&(r=0),9===t.value&&o&&(r=t.offset.height*-10,n=-1),null!=r&&(this.transform(t.scroller,{y:r,transition:"none"}),t.scroller.offsetWidth),this.transform(t.scroller,{y:t.offset.height*-t.value,transition:"all 300ms"})),null!=n)return this.cascadeFrom(t,n)},i.prototype.onResize=function(){return this.$el.hasClass("visible")&&this.$el.removeClass("visible"),this.resizeTimeout&&window.clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(t){return function(){var e,i,n,o;for(t.$el.find(".content-fill").removeClass("invisible"),o=t.pickers,e=0,i=o.length;e<i;e++)n=o[e],n.getOffset(),n.setBy(0);return t.$el.addClass("visible"),t.timeout=300}}(this),this.timeout)},i.prototype.getTotal=function(){var t,e,i,n,o,s,r;for(this.currentValue=+function(){var t,e,i,n;for(i=this.pickers,n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(o.value);return n}.call(this).join(""),s=this.pickers,r=[],e=i=0,n=s.length;i<n;e=++i)o=s[e],t=Math.pow(10,this.pickers.length-e-1),o.toggleUp(this.currentValue+t>this.options.data.number.max),r.push(o.toggleDown(this.currentValue-t<this.options.data.number.min));return r},i.prototype.cascadeFrom=function(t,e){var i,n;return i=this.pickers.indexOf(t),null!=(n=this.pickers[i-1])?n.setBy(e):void 0},i.prototype.isCorrect=function(){return this.currentValue===this.options.data.answer.value},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a;return s=(null!=(r=this.options.metadata)?r.questions:void 0)||[],s.length>0?(o=s[0],i=this.isCorrect(),a=parseInt(this.currentValue),e=o.question.content.replace(/##/,"__").replace(/<br>/," "),o.question.content=e,t=_.find(o.answers,function(t){return t.correct===i}),n={question:o.question,answer:t},n.answer.content=a,[n]):[]},i.prototype.hide=function(){return i.__super__.hide.apply(this,arguments),$(window).off("resize.numberPickerView")},i}(n),i.exports=o}),require.register("engine/number-sentence/components/digits.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n){(function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];i.push("<span"+jade.attr("style",["opacity: "+(_.isNumber(r.opacity)?r.opacity:1),"transform: translate3d("+(r.x||0)+"px, "+(r.y||0)+"px, 0)"].join(";"),!0,!1)+' class="digit">'+jade.escape(null==(e=r.text)?"":e)+"</span>")}else{var s=0;for(var o in n){s++;var r=n[o];i.push("<span"+jade.attr("style",["opacity: "+(_.isNumber(r.opacity)?r.opacity:1),"transform: translate3d("+(r.x||0)+"px, "+(r.y||0)+"px, 0)"].join(";"),!0,!1)+' class="digit">'+jade.escape(null==(e=r.text)?"":e)+"</span>")}}}).call(this)}.call(this,"digits"in n?n.digits:"undefined"!=typeof digits?digits:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/number-sentence/components/wrapper.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t){i.push('<span class="number-wrap"><span class="number">'+jade.escape(null==(e=t)?"":e)+"</span>&nbsp;</span>")}.call(this,"zero"in n?n.zero:"undefined"!=typeof zero?zero:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/number-sentence/model.yaml",function(t,e,i){i.exports={title:"number-sentence",display:"Number sentence",description:"Select the correct number",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Input number 5 in this sentence",help:"Include hashes (#) where the number will occur.\n"},numbers:{min:2,max:8,type:[{number:{type:"number","default":0},correct:{type:"boolean","default":!1}}]},decimals:{type:"int",min:0,max:8,"default":0},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Select the correct number"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"integer",title:"We have sold<br>over ## units<br>around the world.\n",numbers:[{number:100},{number:1e3},{number:1e4},{number:1e5},{number:1e6,correct:!0}]},{subtype:"fraction",hidden:!0,title:"Our product has ##% market share.",decimals:1,numbers:[{number:20.6},{number:16.2},{number:12.6},{number:32.8},{number:26.6,correct:!0}]}]}}),require.register("engine/number-sentence/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u){o&&o.timer&&o.timer.limit>0&&!o.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-ver text-center content-fit"><div class="arrow btn-up block-md"><div class="btn btn-muted btn-circular slide-down delay-2"><span class="icon icon-chevron-up text-lg"></span></div></div><div class="block-v-xl fade-in"><div class="block-v-xl"><div class="text-xxl slide-up">'+(null==(e=d)?"":e)+'</div></div></div><div class="arrow btn-down block-md"><div class="btn btn-muted btn-circular slide-up delay-2"><span class="icon icon-chevron-down text-lg"></span></div></div></div></div><div'+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"sentence"in n?n.sentence:"undefined"!=typeof sentence?sentence:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/number-sentence/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){
function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("views/base/game"),r=e("lib/animate"),n=e("lib/easie"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.templates={"default":e("./template"),wrapper:e("./components/wrapper"),digits:e("./components/digits")},i.prototype.events={"iostap   .btn-up":"increase","iostap .btn-down":"decrease","iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n,o,s,r,a,l,d,u,c;for(n=i.__super__.serialize.apply(this,arguments),u=n.metadata.questions[0],d=u.question,e=u.answers,o=n.decimals,l=n.numbers,n.correct=_.find(l,"correct"),s=r=0,a=e.length;r<a;s=++r)t=e[s],""===t.content&&(e[s].content=0);return n.answers=_.sortBy(e,function(t){var e;return e=t.content,parseFloat(e)||0}),c=(0).toFixed(o||0),n.sentence=d.content.replace(/#+/,this.templates.wrapper({zero:c})),n},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.beforeShow=function(){return this.setEl(this.findOne(".btn-up"),"up"),this.setEl(this.findOne(".btn-down"),"down"),this.setEl(this.findOne(".number"),"number"),this.currentIndex=_.random(this.options.metadata.questions[0].answers.length-1),this.animateChange(0),this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.enterGame()},i.prototype.increase=function(){var t,e;return e=this.serialize().answers,t=e[this.currentIndex].content,this.currentIndex=Math.min(e.length-1,this.currentIndex+1),this.animateChange(t),this.setState("touched")},i.prototype.decrease=function(){var t,e;return e=this.serialize().answers,t=e[this.currentIndex].content,this.currentIndex=Math.max(0,this.currentIndex-1),this.animateChange(t,null,-1),this.setState("touched")},i.prototype.animateChange=function(t,e,i){var o,s,a,l,d,u,c,p,h,f,m,v,g,y,b,x,w,k,D;return null==i&&(i=1),v=this.serialize(),o=v.answers,l=v.decimals,c=this.getEl("number"),p=o.length-1,null==e&&(e=o[this.currentIndex].content),0===l&&(e=Math.round(e),t=Math.round(t)),x=c.offsetWidth,f=c.innerHTML,c.innerHTML=written.prettyNumber(e,",",l),w=c.offsetWidth,c.innerHTML=f,this.getEl("down").classList.toggle("disabled",0===this.currentIndex),this.getEl("up").classList.toggle("disabled",this.currentIndex===p),null==l&&(b=!0,s=t.toString().replace(/\d+\.{0,1}/,"").length,a=e.toString().replace(/\d+\.{0,1}/,"").length),m=written.prettyNumber(t,",",l),h=written.prettyNumber(e,",",l),u=.66,D=-4,k=0,d=function(o){return function(r){var d,p,f,v,g,y,x,w,T,j,E,C,S,q,L,A,P,I,M;if(v=n.quartInOut(r,0,1,1),C=new window.Big(e).minus(t).times(v).plus(t),0===l&&(C=C.round()),b&&(l=Math.round(s+(a-s)*r),1===r&&(l=a)),I=written.prettyNumber(C,",",l),I=I.slice(0,Math.max(h.length,m.length)),f=function(){var t,e,o;for(o=[],g=t=0,e=I.length;t<e;g=++t)x=I[g],T=I.length,P=g/T*(1-u),d=_.limit(r-P,u),M=n.quartIn(Math.sin(d/u*Math.PI),0,1,1),o.push({text:x,y:M*D*i});return o}(),r<1){if(I.length<m.length)for(p=m.length-I.length-1,g=y=S=p;S<=0?y<=0:y>=0;g=S<=0?++y:--y)f.unshift({text:m[g]});else if(I.length<h.length)for(p=h.length-I.length-1,g=w=q=p;q<=0?w<=0:w>=0;g=q<=0?++w:--w)f.unshift({text:h[g]});if(h.length>m.length)for(p=h.length-m.length,g=j=0,L=p;0<=L?j<L:j>L;g=0<=L?++j:--j)f[g].opacity=r,f[g].x=(1-v)*k*(1-g/p);if(m.length>h.length)for(p=m.length-h.length,g=E=0,A=p;0<=A?E<A:E>A;g=0<=A?++E:--E)f[g].opacity=1-r,f[g].x=v*k*(1-g/p)}return c.innerHTML=o.templates.digits({digits:f})}}(this),null!=(g=this.animation)&&g.cancel(),this.animation=r(d,(null!=(y=this.currentState)?y.refresh:void 0)?0:900)},i.prototype.isCorrect=function(){var t,e;return t=this.serialize().answers[this.currentIndex],(null!=t?t.correct:void 0)||t.content===(null!=(e=this.serialize().correct)?e.number:void 0)},i.prototype.endGame=function(){var t,e,n,o;if(i.__super__.endGame.apply(this,arguments),this.submit(),!this.isCorrect())return e=this.serialize().numbers,n=e[this.currentIndex].number,t=null!=(o=_.find(e,{correct:!0}))?o.number:void 0,this.animateChange(n,t)},i.prototype.answerDetails=function(){var t,e;return t=(null!=(e=this.options.metadata)?e.questions:void 0)||[],t.length>0?[{question:t[0].question,answer:this.serialize().answers[this.currentIndex],correct:this.isCorrect()}]:[]},i}(o),i.exports=s}),require.register("engine/parallax/model.yaml",function(t,e,i){i.exports={title:"parallax",display:"Image stack",description:"Stack images to form one",category:"Content",features:{narration:!0,social:!0},model:{images:{min:1,max:10,type:[{type:"image"}],help:"Separate each layer of your design onto it’s own image. Images overlay each other, with the first positioned at the back. Those nearer the back or front of the stack will move more than images in the middle.\n"},caption:{type:"html","default":""},background:{type:"string","default":"",display:"Background Color"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"multiple",caption:"## The EdApp experience is available on **mobile & desktop**\n",images:["img/examples/parallax-1.png","img/examples/parallax-2.png","img/examples/parallax-3.png"]}]}}),require.register("engine/parallax/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="parallax-container content-fill text-center"><div class="parallax-images fade-in delay-4 content-fill">'),function(){var t=u;if("number"==typeof t.length)for(var e=0,i=t.length;e<i;e++){var o=t[e];n.image(o,"parallax-img content parallax-img-#{i}")}else{var i=0;for(var e in t){i++;var o=t[e];n.image(o,"parallax-img content parallax-img-#{i}")}}}.call(this),o&&i.push("<div"+jade.attr("style","background: "+t,!0,!1)+jade.cls(["caption","block-v-lg","text-center","slide-up",t?"block-h-lg":""],[null,null,null,null,!0])+">"+(null==(e=o)?"":e)+"</div>"),i.push("</div></div><div"+jade.cls(["slide-footer","block-v-lg",p?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),l?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||d("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||d("buttons.continue"))?"":e)+"</div></div>"),a&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"background"in o?o.background:"undefined"!=typeof background?background:void 0,"caption"in o?o.caption:"undefined"!=typeof caption?caption:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"images"in o?o.images:"undefined"!=typeof images?images:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/parallax/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=e("views/slide"),o=e("lib/preload"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.useMouseEvent=!0,i.prototype.events=function(){return{"iostap .btn-done":"next",mousemove:"onMouseMove"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.images=_.compact(t.images),t},i.prototype.beforeShow=function(){return o.load(this.options.data.images,function(t){return function(){return t.onRotate({beta:0,gamma:0})}}(this))},i.prototype.show=function(){if(this.setEl(this.findAll(".parallax-img"),"images"),this.setEl(this.findOne(".caption"),"caption"),this.options.data.background&&this.trigger("ui",{lightbox:this.options.data.background,minimal:!1}),null!=window.Promise)return this.gn=new GyroNorm,this.gn.init({frequency:150})["catch"](function(){return"undefined"!=typeof console&&null!==console?console.log("DeviceOrientation not available in this context"):void 0}).then(function(t){return function(){return t.gn.start(function(e){if(!t.useMouseEvent||t.gn.isAvailable().deviceOrientationAvailable)return t.useMouseEvent=!1,t.onRotate(e["do"],"all 300ms")})}}(this))},i.prototype.hide=function(){var t;return null!=(t=this.gn)?t.end():void 0},i.prototype.onRefresh=function(){var t;if(null!=(t=this.gn)&&t.end(),this.show(),!this.options.data.background)return this.trigger("ui",{lightbox:!1})},i.prototype.undelegateEvents=function(){return $(window).off("."+this.cid),i.__super__.undelegateEvents.apply(this,arguments)},i.prototype.onMouseMove=function(t){var e,i,n,o,s,r;if(this.useMouseEvent)return"function"==typeof t.stopImmediatePropagation&&t.stopImmediatePropagation(),r=(null!=(s=t.touches)?s[0]:void 0)||t,n=r.pageX,o=r.pageY,i=90*(n/this.el.offsetWidth-.5),e=90*(o/this.el.offsetHeight-.5),this.onRotate({beta:e,gamma:i})},i.prototype.onRotate=function(t,e){var i,n,o,s,r,a,l,d,u,c,p,h,f,m,v;if(n=t.beta,a=t.gamma,null==e&&(e=""),d=this.getEl("images")){for(h=d.length-(1-d.length%2),o=.3,s=.25,r=o*a,i=s*n,f=-(null!=(m=this.getEl("caption"))?m.offsetHeight:void 0)/2||0,v=[],l=c=0,p=d.length;c<p;l=++c)u=d[l],v.push(this.transform(u,{x:r*(-h/2+l+1)-u.offsetWidth/2,y:i*(-h/2+l+1)-u.offsetHeight/2+f,transition:e}));return v}},i}(s),i.exports=n}),require.register("engine/peer-authoring/actions.coffee",function(t,e,i){var n,o;o=e("./constants"),t.Actions=n=function(){function t(t,e){this.lessonId=t,this.slideId=e}return t.prototype.dispatch=function(t){var e,i;return i=t.type,e=t.payload,Application.publish("event:"+i)(e)},t.prototype.uploadMediaFromSource=function(t,e){return this.dispatch({type:o.UPLOAD_MEDIA_FROM_SOURCE,payload:{lessonId:this.lessonId,slideId:this.slideId,source:t,type:e}})},t.prototype.getMediaForSlide=function(){return this.dispatch({type:o.GET_MEDIA_FOR_SLIDE,payload:{lessonId:this.lessonId,slideId:this.slideId}})},t.prototype.postMediaForSlide=function(t){var e,i;return i=t.url,e=t.title,this.dispatch({type:o.POST_MEDIA_FOR_SLIDE,payload:{lessonId:this.lessonId,slideId:this.slideId,url:i,title:e}})},t.prototype.unsetAutoOpenComment=function(){return this.dispatch({type:o.UNSET_AUTO_OPEN_COMMENT,payload:{}})},t}()}),require.register("engine/peer-authoring/constants.coffee",function(t,e,i){t.UPLOAD_MEDIA_FROM_SOURCE="UPLOAD_MEDIA_FROM_SOURCE",t.UPLOAD_MEDIA_FROM_SOURCE_SUCCESS="UPLOAD_MEDIA_FROM_SOURCE_SUCCESS",t.UPLOAD_MEDIA_FROM_SOURCE_FAILURE="UPLOAD_MEDIA_FROM_SOURCE_FAILURE",t.UPLOAD_MEDIA_FROM_SOURCE_PROGRESS="UPLOAD_MEDIA_FROM_SOURCE_PROGRESS",t.UPLOAD_MEDIA_FROM_SOURCE_PREVIEW="UPLOAD_MEDIA_FROM_SOURCE_PREVIEW",t.POST_MEDIA_FOR_SLIDE="POST_MEDIA_FOR_SLIDE",t.POST_MEDIA_FOR_SLIDE_SUCCESS="POST_MEDIA_FOR_SLIDE_SUCCESS",t.POST_MEDIA_FOR_SLIDE_FAILURE="POST_MEDIA_FOR_SLIDE_FAILURE",t.GET_MEDIA_FOR_SLIDE="GET_MEDIA_FOR_SLIDE",t.GET_MEDIA_FOR_SLIDE_SUCCESS="GET_MEDIA_FOR_SLIDE_SUCCESS",t.GET_MEDIA_FOR_SLIDE_FAILURE="GET_MEDIA_FOR_SLIDE_FAILURE",t.COMMENT_ADDED="COMMENT_ADDED",t.UNSET_AUTO_OPEN_COMMENT="UNSET_AUTO_OPEN_COMMENT"}),require.register("engine/peer-authoring/data.coffee",function(t,e,i){t.getMediaForSlideSuccessData=function(){return{totalCount:2,items:[{lessonId:"1",slideId:"1",id:"1",title:"Techniques we've used",description:"It's great",url:"video/example.mp4"},{lessonId:"2",slideId:"2",id:"2",title:"Try this other technique",description:"It's great",url:"video/example.mp4"},{lessonId:"2",slideId:"2",id:"2",title:"How about this?",description:"It's great",url:"video/example.mp4"},{lessonId:"2",slideId:"2",id:"2",title:"This is the best one",description:"It's great",url:"video/example.mp4"}]}},t.getNoMediaForSlideData=function(){return{totalCount:0,items:[]}}}),require.register("engine/peer-authoring/media-item.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r){switch(n["video-stream"]=e=function(e,n,o,s,a){this&&this.block,this&&this.attributes||{};r=r||!0,o=o||!0,s=s||"video vjs-fluid";var l=t.CLOUDINARY_CDN_URL+t.CLOUDINARY_VIDEO_FOLDER,d="";e&&e.indexOf(l)>-1&&(d=e.replace(l,l+"sp_full_hd/"),d=d.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",n,!0,!1)+jade.attr("controls",o,!0,!1)+' preload="auto"'+jade.attr("dir",t.direction,!0,!1)+jade.attr("poster",a,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",e,!0,!1)+"/>"),d&&i.push("<source"+jade.attr("src",d,!0,!1)+"/>"),i.push("</video>")},o.type){case"image":i.push("<li"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md"><div class="block-sm multi-content-media"><img'+jade.attr("src",o.url,!0,!1)+' class="multi-content multi-content-image"/></div></li>');break;case"video":i.push("<li"+jade.attr("data-id",o.id,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-video block-md"><div class="block-sm multi-content-media block-lt">'),n["video-stream"](o.url,!0,!0,"multi-content multi-content-video",o.thumbmail),i.push('</div><div class="video-info"><div class="video-actions"><span class="icon-group"><span class="icon-group-entry js-like-button hidden"><span class="icon icon-heart js-like-button"></span><span class="video-like-count text-light">'+jade.escape(null==(e="10")?"":e)+'</span></span><span class="icon-group-entry js-comment-button">'),o.commentCount>0?i.push('<span class="icon icon-chat-count"></span>'):i.push('<span class="icon icon-chat"></span>'),i.push('<span class="video-comment-count text-light js-video-comment-count">'+jade.escape(null==(e=o.commentCount||0)?"":e)+'</span></span></span><span class="icon icon-flag js-flag-button hidden"></span></div><span class="video-title">'+(null==(e=o.title)?"":e)+"</span></div></li>")}}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"item"in o?o.item:"undefined"!=typeof item?item:void 0,"obj"in o?o.obj:"undefined"!=typeof obj?obj:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/peer-authoring/model.yaml",function(t,e,i){i.exports={title:"peer-authoring",display:"Peer authoring",description:"Prompt learners to share videos and comment on others",category:"Content",visible:!0,features:{narration:!1,stars:!1,online:!0},help:'This template enables learners to upload videos and leave comments. This preview is the initial screen that learners will view. Once a video(s) is uploaded, learners will be able to scroll through what their peers have contributed. </br></br>If you would like to view contributions, click <a href="/peer-authoring" style="font-weight: bold" >here</a>.\n',model:{title:{type:"html","default":"Peer Authoring",display:"Slide title",required:!1},noMediaUploaded:{type:"html","default":"No videos have been uploaded yet.",required:!1,display:"No media uploaded message"},buttonText:{type:"html","default":"Upload",display:"Upload button label"},prompt:{type:"html","default":"Scroll to see more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{title:"Peer Authoring",subtype:"peer-authoring",buttonText:"Upload now"}]}}),require.register("engine/peer-authoring/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c){i.push('<div class="row text-center upload-view js-upload-view hidden"><h1 class="js-progress">'+(null==(e=a("peer-authoring.uploading"))?"":e)+'</h1><div class="loading-indicator js-loading-indicator"><div></div><div></div><div></div><div></div></div><div class="upload-progress-indicator upload-progress-indicator--hidden js-progress-indicator"><div class="upload-progress-text">100%</div></div><div class="upload-form js-upload-form"><label class="text-xxl text-xl-video">'+(null==(e=a("peer-authoring.video-title"))?"":e)+'</label><input type="text"'+jade.attr("placeholder",a("peer-authoring.title-placeholder"),!0,!1)+' class="text-xxl js-title-input"/><div class="btn btn-pale btn-next slide-up submit-button js-submit-button">'+(null==(e=a("peer-authoring.submit"))?"":e)+'</div></div></div><div class="content-scroll fade-in js-content-view"><div class="content-scroll-inner hide-overflow block-v-lg block-box-sizing"><div class="row"><div class="col-sm-12 col-lg-8 col-lg-offset-2"><h1 class="text-center">'+(null==(e=c)?"":e)+'</h1><div class="block-v-md text-center text-lg js-loading-view hidden">'+(null==(e="Loading...")?"":e)+'</div><div class="block-v-md text-center text-lg js-no-media-view hidden">'+(null==(e=l)?"":e)+'</div><ul class="slide-content text-md js-item-list"></ul></div></div></div><button class="btn btn-solid btn-upload js-upload hidden">'+(null==(e=t)?"":e)+"</button></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"buttonText"in n?n.buttonText:"undefined"!=typeof buttonText?buttonText:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"noMediaUploaded"in n?n.noMediaUploaded:"undefined"!=typeof noMediaUploaded?noMediaUploaded:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/peer-authoring/view.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function i(){this.constructor=t}for(var n in e)m.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},m={}.hasOwnProperty;d=e("../scrollable/view"),l=e("lib/preload"),p=e("lib/device"),u=p.dpi,c=p.platform,o=e("./constants"),n=e("./actions").Actions,s=e("./data"),r=e("./model"),a=function(t){function i(){return this.showSlideFooter=h(this.showSlideFooter,this),this.hideSlideFooter=h(this.hideSlideFooter,this),this.showContentView=h(this.showContentView,this),this.showUploadView=h(this.showUploadView,this),this.onLike=h(this.onLike,this),this.onTitleInputBlur=h(this.onTitleInputBlur,this),this.onTitleInputFocus=h(this.onTitleInputFocus,this),this.onComment=h(this.onComment,this),this.onSubmit=h(this.onSubmit,this),this.onUpload=h(this.onUpload,this),this.handleCommentAdded=h(this.handleCommentAdded,this),this.exitSocialLearning=h(this.exitSocialLearning,this),this.postMediaForSlideSuccess=h(this.postMediaForSlideSuccess,this),this.uploadMediaFromSourceFailure=h(this.uploadMediaFromSourceFailure,this),this.uploadMediaFromSourceSuccess=h(this.uploadMediaFromSourceSuccess,this),this.uploadMediaFromSourceProgress=h(this.uploadMediaFromSourceProgress,this),this.uploadMediaFromSourcePreview=h(this.uploadMediaFromSourcePreview,this),this.autoOpenComment=h(this.autoOpenComment,this),this.getMediaForSlideSuccess=h(this.getMediaForSlideSuccess,this),this.renderItem=h(this.renderItem,this),i.__super__.constructor.apply(this,arguments)}return f(i,t),i.prototype.template=e("./template"),i.prototype.mediaItemTemplate=e("./media-item"),i.prototype.ignoreStateOnRefresh=!0,i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW||null==("undefined"!=typeof __&&null!==__?__.slidedeck:void 0)?this.actions=new n("",""):this.actions=new n(__.slidedeck.id,this.id),this.media=[],this.upload={progress:0,uri:null,isUploading:!1}},i.prototype.events=function(){return _.extend(i.__super__.events.apply(this,arguments),{"iostap .btn-done":"next","iostap .js-upload":"onUpload","iostap .js-submit-button":"onSubmit","iostap .js-like-button":"onLike","click .js-comment-button":"onComment","focus .js-title-input":"onTitleInputFocus","focusout .js-title-input":"onTitleInputBlur"})},i.prototype.renderItem=function(t){var e;return e=t.thumbnail,!e&&t.url&&/cloudinary.*\..{3,4}$/.test(t.url)&&(e=t.url.replace(/\..{3,4}$/,".jpg")),t={id:t.id,type:"video",url:t.url,title:t.title,commentCount:t.commentCount,thumbnail:e},this.mediaItemTemplate({item:t,config:this.options.config()})},i.prototype.prependItem=function(t){return this.getEl("item_list").prepend(this.renderItem(t))},i.prototype.getMediaForSlide=function(){return window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW?this.getMediaForSlideSuccess(s.getNoMediaForSlideData()):(this.actions.getMediaForSlide(),this.getEl("loading_view").removeClass("hidden"),this.getEl("item_list").addClass("hidden"),this.getEl("no_media_view").addClass("hidden"))},i.prototype.getMediaForSlideSuccess=function(t){var e,i,n;return e=t.items,i=t.totalCount,n=t.videoId,this.getEl("loading_view").addClass("hidden"),0===i?(this.getEl("no_media_view").removeClass("hidden"),this.getEl("item_list").addClass("hidden")):(this.media=e,this.getEl("no_media_view").addClass("hidden"),this.getEl("item_list").removeClass("hidden").html(this.media.map(this.renderItem).join("")),window.setTimeout(function(t){return function(){return t.preloadMedia()}}(this),1e3),t.openComment?window.setTimeout(function(t){return function(){return t.autoOpenComment(n)}}(this),2e3):void 0)},i.prototype.autoOpenComment=function(t){var e,i;return i=$("ul.slide-content").find("[data-id='"+t+"']"),e=$(i).find(".js-comment-button"),e.trigger("click")},i.prototype.uploadMediaFromSourcePreview=function(t){var e;return e=t.uri,this.upload.uri=e,this.getEl("loading_indicator").removeClass("hidden")},i.prototype.uploadMediaFromSourceProgress=function(t){var e;if(e=t.percent,this.upload.percent=e,"number"==typeof e)return 1===e?this.getEl("progress").html("Processing..."):this.getEl("progress").html("Uploaded "+(100*e).toFixed()+"%")},i.prototype.uploadMediaFromSourceSuccess=function(t){var e;return e=t.uri,this.upload={uri:e,progress:void 0,isUploading:!1},this.getEl("progress").html(i18n("peer-authoring.upload-complete")),this.getEl("upload_form").removeClass("hidden"),this.getEl("loading_indicator").addClass("hidden"),this.getEl("upload_complete_indicator").removeClass("upload-progress-indicator--hidden")},i.prototype.uploadMediaFromSourceFailure=function(t){var e;return e=t.message,this.upload={uri:void 0,progress:void 0,isUploading:!1},this.showContentView()},i.prototype.postMediaForSlideSuccess=function(t){var e,i;return this.prependItem(t),this.getEl("loading_view").addClass("hidden"),this.getEl("content_view").removeClass("hidden"),this.$(".js-no-media-view").addClass("hidden"),this.$(".js-item-list").removeClass("hidden"),window.setTimeout(function(t){return function(){return t.preloadMedia()}}(this),400),i=this.findOne(".content-scroll"),e=this.$("[data-id="+t.id+"]"),window.setTimeout(function(t){return function(){return i.scrollTo({top:e[0].offsetTop+10,behavior:"smooth"})}}(this),1e3)},i.prototype.exitSocialLearning=function(t){return this.$(".selected").removeClass("selected")},i.prototype.handleCommentAdded=function(t){var e,i,n;if(n=t.payload.contentId,e=$("[data-id='"+n+"']").find(".js-video-comment-count"),i=e.text())return e.text(parseInt(i,10)+1)},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.setEl(this.$(".js-item-list"),"item_list"),this.setEl(this.$(".js-upload-view"),"upload_view"),this.setEl(this.$(".js-content-view"),"content_view"),this.setEl(this.$(".js-loading-view"),"loading_view"),this.setEl(this.$(".js-no-media-view"),"no_media_view"),this.setEl(this.$(".js-title-input"),"title_input"),this.setEl(this.$(".js-progress"),"progress"),this.setEl(this.$(".js-upload-form"),"upload_form"),this.setEl(this.$(".js-upload"),"upload_button"),this.setEl(this.$(".js-loading-indicator"),"loading_indicator"),this.setEl($("#slides"),"slides"),this.setEl($(".slide-footer"),"slide_footer"),this.setEl(this.$(".js-progress-indicator"),"upload_complete_indicator"),this.getMediaForSlide(),"browser"!==c&&this.getEl("upload_button").removeClass("hidden"),this.delegateEventsOnShow()},i.prototype.delegateEventsOnShow=function(){return this.listenTo(Backbone.Events,o.COMMENT_ADDED,this.handleCommentAdded),this.listenTo(Backbone.Events,o.GET_MEDIA_FOR_SLIDE_SUCCESS,this.getMediaForSlideSuccess),this.listenTo(Backbone.Events,o.UPLOAD_MEDIA_FROM_SOURCE_PREVIEW,this.uploadMediaFromSourcePreview),this.listenTo(Backbone.Events,o.UPLOAD_MEDIA_FROM_SOURCE_PROGRESS,this.uploadMediaFromSourceProgress),this.listenTo(Backbone.Events,o.UPLOAD_MEDIA_FROM_SOURCE_SUCCESS,this.uploadMediaFromSourceSuccess),this.listenTo(Backbone.Events,o.UPLOAD_MEDIA_FROM_SOURCE_FAILURE,this.uploadMediaFromSourceFailure),this.listenTo(Backbone.Events,o.POST_MEDIA_FOR_SLIDE_SUCCESS,this.postMediaForSlideSuccess),this.listenTo(Backbone.Events,"social-learning:exit",this.exitSocialLearning)},i.prototype.onScroll=function(t){var e,n;if(i.__super__.onScroll.apply(this,arguments),"browser"!==c){if(e=t.srcElement.scrollTop,n=this.getEl("upload_button"),e>40&&!n.hasClass("btn-upload--hidden"))return n.addClass("btn-upload--hidden"),_.delay(function(){return n.addClass("hidden")},550);if(e<=40&&n.hasClass("btn-upload--hidden"))return n.removeClass("hidden"),_.delay(function(){return n.removeClass("btn-upload--hidden")},5)}},i.prototype.onUpload=function(){if(!window.ED_LMS_PREVIEW&&!window.ED_PUBLIC_PREVIEW&&"browser"!==c)return this.upload.isUploading=!0,this.showUploadView(),this.actions.uploadMediaFromSource("library","video")},i.prototype.onSubmit=function(t){return t.preventDefault(),this.showContentView(),this.actions.postMediaForSlide({url:this.upload.uri,title:this.getEl("title_input").val()}),!1},i.prototype.onComment=function(t){var e,i,n;if(!window.ED_LMS_PREVIEW&&!window.ED_PUBLIC_PREVIEW)return e=$(t.currentTarget).parents("li"),e.addClass("selected"),i=this.findOne(".content-scroll"),window.setTimeout(function(){return i.scrollTo({top:e[0].offsetTop+10,behavior:"smooth"})},600),n=e.data("id").toString(),Backbone.Events.trigger("open-social-learning",{slide:this,peerAuthoring:!0,contentId:n}),this.actions.unsetAutoOpenComment()},i.prototype.onTitleInputFocus=function(){return this.getEl("upload_complete_indicator").addClass("upload-progress-indicator--hidden")},i.prototype.onTitleInputBlur=function(){return this.getEl("upload_complete_indicator").removeClass("upload-progress-indicator--hidden")},i.prototype.onLike=function(){},i.prototype.showUploadView=function(){return this.getEl("progress").html(i18n("peer-authoring.uploading")),this.getEl("upload_form").addClass("hidden"),this.getEl("loading_indicator").removeClass("hidden"),this.getEl("upload_button").addClass("hidden"),this.getEl("content_view").addClass("hidden"),this.getEl("upload_view").removeClass("hidden"),this.getEl("title_input").val(""),this.getEl("upload_complete_indicator").addClass("upload-progress-indicator--hidden"),this.hideSlideFooter()},i.prototype.showContentView=function(){return this.getEl("upload_view").addClass("hidden"),this.getEl("upload_form").addClass("hidden"),this.getEl("upload_button").removeClass("hidden"),this.getEl("content_view").removeClass("hidden"),this.showSlideFooter()},i.prototype.hideSlideFooter=function(){return this.getEl("slide_footer").css("display","none"),this.getEl("slides").css("border-bottom","none")},i.prototype.showSlideFooter=function(){return this.getEl("slide_footer").css("display","block"),this.getEl("slides").css("border-bottom","solid 1px currentColor")},i.prototype.hide=function(){return this.showSlideFooter()},i}(d),i.exports=a}),require.register("engine/pie-chart/model.yaml",function(t,e,i){i.exports={title:"pie-chart",display:"Pie chart",description:"Select a single value",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},pie:{min:{type:"number","default":0,display:"Min. Value"},max:{type:"number","default":100,display:"Max. Value"},prefix:{type:"html","default":""},suffix:{type:"html","default":"%"},increment:{type:"number","default":1}},answer:{text:{type:"html","default":"",display:"Answer Text"},value:{type:"number","default":5,display:"Correct Value"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag to set the correct value"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"pie-chart",title:"What percentage of the market belongs to the product?",pie:{min:0,max:100,labels:4,prefix:"",suffix:"%",increment:1},answer:{value:26,takeaway:"The product holds 26% market share",text:"With so much market share held by this product, it's obviously the only choice for consumers in the know.\n"}}]}}),require.register("engine/pie-chart/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c){if(s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-fit block-v-xl content-lg-fill content-sm-ver content-md-ver"><div class="row content-lg-fill"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><h1 class="text-lg-right text-md-center text-sm-center fade-in">'+(null==(e=c)?"":e)+'</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver text-center block-v-md">'),
"rtl"===t.direction)var p="M5,0 a-5,-5 0 0,0 0,10 a-5,-5 0 0,0 0,-10 z";else var p="M5,0 a5,5 0 0,1 0,10 a5,5 0 0,1 0,-10 z";i.push('<div class="pie scale-up"><svg viewbox="0,0,10,10" class="pie-ring-svg"><path'+jade.attr("d",p,!0,!1)+' class="pie-ring"></path><path'+jade.attr("d",p,!0,!1)+' class="pie-ring pie-ring-input"></path><path'+jade.attr("d",p,!0,!1)+' class="pie-ring pie-ring-answer"></path></svg><div class="pie-ring-value text-xxl text-bold content-ver"><div class="text-sm"><div class="text-sm">'+jade.escape(null==(e=l("pie-chart.touch-to-begin"))?"":e)+"</div></div></div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/pie-chart/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("views/base/game"),r=e("lib/prefix"),n=e("views/components/draggy").DraggyView,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit"},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.setEl(this.findOne(".pie"),"pie"),this.setEl(this.findOne(".pie-ring-input"),"knob-input"),this.setEl(this.findOne(".pie-ring-value"),"knob-value"),this.setEl(this.findOne(".pie-ring-answer"),"knob-answer"),this.resetDashOffset(this.getEl("knob-input")),this.resetDashOffset(this.getEl("knob-answer")),this.createDraggy(),this.enterGame()},i.prototype.createDraggy=function(){return this.draggy=new n({el:this.getEl("pie"),radius:this.getEl("pie").offsetWidth/2,isParent:!0}),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop)},i.prototype.onDrag=function(t,e){return this.currentValue=this.roundValue(t),this.labelEl(this.getEl("knob-value"),this.currentValue),this.transition(this.getEl("knob-input"),e?"all 300ms":"none"),this.offsetStrokeDash(this.getEl("knob-input"),t.t)},i.prototype.onDrop=function(t,e){return e?(this.transition(this.getEl("knob-input"),"all 300ms"),this.offsetStrokeDash(this.getEl("knob-input"),t.t),null!=this.currentValue?this.setState("touched"):void 0):t.reset({t:this.roundPos(t)})},i.prototype.resetDashOffset=function(t){var e;return e=10*Math.PI,t.style.strokeDashoffset=e,t.style.strokeDasharray=[e,e].join(" "),this.circumference=e},i.prototype.offsetStrokeDash=function(t,e){var i,n;return"rtl"===this.options.config().direction&&(e=2*Math.PI-e),n=-(e-2*Math.PI)/(2*Math.PI),i=this.circumference*n,t.style.strokeDashoffset=i+"px"},i.prototype.roundValue=function(t){var e,i,n,o,s;return o=this.options.data.pie,n=o.min,i=o.max,e=o.increment,s=Big(i-n).mul(this.roundPercent(t)).div(e).round().mul(e).plus(n),"rtl"===this.options.config().direction?Big(i-s):s},i.prototype.roundPos=function(t){return 2*Math.PI*this.roundPercent(t)},i.prototype.roundPercent=function(t){var e,i,n,o,s,r;return s=this.options.data.pie,e=s.increment,n=s.min,i=s.max,i=Big(i).sub(n).div(e).round().mul(e).plus(n),o=_.limit(t.t/(2*Math.PI),0,1),r=Big(i).sub(n).div(e).valueOf(),Big(r).mul(o).round().div(r)},i.prototype.labelEl=function(t,e){var i,n,o;return n=this.options.data.pie,i=n.prefix,o=n.suffix,t.innerHTML=""+i+e+o},i.prototype.showAnswer=function(){return this.offsetStrokeDash(this.getEl("knob-answer"),this.draggy.t),this.animateAnswerKnob(this.getEl("knob-answer"))},i.prototype.isCorrect=function(){var t;return null!=this.currentValue&&(null!=(t=this.currentValue)?t.eq(this.options.data.answer.value):void 0)},i.prototype.animateAnswerKnob=function(t){var e,i,n,o,s,r,a;return a=this.options.data,e=a.answer,r=a.pie,i=r.increment,o=r.min,n=r.max,n=Big(n).sub(o).div(i).round().mul(i).plus(o),s=(e.value-o)/(n-o),"rtl"===this.options.config().direction&&(s=1-s),t.offsetWidth,this.transition(t,"all 600ms"),this.offsetStrokeDash(t,s*Math.PI*2)},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r;return o=(null!=(s=this.options.metadata)?s.questions:void 0)||[],o.length>0?(n=o[0],e=this.isCorrect(),r=parseInt(this.currentValue),t=_.find(n.answers,function(t){return t.correct===e}),i={question:n.question,answer:t},i.answer.content=r,[i]):[]},i}(o),i.exports=s}),require.register("engine/quadrant-survey/model.yaml",function(t,e,i){i.exports={title:"quadrant-survey",display:"Quadrant",description:"Ask to plot statements on a map",category:"Survey",model:{question:{id:{type:"uuid",hidden:!0},content:{type:"html"}},zones:{min:4,max:4,type:[{xAxis:{type:"html",display:"x axis","default":"X Axis"},yAxis:{type:"html",display:"y axis","default":"Y Axis"}}]},words:{min:1,max:8,type:[{name:{type:"html"},"short":{type:"html"}}]},prompt:{type:"html","default":"Drag the words into the appropriate zone"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"quadrant",question:{id:"#GENUUID#",content:"How do you feel about each topic that was presented to you in this lesson?"},zones:[{xAxis:"Confident",yAxis:"Applicable"},{xAxis:"Not Confident",yAxis:"Applicable"},{xAxis:"Not Confident",yAxis:"Not Applicable"},{xAxis:"Confident",yAxis:"Not Applicable"}],words:[{name:"Topic X","short":"X"},{name:"Topic Y","short":"Y"},{name:"Topic Z","short":"Z"}]}]}}),require.register("engine/quadrant-survey/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){i.push('<div class="slide-content content-fill text-center"><div class="scroller content-fill js-scroller"><div class="slide-page js-slide-page slide-page--active slide-page--title"><h2>'+(null==(e=l.content)?"":e)+'</h2><div class="block-v-md"><div class="btn btn-muted btn-circular btn-down"><span class="icon icon-chevron-down text-lg"></span></div></div></div><div class="slide-page js-slide-page"><div class="btn btn-muted btn-circular btn-up"><span class="icon icon-chevron-up text-lg"></span></div><ul class="quadrant"><li'+jade.attr("data-name",""+p[0].yAxis+"-"+p[0].xAxis,!0,!1)+' class="quadrant-zone droppy"><span class="zone-title zone-title--left">'+jade.escape(null==(e=p[0].yAxis)?"":e)+'</span><span class="zone-title zone-title--top">'+jade.escape(null==(e=p[0].xAxis)?"":e)+"</span></li><li"+jade.attr("data-name",""+p[1].xAxis+"-"+p[1].yAxis,!0,!1)+' class="quadrant-zone droppy"><span class="zone-title zone-title--top">'+jade.escape(null==(e=p[1].xAxis)?"":e)+'</span><span class="zone-title zone-title--right">'+jade.escape(null==(e=p[1].yAxis)?"":e)+"</span></li><li"+jade.attr("data-name",""+p[2].yAxis+"-"+p[2].xAxis,!0,!1)+' class="quadrant-zone droppy"><span class="zone-title zone-title--left">'+jade.escape(null==(e=p[2].yAxis)?"":e)+'</span><span class="zone-title zone-title--bottom">'+jade.escape(null==(e=p[2].xAxis)?"":e)+"</span></li><li"+jade.attr("data-name",""+p[3].xAxis+"-"+p[3].yAxis,!0,!1)+' class="quadrant-zone droppy"><span class="zone-title zone-title--bottom">'+jade.escape(null==(e=p[3].xAxis)?"":e)+'</span><span class="zone-title zone-title--right">'+jade.escape(null==(e=p[3].yAxis)?"":e)+'</span></li></ul><div class="details"><h2>'+(null==(e=l.content)?"":e)+'</h2><div class="block-v-md"><div class="js-words words">'),function(){var t=c;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("data-name",s.name,!0,!1)+jade.attr("data-short",s["short"],!0,!1)+jade.cls(["draggy","btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,null,!0])+">"+(null==(e=s.name)?"":e)+"</div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("data-name",s.name,!0,!1)+jade.attr("data-short",s["short"],!0,!1)+jade.cls(["draggy","btn","btn-sm","btn-solid","slide-up","delay-"+n],[null,null,null,null,null,!0])+">"+(null==(e=s.name)?"":e)+"</div>")}}}.call(this),i.push("</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof a&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=a)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"question"in n?n.question:"undefined"!=typeof question?question:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in n?n.undefined:void 0,"words"in n?n.words:"undefined"!=typeof words?words:void 0,"zones"in n?n.zones:"undefined"!=typeof zones?zones:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/quadrant-survey/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/input"),n=e("views/components/draggy").DraggyView,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.isScrolledDown=!1,i.prototype.events=function(){return{"iostap .btn-done":"nextSlide","iostap .btn-up":"scrollUp","iostap .btn-down":"scrollDown"}},i.prototype.refresh=function(t){var e,n,o,s,r;return e=this.options.data,r=t.data,n=!_.isMatch(e.question,r.question),s=function(){return _.some(e.zones,function(t,e){return!_.isMatch(t,r.zones[e])})},o=function(){return e.words.length!==r.words.length||_.some(e.words,function(t,e){return!_.isMatch(t,r.words[e])})},i.__super__.refresh.call(this,t),n&&this.isScrolledDown?(this.scrollDown(!1),this.scrollUp()):s()||o()?this.isScrolledDown?this.scrollDown(!1):this.scrollDown(!0):void 0},i.prototype.show=function(){var t,e,i,o,s,r;if(this.listenTo(this,"resize",this.onResize),this.draggies)for(r=this.draggies,o=0,s=r.length;o<s;o++)t=r[o],t.undelegateEvents();return this.draggies=function(){var o,s,r,a;for(r=this.findAll(".draggy"),a=[],i=o=0,s=r.length;o<s;i=++o)e=r[i],t=new n({el:e}),this.listenTo(t,"drag",this.onDrag),this.listenTo(t,"drop",this.onDrop),a.push(t);return a}.call(this),this.droppies=this.getElements(".droppy",null),this.el.classList.add("ready")},i.prototype.getElements=function(t,e){var i,n,o,s,r,a,l,d,u,c,p;if(e){for(c=[],s=0,a=e.length;s<a;s++)d=e[s],n=d.el,i=d.contains,c.push({el:n,contains:i,bounds:n.getBoundingClientRect()});return c}for(u=this.findAll(t),p=[],o=r=0,l=u.length;r<l;o=++r)n=u[o],p.push({el:n,bounds:n.getBoundingClientRect(),contains:[]});return p},i.prototype.onDrag=function(t,e){var i,n,o,s,r,a;for(e&&(this.droppies=this.getElements(".droppy",this.droppies)),i=t.closest(_.pluck(this.droppies,"bounds")),a=this.droppies,o=s=0,r=a.length;s<r;o=++s)n=a[o],n.el.classList.toggle("active",o===i),n.isActive=o===i;return e&&(t.el.className=t.el.className.replace(/delay-\d/,"")),$(t.el).html(t.el.dataset.name),this.transform(t.el,{x:t.x,y:t.y,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t){var e,i,n,o,s,r,a;if(e=function(){var t,i,n,o;for(n=this.droppies,o=[],t=0,i=n.length;t<i;t++)e=n[t],e.isActive&&o.push(e);return o}.call(this)[0],e&&e.el){for(a=this.droppies,n=s=0,r=a.length;s<r;n=++s)i=a[n],i.contains=i.contains.filter(function(e){return e!==t});e.contains.push(t)}else t.resetPosition(),this.transform(t.el,{x:t.x,y:t.y,transition:"all 300ms"});return this.renderZones(),this.$(".js-words").is(":empty")?(o="touched",this.formatValue()):o="prompt",this.setState(o)},i.prototype.renderZones=function(){var t,e,i,n,o,s,r,a,l;for(a=this.droppies,l=[],n=s=0,r=a.length;s<r;n=++s)e=a[n],l.push(function(){var n,s,r,a;for(r=e.contains,a=[],o=n=0,s=r.length;n<s;o=++n)t=r[o],i=t.el,t.resetPosition(),this.transform(i,{x:0,y:0,transition:"none"}),$(i).html(i.dataset["short"]),a.push($(i).detach().appendTo(e.el));return a}.call(this));return l},i.prototype.scrollUp=function(t){var e;return null==t&&(t=!0),$("#lesson-header").show(),$(this.el).find(".js-slide-page").removeClass("slide-page--active"),e=$(this.el).find(".js-scroller"),this.transform(e[0],{x:0,y:0,transition:t?"all 300ms":"none"}),$(this.el).find(".btn-up").hide(),this.isScrolledDown=!1},i.prototype.scrollDown=function(t){var e;return null==t&&(t=!0),e=$(this.el).find(".js-slide-page").first(),e.next().addClass("slide-page--active"),$("#lesson-header").hide(),this.onResize(t),$(this.el).find(".btn-up").show(),this.isScrolledDown=!0},i.prototype.onResize=function(t){var e,i,n;if(null==t&&(t=!1),i=$(this.el).find(".js-scroller"),e=$(this.el).find(".js-slide-page").first(),e.next().hasClass("slide-page--active"))return n=e.height()+parseInt(e.css("margin-bottom")),this.transform(i[0],{x:0,y:"-"+n+"px",transition:t?"all 300ms":"none"})},i.prototype.formatValue=function(){var t,e,i,n,o,s,r;for(this.value="",s=this.droppies,e=i=0,n=s.length;i<n;e=++i)t=s[e],o=t.contains.map(function(t){return t.el.dataset.name}),r=t.el.dataset.name,this.value+=0===e?r+":"+o.join(","):"|"+r+":"+o.join(",");return console.log(this.value)},i.prototype.userInput=function(){return{quadrantResponse:this.value,question:{content:this.options.data.question.content,id:this.options.data.question.id}}},i.prototype.submit=function(t){return $("#lesson-header").show(),i.__super__.submit.apply(this,arguments)},i}(o),i.exports=s}),require.register("engine/question-pool/model.yaml",function(t,e,i){i.exports={title:"question-pool",display:"Question Pool",category:"Advanced",visible:!1,description:"Ask questions from a pool of questions",model:{content:{type:"slides",display:"Question Slides",help:"Add the slides that will be shown in this question pool.",allows:["Multiple Choice","Numbers","Concepts","Relationships","import-slides"]},showAllSlidesInOrder:{type:"boolean","default":!1,display:"Display all slides"},nbQuestionsToAsk:{type:"number","default":1,display:"Number of questions to present"},scoringMethod:{type:"select",display:"Scoring Method","default":"Slide","enum":["Slide","Answer","Slide Negative Marking","Answer Negative Marking","Answer Negative Marking II"]}},examples:[{subtype:"pool",content:[{type:"number-picker",templateName:"Number Picker",data:{answer:{takeaway:"The product costs $99.00",value:99,incorrect:"Not quite...",correct:"That's correct!",text:""},number:{suffix:",",prefix:"$",initial:99,min:12,max:147,digits:3},title:"At a cost of $99, our product is the cheapest",game:{timer:{limit:-1}},prompt:"Select the correct number"},name:0,displayIndex:1},{type:"slider",templateName:"Slider",data:{answer:{value:98,text:"A huge amount of responses were contributed to the survey.",takeaway:"",incorrect:"Not quite...",correct:"That's correct!"},slider:{labels:4,suffix:"%",max:100,min:85,decimals:0,increment:1,prefix:""},title:"What percent of customers responded in the survey?",game:{timer:{limit:-1}},prompt:"Slide to the correct value"},name:1,displayIndex:2},{type:"dial",templateName:"Dial",data:{answer:{text:"We're a true market leader with 10 states.",takeaway:"There are 10 states with over 10% market share",value:10,incorrect:"Not quite...",correct:"That's correct!"},dial:{suffix:"",prefix:"",labels:4,max:20,min:0,decimals:0,increment:1},title:"How many states have over 10% market share?",game:{timer:{limit:-1}},prompt:"Drag to set the correct value"},name:2,displayIndex:3}]}]}}),require.register("engine/question-pool/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d){i.push('<div class="content content-scroll block-h-xl pull-left"><div class="block-v-xl"><h1 class="slide-up">'+(null==(e=d)?"":e)+"</h1></div></div><div"+jade.cls(["slide-footer","block-v-lg",l?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof a&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=a)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/question-pool/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/slide"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit"},i}(o),i.exports=n}),require.register("engine/ratio/model.yaml",function(t,e,i){i.exports={title:"ratio",display:"Ratio",description:"Select one or more values",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Choose the correct ratios"},ratio:{bars:{min:1,max:4,type:[{title:{type:"html"},value:{type:"number","default":0}}]},total:{type:"number","default":100,display:"Total Value of All Bars"},prefix:{type:"html","default":""},suffix:{type:"html","default":"%"},increment:{type:"number","default":1},independent:{type:"boolean","default":!1,display:"Allow bars to move freely and total any number"}},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Drag to set the correct value"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"multiple-independent",hidden:!0,title:"What is the price of each product?",ratio:{increment:1,prefix:"$5.",suffix:"0",total:9,independent:!0,bars:[{title:"Product X",value:7},{title:"Product Y",value:2},{title:"Product Z",value:5}]},answer:{text:"Ratio can be used to ask the same number question for several different items at once.\n"}},{subtype:"single",title:"What are the reported satisfaction levels for users of Product Z?",ratio:{independent:!0,increment:20,bars:[{title:"Satisfaction levels",value:80}]},answer:{text:"Ratio can be used to ask a basic number question."}},{subtype:"multiple-dependant",hidden:!0,title:"When making Product Y, what ratio of milk to water should you use?",ratio:{suffix:"ml",total:30,increment:10,bars:[{title:"Milk",value:20},{title:"Water",value:10}]},answer:{text:"You can use Ratio to ask questions about the ratio of one value in relation to another.\n"}}]}}),require.register("engine/ratio/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){o&&o.timer&&o.timer.limit>0&&!o.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-fit block-v-xl content-lg-fill content-md-ver content-sm-ver"><div class="row content-md-fill"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-sm"><h1 class="text-lg-right text-md-center text-sm-center fade-in">'+(null==(e=c)?"":e)+'</h1></div><div class="col-lg-6 col-sm-12 content-lg-ver">'),function(){var t=d.bars;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.cls(["text-lg","block-v-sm","slide-up","delay-"+(n+1)],[null,null,null,!0])+'><div class="ratio-title pull-left block-v-sm">'+(null==(e=s.title)?"":e)+"</div><div"+jade.attr("data-answer-id",n,!0,!1)+' class="ratio"><div class="ratio-bar-container block-dk"><div class="ratio-bar"></div></div><div class="ratio-value"><div class="ratio-value-amount pull-right">&hellip;</div></div></div></div>')}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.cls(["text-lg","block-v-sm","slide-up","delay-"+(n+1)],[null,null,null,!0])+'><div class="ratio-title pull-left block-v-sm">'+(null==(e=s.title)?"":e)+"</div><div"+jade.attr("data-answer-id",n,!0,!1)+' class="ratio"><div class="ratio-bar-container block-dk"><div class="ratio-bar"></div></div><div class="ratio-value"><div class="ratio-value-amount pull-right">&hellip;</div></div></div></div>')}}}.call(this),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"ratio"in n?n.ratio:"undefined"!=typeof ratio?ratio:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/ratio/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/base/game"),n=e("views/components/draggy").DraggyView,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.listenTo(this,"resize",this.onResize),this.setEl(this.findAll(".ratio"),"bars"),this.createDraggies(),this.enterGame()},i.prototype.onResize=function(){var t;if((null!=(t=this.draggies)?t.length:void 0)>0)return window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(t){return function(){var e,i,n,o,s,r,a,l;for("prompt"===t.currentState.state&&(l=t.getEl("bars").item(0).offsetWidth,n=t.options.data.ratio.independent?l/2:l/t.getEl("bars").length),r=t.draggies,a=[],i=o=0,s=r.length;o<s;i=++o)e=r[i],e.getOffset(),e.options.maxX=e.offset.totalWidth,n?a.push(e.reset({x:n})):a.push(void 0);return a}}(this),600)},i.prototype.serialize=function(){var t,e,n,o,s;return e=i.__super__.serialize.apply(this,arguments),o=e.ratio,s=o.total,n=o.increment,e.ratio.total=parseFloat(s,10)||100,e.ratio.increment=parseFloat(n,10)||1,e.ratio.bars=_.filter(e.ratio.bars,function(t){return(null!=t?t.title:void 0)&&(null!=t?t.value:void 0)}),1===e.ratio.bars.length&&(e.ratio.independent=!0),t=e.metadata.questions.map(function(t){return t.answers.map(function(t){return{content:t.content,correct:t.correct,id:t.id}})}),e.answers=t,e},i.prototype.createDraggies=function(){var t,e,i,o;return o=this.getEl("bars").item(0).offsetWidth||this.serialize().width,i=this.options.data.ratio.independent?o/2:o/this.getEl("bars").length,this.draggies=function(){var s,r,a,l;for(a=this.getEl("bars"),l=[],s=0,r=a.length;s<r;s++)e=a[s],t=new n({el:e,minX:0,maxX:o,isParent:!0,barElement:e.querySelector(".ratio-bar"),valElement:e.querySelector(".ratio-value-amount")}),this.listenTo(t,"drag",this.onDrag),this.listenTo(t,"drop",this.onDrop),t.reset({x:i,y:0}),l.push(t);return l}.call(this),this.snapBars()},i.prototype.onDrag=function(t,e){if(this.currentDraggy=t,this.setState("touched"),this.renderDraggy(t,e),!this.options.data.ratio.independent)return this.updateDraggies(t,e)},i.prototype.onDrop=function(t,e){return e?this.renderDraggy(t,!0):this.snapBars()},i.prototype.getPercent=function(t){var e;return null==t&&(t=this.draggies[0]),e=Math.max(Math.min(t.x/t.offset.width||0,1),1e-4),"rtl"===this.options.config().direction&&(e=1-e),e},i.prototype.getLabel=function(t){var e,i,n;return i=this.options.data.ratio,e=i.prefix,n=i.suffix,""+e+this.getValue(t)+n},i.prototype.getValue=function(t){var e,i,n,o;return n=this.options.data.ratio,o=n.total,e=n.increment,i=this.getPercent(t),Math.round(o*i/e)*e},i.prototype.renderDraggy=function(t,e){return this.transform(t.options.barElement,{scale:this.getPercent(t)+", 1",transition:e?"all 300ms":""}),t.options.valElement.innerHTML=this.getLabel(t)},i.prototype.updateDraggies=function(t,e){var i,n,o,s,r,a,l,d,u,c,p;for(u=1-this.getPercent(t),a=_.filter(this.draggies,function(e){return e!==t}),n=_.reduce(a,function(t){return function(e,i){return e+t.getPercent(i)}}(this),0),c=[],o=s=0,r=a.length;s<r;o=++s)l=a[o],i=this.getPercent(l),d=i/n*u,"rtl"===this.options.config().direction&&(d=1-d),p=d*l.offset.width,l.reset({x:p},{silent:!0}),c.push(this.renderDraggy(l,e));return c},i.prototype.snapBars=function(){var t,e,i,n,o,s,r,a,l,d,u;for(a=0,l=this.options.data.ratio.total,s=this.draggies,r=[],e=i=0,n=s.length;i<n;e=++i)t=s[e],d=this.getValue(t),a+=d,e!==this.draggies.length-1||this.options.data.ratio.independent||(d-=a-l),o=d/l,"rtl"===this.options.config().direction&&(o=1-o),u=Math.floor(o*t.offset.width),r.push(t.reset({x:u}));return r},i.prototype.isCorrect=function(){return _.chain(this.options.data.ratio.bars).filter(function(t){return function(e,i){return e.value!==t.getValue(t.draggies[i])}}(this)).isEmpty().value()},i.prototype.showAnswer=function(){var t,e,i,n,o,s,r,a,l,d,u;for(a=this.options.data.ratio,t=a.bars,d=a.total,l=[],i=o=0,s=t.length;o<s;i=++o)u=t[i].value,e=this.draggies[i],n=this.getValue(e)===u,r=u/d,"rtl"===this.options.config().direction&&(r=1-r),e.el.parentNode.classList.toggle("correct",n),e.el.parentNode.classList.toggle("incorrect",!n),l.push(e.reset({x:e.offset.width*r}));return l},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a,l,d,u,c,p;if(l=(null!=(d=this.options.metadata)?d.questions:void 0)||[],!(l.length>0))return[];for(n=[],o=0,s=l.length;o<s;o++)r=l[o],c=_.find(this.$(".ratio"),function(t){return this.$(t).data("answer-id")===l.indexOf(r)}),u=_.find(this.draggies,function(t){return t.el===c}),p=this.getValue(u),i=_.find(r.answers,function(t){return t.correct}),e=i.content===p,t=_.find(r.answers,function(t){return t.correct===e}),a={question:r.question,answer:t},a.answer.content=p,n.push(a);return n},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=s}),require.register("engine/reorder/model.yaml",function(t,e,i){i.exports={title:"reorder",display:"Reorder",description:"Drag items in the correct order",category:"Relationships",features:{stars:!0,social:!0},model:{title:{"default":"Rank these items",types:["text","image","video","audio"]},list:{display:"List items",
type:[{type:"html"}],min:2,max:6},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Put the items in the correct order"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"cities",hidden:!0,title:"Rank these cities by population",titleType:"text",list:["Tokyo","New York","Sydney","Paris"],answer:{text:"Tokyo has almost nine million inhabitants in the city alone, and 13 million in the Greater Tokyo region. In fact, the number of residents in the Japanese capital is greater then the combined population of the next three largest cities Yokohama, Osaka and Nagoya.\n"}},{subtype:"brands",title:"Order these brands by market share",titleType:"text",list:["Nike","Adidas","Reebok"],answer:{text:"According to several sources, Nike has more than 30% market share.\n"}}]}}),require.register("engine/reorder/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m,v,g){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};h=h||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-fit content-fill block-v-lg"><div class="row content-lg-fill content-sm-ver content-md-ver"><div class="col-lg-6 col-sm-12 content-lg-ver block-v-md"><h1 class="text-lg-right text-md-center text-sm-center fade-in">'),n["multi-content"]("title"),i.push('</h1></div><div class="col-lg-6 col-sm-12 text-center content-lg-ver block-v-md"><div class="draggy-container fade-in block-md block-dk"><div class="draggies">'),function(){var t=m;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("data-index",p.indexOf(s),!0,!1)+jade.attr("data-content",s,!0,!1)+' class="draggy block-sm"><div'+jade.cls(["btn","btn-solid","btn-block",(c?"btn-long":"")+(p.length>4?" btn-sm":"")],[null,null,null,!0])+">"+(null==(e=s)?"":e)+"</div></div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("data-index",p.indexOf(s),!0,!1)+jade.attr("data-content",s,!0,!1)+' class="draggy block-sm"><div'+jade.cls(["btn","btn-solid","btn-block",(c?"btn-long":"")+(p.length>4?" btn-sm":"")],[null,null,null,!0])+">"+(null==(e=s)?"":e)+"</div></div>")}}}.call(this),i.push("</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",v?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof f&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=f)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"isLong"in o?o.isLong:"undefined"!=typeof isLong?isLong:void 0,"list"in o?o.list:"undefined"!=typeof list?list:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"shuffledList"in o?o.shuffledList:"undefined"!=typeof shuffledList?shuffledList:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/reorder/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("views/base/game"),s=e("lib/prefix"),n=e("views/components/draggy").DraggyView,r=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e;return t=i.__super__.serialize.apply(this,arguments),e=_.chain(t.list).sortBy("length").last().value(),t.isLong=(null!=e?e.length:void 0)>Math.min(t.width/16,30),t.shuffledList=_.shuffle(t.list||[]),t},i.prototype.show=function(){var t,e,o,s,r,a,l;if(i.__super__.show.apply(this,arguments),this.listenTo(this,"resize",this.onResize),this.draggies){for(l=this.draggies,r=0,a=l.length;r<a;r++)e=l[r],e.undelegateEvents();this.draggies=null}return t=this.findAll(".draggy"),this.setEl(this.findOne(".draggy-container"),"container"),this.draggies=function(){var i,r,a;for(a=[],s=i=0,r=t.length;i<r;s=++i)o=t[s],o.style.position="absolute",e=new n({el:o,lock:"x",minY:0}),this.listenTo(e,"drag",this.onDrag),this.listenTo(e,"drop",this.onDrop),a.push(e);return a}.call(this),this.onResize(),this.resetDraggies(this.draggies),this.enterGame()},i.prototype.hide=function(){return this.el.classList.remove("ready"),i.__super__.hide.apply(this,arguments)},i.prototype.onDrag=function(t,e){var i,n;return i=!1,n=this.getRanking(t),this.resetDraggies(this.draggiesInOrder(this.draggies),t),this.transform(t.el,{y:t.y,scale:1.05,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){var i,n,o,s,r,a;return s=t.offset,n=s.left,r=s.top,a=s.width,i=s.height,o=this.getRanking(t),e?this.transform(t.el,{y:t.y,transition:"all 300ms"}):(this.resetDraggies(this.draggiesInOrder(this.draggies)),this.setState("touched"))},i.prototype.draggiesInOrder=function(t){var e,i;if(t&&(e=null!=(i=t[0])?i.el.parentNode.offsetHeight:void 0))return _.clone(t).sort(function(t,i){return t.y+t.y/e*t.offset.height-(i.y+i.y/e*i.offset.height)})},i.prototype.getRanking=function(t){var e,i;return e=this.options.data.list.length,i=Math.floor(t.y/t.options.maxY*e),_.limit(i,0,e-1)},i.prototype.getDraggyFromIndex=function(t){var e;return function(){var i,n,o,s;for(o=this.draggies,s=[],i=0,n=o.length;i<n;i++)e=o[i],e.el.dataset.index===t&&s.push(e);return s}.call(this)[0]},i.prototype.getElements=function(t){var e,i,n,o,s;for(o=this.findAll(t),s=[],i=0,n=o.length;i<n;i++)e=o[i],s.push({el:e,bounds:e.getBoundingClientRect()});return s},i.prototype.resetDraggy=function(t){return t.reset(),t.el.classList.remove("is-positioned")},i.prototype.resetDraggies=function(t,e){var i,n,o,s,r,a,l;for(l=0,r=t||[],a=[],i=n=0,o=r.length;n<o;i=++n)s=r[i],s!==e&&s.reset({y:l}),a.push(l+=s.offset.height);return a},i.prototype.isCorrect=function(){return _.chain(this.draggiesInOrder(this.draggies)).filter(function(t,e){return+t.el.dataset.index===e}).each(function(t){return t.el.classList.add("correct")}).size().value()===this.options.data.list.length},i.prototype.showAnswer=function(){return this.resetDraggies(_.sortBy(this.draggies,function(t){return+t.el.dataset.index}))},i.prototype.onResize=function(){var t,e,i,n;if((null!=(n=this.draggies)?n.length:void 0)>0)return i=function(t,e){var i;return i=e.el,t+i.offsetHeight},e=_.reduce(this.draggies,i,0),t=parseInt(window.getComputedStyle(this.el).fontSize),this.getEl("container").firstChild.style.height=e/t+"em",this.fitText(function(t){return function(){var n,o,s,r,a;for(e=_.reduce(t.draggies,i,0),t.getEl("container").firstChild.style.height=e+"px",a=t.draggies,o=s=0,r=a.length;s<r;o=++s)n=a[o],n.options.maxY=e-n.el.offsetHeight,n.getOffset();return t.resetDraggies(t.draggiesInOrder(t.draggies)),t.el.classList.add("ready")}}(this))},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r;return s=(null!=(r=this.options.metadata)?r.questions:void 0)||[],s.length>0?(o=s[0],n=this.isCorrect(),t=_.find(o.answers,function(t){return t.correct===n}),e=_.map(this.draggiesInOrder(this.draggies),function(t){return t.$el.data("content")}),t.content=e.join(", "),i={question:s[0].question,answer:t},[i]):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=r}),require.register("engine/reveal/model.yaml",function(t,e,i){i.exports={title:"reveal",display:"Reveal",description:"Show a list of concepts",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":"Explore our range"},content:{min:1,max:4,type:[{title:{type:"html"},description:{type:"html"}}]},focus:{type:"boolean","default":!1,help:"Only reveal one piece of content at a time.\n"},prompt:{type:"html","default":"Select each item to find out more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"reveal",title:"Learn more about our product range",focus:!0,content:[{title:"Product X",description:"Our brilliant new sleek design allows the user to have unparalleled comfort when using the device.\n"},{title:"Product Y",description:"Crystal clear display performs better than any of our competitors.\n"},{title:"Product Z",description:"The newest feature offers a new level of feedback for the user.\n"}]}]}}),require.register("engine/reveal/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f){i.push('<div class="content-fit content-md-fill content-sm-ver"><div class="content-md-ver text-center"><h1 class="fade-in delay-3">'+(null==(e=p)?"":e)+'</h1><div class="content-pieces row text-center">'),function(){var o=n;if("number"==typeof o.length)for(var s=0,r=o.length;s<r;s++){var a=o[s],l=t.floor(12/n.length);if(1===n.length)var u="col-md-8";else var u="col-md-"+2*l+" col-lg-"+l;u+=" delay-"+(s+3),i.push("<div"+jade.cls(["content-piece","slide-up","col-sm-12","block-v-sm",u],[null,null,null,null,!0])+"><div"+jade.attr("data-index",s,!0,!1)+' class="btn-reveal"><div'+jade.cls(["btn-reveal-title","btn","btn-solid",d?"ie":"flippable"],[null,null,null,!0])+'><h2 class="tight content-ver break-word">'+(null==(e=f.hyphenate(a.title))?"":e)+"</h2></div><div"+jade.cls(["btn-reveal-desc","block-v-md","block-h-lg","btn","btn-solid",d?"ie":"flippable"],[null,null,null,null,null,!0])+">"+(null==(e=f.hyphenate(a.description)||"&nbsp;")?"":e)+"</div></div></div>")}else{var r=0;for(var s in o){r++;var a=o[s],l=t.floor(12/n.length);if(1===n.length)var u="col-md-8";else var u="col-md-"+2*l+" col-lg-"+l;u+=" delay-"+(s+3),i.push("<div"+jade.cls(["content-piece","slide-up","col-sm-12","block-v-sm",u],[null,null,null,null,!0])+"><div"+jade.attr("data-index",s,!0,!1)+' class="btn-reveal"><div'+jade.cls(["btn-reveal-title","btn","btn-solid",d?"ie":"flippable"],[null,null,null,!0])+'><h2 class="tight content-ver break-word">'+(null==(e=f.hyphenate(a.title))?"":e)+"</h2></div><div"+jade.cls(["btn-reveal-desc","block-v-md","block-h-lg","btn","btn-solid",d?"ie":"flippable"],[null,null,null,null,null,!0])+">"+(null==(e=f.hyphenate(a.description)||"&nbsp;")?"":e)+"</div></div></div>")}}}.call(this),i.push("</div></div></div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isInternetExplorer"in n?n.isInternetExplorer:"undefined"!=typeof isInternetExplorer?isInternetExplorer:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0,"written"in n?n.written:"undefined"!=typeof written?written:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/reveal/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/slide"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-reveal":"toggleContent","iostap .btn-done":"submit"},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.hasPrompt=!0,t.isInternetExplorer=navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>-1,t},i.prototype.show=function(t){return null==t&&(t=300),this.listenTo(this,"resize",function(){return this.resetButtons}),this.setEl(this.findAll(".btn-reveal"),"buttons"),this.selectedIndexes=[]},i.prototype.refresh=function(t){var e,n,o,s,r,a,l;for(a=t.data.content,o=s=0,r=a.length;s<r;o=++s)n=a[o].description,(null!=(l=this.options.data.content[o])?l.description:void 0)!==n&&(e=o);return i.__super__.refresh.apply(this,arguments),this.selectedIndexes=[],this.resetButtons(e)},i.prototype.resetButtons=function(t){var e,i,n,o,s,r;for(this.setEl(this.findAll(".btn-reveal"),"buttons"),null!=t&&(e=this.getEl("buttons").item(t),this.transition(e,"none",!0),e.classList.add("active")),s=this.getEl("buttons"),r=[],i=n=0,o=s.length;n<o;i=++n)e=s[i],e.style.height="",e.offsetHeight,r.push(this.transition(e,""));return r},i.prototype.resizeButtons=function(){var t,e,i,n,o,s;for(e=_.reduce(this.getEl("buttons"),function(t,e){return Math.max(e.offsetHeight,e.firstChild.firstChild.offsetHeight,t)},0),o=this.getEl("buttons"),s=[],i=0,n=o.length;i<n;i++)t=o[i],s.push(t.style.height=e+"px");return s},i.prototype.toggleContent=function(t){var e,i,n,o,s,r;if(e=t.currentTarget,i=e.dataset.index,this.selectedIndexes=_.uniq(this.selectedIndexes.concat(i)),this.selectedIndexes.length===this.serialize().content.length&&this.setState("touched"),this.options.data.focus)for(r=this.getEl("buttons"),n=0,o=r.length;n<o;n++)s=r[n],s!==e&&s.classList.remove("active");return e.classList.toggle("active")},i}(o),i.exports=n}),require.register("engine/scorm/model.yaml",function(t,e,i){i.exports={title:"scorm",display:"SCORM",category:"Advanced",description:"Play a SCORM Package",hideFrom:["freemium","sponsor"],features:{stars:!0,online:!0},model:{"package":{type:"scorm","default":"scorm/scorm.zip",display:"SCORM File",help:"Upload your SCORM package. (only SCORM 1.2 supported)"},isRequiredForLessonCompletion:{type:"boolean",display:"Required Content","default":!0,help:"The learner must complete the SCORM content before the lesson is marked as complete.\n"},background:{type:"string","default":"",display:"Background Color",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used for the background of the entire screen in lightbox mode.\n'},button:{text:{type:"text","default":"Continue",display:"Done text"},position:{type:"select","enum":["Below","Overlay Bottom","Overlay Top","None"],"default":"Below",help:"Choose the best position based on your content. If you choose not to display the button, your SCORM content must allow the learner to exit, or they will not be able to continue.\n"}}}}}),require.register("engine/scorm/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o){i.push('<div class="full-screen content-fill hide-overflow"><iframe type="text/html" frameborder="0"'+jade.attr("sandbox",t,!0,!1)+' class="scorm-object"></iframe><div class="exit-btn btn">'+jade.escape(null==(e=n&&n.text||o("buttons.done"))?"":e)+"</div></div>")}.call(this,"allowedSandboxedFeatures"in n?n.allowedSandboxedFeatures:"undefined"!=typeof allowedSandboxedFeatures?allowedSandboxedFeatures:void 0,"button"in n?n.button:"undefined"!=typeof button?button:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/scorm/view.coffee",function(exports,require,module){var Device,Flags,Lesson,SCORMView,ScormAttempt,Session,SlideView,ref,extend=function(t,e){function i(){this.constructor=t}for(var n in e)hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;SlideView=require("views/slide"),ScormAttempt=require("models/scormAttempt"),Device=require("lib/device"),Flags=require("constants/feature-flags"),ref=Application.actions(),Session=ref.Session,Lesson=ref.Lesson,SCORMView=function(superClass){function SCORMView(){return SCORMView.__super__.constructor.apply(this,arguments)}return extend(SCORMView,superClass),SCORMView.prototype.template=require("./template"),SCORMView.prototype.events=function(){return{"iostap .exit-btn":"stopSCORM"}},SCORMView.prototype.initialize=function(){return SCORMView.__super__.initialize.apply(this,arguments),Session.get(function(t){return function(e,i){var n,o,s,r,a,l;return o=i.firstName,r=i.lastName,n=i.email,a=i.name,s=i.id,l=((o||"")+" "+(r||"")).trim()||a||n||"",t.scormAttempt=new ScormAttempt("lessonId",(!1),l,s,t.options.previousAttempt)}}(this)),this.isLastSlide=this.options.isLastSlide},SCORMView.prototype.processIframeMessage=function(event){var ref1;if(null!=event&&null!=(ref1=event.data)&&"function"==typeof ref1.match?ref1.match("window.SCORMED"):void 0)return eval(event.data)},SCORMView.prototype.beforeShow=function(){var t,e,i,n;return Flags["thomas-scorm-link-fix"]&&(n=this.findOne("iframe.scorm-object"),n.onload=function(t){return function(){return t.checkForLinksPollTimer=window.setInterval(function(){var t,e,i,o,s;if(n.contentDocument){for(o=n.contentDocument.querySelectorAll("a[href]:not([data-modified])"),s=[],t=0,e=o.length;t<e;t++)i=o[t],i.dataset.modified=!0,s.push(i.onclick=function(t){return Application.publish("event:url-open")({url:t.target.href})});return s}},500)}}(this)),t=(null!=(e=this.options.data.button)&&null!=(i=e.position)?i.toLowerCase():void 0)||"none",this.setState(written.hyphenCase(t),"exit-btn"),this.trigger("ui",{lightbox:this.options.data.background||!0,fullscreen:!0}),this.onResize()},SCORMView.prototype.beforeHide=function(){return this.trigger("ui",{lightbox:!1,fullscreen:!1})},SCORMView.prototype.show=function(){var t,e,i;return this.stopped=!1,t=(null!=(e=this.options.data.button)&&null!=(i=e.position)?i.toLowerCase():void 0)||"none",this.setState(written.hyphenCase(t),"exit-btn"),this.listenTo(this,"resize",this.onResize),this.options.notInteractable||this.initSCORM(),window.addEventListener("message",this.processIframeMessage,!1)},SCORMView.prototype.onRefresh=function(){return this.beforeShow(),SCORMView.__super__.onRefresh.apply(this,arguments)},SCORMView.prototype.onResize=function(){var t,e;if("below"===this.currentState["exit-btn"])return t=this.findOne(".exit-btn"),e=this.findOne(".scorm-object"),e.style.bottom=t.offsetHeight+"px",e.style.height=e.parentNode.offsetHeight-t.offsetHeight+"px"},SCORMView.prototype.stopSCORM=function(){var t,e,i,n,o,s,r;if(!this.stopped)return this.stopped=!0,null!=(i=window.API)&&i.LMSFinish(),window.removeEventListener("message",this.processIframeMessage,!1),Flags["thomas-scorm-link-fix"]&&window.clearInterval(this.checkForLinksPollTimer),t=this.scormAttempt.attemptData(),e=null!=t&&null!=(n=t["cmi.core.score.raw"])?n.value:void 0,r=null!=t&&null!=(o=t["cmi.core.score.max"])?o.value:void 0,s=e&&r?1*parseInt(e)/parseInt(r):(null!=t?t.success:void 0)?1:0,Session.get(function(e){return function(i,n){var o,r,a;if(o=n.attempt,r={id:e.options.id,name:e.options.name,type:e.options.type,slideData:e.options.data,scormData:t,attempt:o,correct:null!=t?t.success:void 0,answerDetails:[],metadata:e.options.metadata,isScormAttempt:!0,score:s,isCompleted:null!=t?t.success:void 0,isRequiredForLessonCompletion:e.options.data.isRequiredForLessonCompletion,configuration:null!=(a=e.options.data)?a.challenge_configuration:void 0},e.lesson.processInteraction(r),!window.ED_LMS_PREVIEW&&!window.ED_PUBLIC_PREVIEW)return e.isLastSlide?(Lesson.complete(),e.exit()):e.next()}}(this))},SCORMView.prototype.serialize=function(){var t,e;return t=SCORMView.__super__.serialize.apply(this,arguments),e=["allow-scripts","allow-same-origin","allow-modals","allow-popups","allow-popups-to-escape-sandbox","allow-forms","allow-downloads"],t.allowedSandboxedFeatures=e.join(" "),t},SCORMView.prototype.initSCORMResource=function(){var t,e;if(t=this.serialize(),e=t["package"],e&&"scorm/scorm.zip"!==e)return this.findOne(".scorm-object").src=e,window.SCORMED={LMSFinish:function(t){return function(e){return t.scormAttempt.processScormPlayerData(e),t.stopSCORM()}}(this)}},SCORMView.prototype.initSCORM=function(){var t,e,i;return i=this.scormAttempt.initialData(),t={success:function(t){return function(e){if(e)return t.initSCORMResource()}}(this)},e=new ScormAPI("lesson","LID",i,t),window.API=e,window.API_1484_11=e},SCORMView}(SlideView),module.exports=SCORMView}),require.register("engine/scratch-to-reveal/model.yaml",function(t,e,i){i.exports={title:"scratch-to-reveal",display:"Scratch to reveal",description:"Reveal text or another image",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html"},before:{content:{type:"image"},label:{type:"text"}},after:{content:{types:["text","image"]},label:{type:"text"}},canvasBackground:{display:"Background Color",type:"string",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used to fill in the transparent area of the front image\n'},prompt:{type:"html","default":"Scratch to reveal the content"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"scratch-to-reveal",title:"Product X vs. Product Y",before:{content:"img/examples/product-phone.png",contentType:"image",label:"**Product X**\n\nBrilliant. In every way.\n"},after:{content:"img/examples/product-laptop.png",contentType:"image",label:"**Product Y**\n\nMore power. More performance.\n"}}]}}),require.register("engine/scratch-to-reveal/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,o,s){this&&this.block,this&&this.attributes||{};p=p||!0,n=n||!0,o=o||"video vjs-fluid";var a=r.CLOUDINARY_CDN_URL+r.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",r.direction,!0,!1)+jade.attr("poster",s,!0,!1)+jade.cls(["video-js",o],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(o,s){this&&this.block,this&&this.attributes||{};switch(s=s||t,s[o+"Type"]){case"image":i.push("<div"+jade.attr("data-content",s.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(s[o],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](s[o],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",s[o],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",r.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=s[o].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=s[o])?"":e)+"</span>")}},i.push('<div class="content-fill"><div class="content-ver text-center block-v-lg"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="block-v-md slide-title"><h1 class="slide-down">'+(null==(e=m)?"":e)+'</h1></div><div class="block-v-lg fade-in delay-3"><div class="slider"><div class="slider-items"><div class="slider-item content-fill slider-item-0"><div class="slider-content content-fill">'),n["multi-content"]("content",s),i.push('</div></div><div class="slider-item content-fill slider-item-1"><div'+jade.cls(["slider-content","content-fill","text"===o.contentType?"multi-content-wrapper block-lt":""],[null,null,!0])+">"),n["multi-content"]("content",o),i.push('</div></div></div><div class="btn-replay btn btn-muted"><span class="icon icon-replay"></span></div></div></div><div class="slider-labels text-md slide-up"><div class="slider-label slider-label-before">'+(null==(e=s.label)?"":e)+'</div><div class="slider-label slider-label-after">'+(null==(e=o.label)?"":e)+"</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),u?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=l||c("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=a||l||c("buttons.continue"))?"":e)+"</div></div>"),d&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"after"in o?o.after:"undefined"!=typeof after?after:void 0,"before"in o?o.before:"undefined"!=typeof before?before:void 0,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/scratch-to-reveal/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=e("views/slide"),n=e("views/components/draggy").DraggyView,a=e("lib/draw/smooth-line"),o=e("lib/preload"),
l=e("lib/device").dpi,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"submit","iostap .btn-replay":"restart"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.before.contentType="image",t},i.prototype.beforeShow=function(){var t;return t=this.findAll("img"),this.setEl(this.findOne(".slider"),"slider"),this.setEl(this.findOne(".slider-knob"),"knob"),this.setEl(this.findAll(".slider-item"),"items"),this.draggy=null,delete this.draggy,t.length>0?o.load(_.pluck(t,"src"),function(t){return function(){return t.sizeContent()}}(this)):this.sizeContent()},i.prototype.restart=function(){return this.points=[],this.setState("prompt"),this.sizeContent()},i.prototype.show=function(){return this.createDraggy(),this.points=[]},i.prototype.createDraggy=function(){var t;return t=this.getEl("slider").offsetWidth,this.draggy=new n({el:this.findOne(".slider-item-0 .multi-content-media"),minX:0,maxX:t,isParent:!0}),this.listenTo(this,"resize",this.onResize),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop)},i.prototype.onResize=function(){var t,e,i,n,o,s,r;for(this.sizeContent(),o=this.points,s=[],e=0,i=o.length;e<i;e++)r=o[e],s.push(function(){var e,i,o;for(o=[],t=e=0,i=r.length;e<i;t=++e)n=r[t],o.push(this.draw(r.slice(t,t+2)));return o}.call(this));return s},i.prototype.onDrag=function(t,e){return e&&this.points.push([]),_.last(this.points).push({x:t.x*l,y:t.y*l}),this.draw(_.last(this.points).slice(-2))},i.prototype.onDrop=function(){var t,e;if(e=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height).data,t=_.filter(e,function(t,e){return e%4===3}),_.average(t)/255<.2)return this.setState("touched")},i.prototype.draw=function(t){var e,i,n,o,s,r,a,d,u,c,p,h;for(a=t[0],d=t[1],u=30*l,null==d&&(d=a),n=d.x-a.x,o=d.y-a.y,i=Math.max(Math.abs(n),Math.abs(o),1),this.context.fillStyle="#000",this.context.beginPath(),s=r=0,c=i;0<=c?r<=c:r>=c;s=0<=c?++r:--r)e=s/i,p=a.x+n*e,h=a.y+o*e,this.context.arc(p,h,u,0,2*Math.PI);if(this.context.fill(),_.chain(this.points).pluck("length").sum().value()>120)return this.setState("touched")},i.prototype.sizeContent=function(){var t,e,i,n,o,s,r,a,d,u,c,p,h,f,m;if(this.setState(!1,"sized"),s=this.findAll(".multi-content-wrapper"),c=this.findOne(".slider-labels"),u=this.findOne(".slider-item-0 img"),n=this.findOne("canvas"),f=this.findOne(".slide-title"),m=this.getEl("slider").parentNode,o=this.el.offsetHeight,h=_.reduce(s,function(t,e){return{h:Math.max(t.h,e.offsetHeight),w:Math.max(t.w,e.offsetWidth)}},{h:80,w:0}),n||(n=document.createElement("canvas"),n.style.position="absolute",n.style.top="0",n.style.left="0",u.insertAdjacentElement("afterEnd",n)),p=parseFloat(window.getComputedStyle(u.parentNode).paddingLeft),i=u.parentNode.offsetWidth,e=Math.max(u.parentNode.offsetHeight,h.h-2*p),d=u.offsetWidth,a=u.offsetHeight,n.style.width=i+"px",n.style.height=e+"px",n.width=i*l,n.height=e*l,this.context=n.getContext("2d"),this.context.fillStyle=this.options.data.canvasBackground||"white",this.context.rect(0,0,n.width,n.height),this.context.fill(),this.context.drawImage(u,(i-d)/2*l,(e-a)/2*l,d*l,a*l),this.context.globalCompositeOperation="destination-out",this.getEl("slider").style.height="",this.getEl("slider").style.width="",this.getEl("slider").style.height=h.h+"px",this.getEl("slider").style.width=h.w+"px",t=o-m.offsetHeight-f.offsetHeight-8,r=_.reduce(c.children,function(e,i){return Math.min(Math.max(e,i.offsetHeight),t)},0),c.style.height=r+"px",this.setState(!0,"sized"),null!=this.draggy)return this.draggy.options.maxX=h.w,this.draggy.getOffset()},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.refresh=function(t){var e;if(e=!_.isEqual(t.data.after,this.options.data.after),i.__super__.refresh.apply(this,arguments),e)return this.setState("touched")},i}(r),i.exports=s}),require.register("engine/scrollable/model.yaml",function(t,e,i){i.exports={title:"scrollable",display:"Scrolling text",description:"Show long-form text",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":""},content:{type:"html","default":""},prompt:{type:"html","default":"Scroll to see more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"scrolling-content",title:"Scrolling Content",content:"\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\nquis lectus metus, at posuere neque. Sed pharetra nibh eget orci\nconvallis at posuere leo convallis. Sed blandit augue vitae augue\nscelerisque bibendum. Vivamus sit amet libero turpis, non venenatis\nurna. In blandit, odio convallis suscipit venenatis, ante ipsum cursus\naugue.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\nquis lectus metus, at posuere neque. Sed pharetra nibh eget orci\nconvallis at posuere leo convallis. Sed blandit augue vitae augue\nscelerisque bibendum. Vivamus sit amet libero turpis, non venenatis\nurna. In blandit, odio convallis suscipit venenatis, ante ipsum cursus\naugue.\n\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus\nquis lectus metus, at posuere neque. Sed pharetra nibh eget orci\nconvallis at posuere leo convallis. Sed blandit augue vitae augue\nscelerisque bibendum. Vivamus sit amet libero turpis, non venenatis\nurna. In blandit, odio convallis suscipit venenatis, ante ipsum cursus\naugue.\n"}]}}),require.register("engine/scrollable/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u){i.push('<div class="content-md content-fill"><div class="content-scroll content-sm-scroll content-md-scroll block-v-lg fade-in"><div class="content-scroll-inner hide-overflow"><div class="row"><div class="col-sm-12 col-lg-10 col-lg-offset-1"><h1 class="text-center slide-down">'+(null==(e=u)?"":e)+'</h1><div class="text-md">'+(null==(e=t)?"":e)+"</div></div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",d?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),r?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||a("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof l&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=l)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||a("buttons.continue"))?"":e)+"</div></div>"),s&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/scrollable/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/slide"),s=e("lib/device"),n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.ignoreStateOnRefresh=!0,i.prototype.buffer=40,i.prototype.events=function(){return{"iostap .btn-done":"submit"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.hasPrompt=!0,t},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){return this.setHeight(),this.listenTo(this,"resize",this.onResize)},i.prototype.onScroll=function(t){if(i.__super__.onScroll.apply(this,arguments),t.currentTarget.scrollTop>=this.scrollLimit)return this.setState("touched")},i.prototype.onResize=function(){return this.setHeight()},i.prototype.setHeight=function(t,e){var i,n,o,r,a,l;if(i=this.findOne(".content-scroll"),null!=e&&(i.scrollTop=e),r=this.el.offsetHeight,o=i.firstChild.offsetHeight,this.scrollLimit=o-r-this.buffer,n=!t&&(null!=(a=this.options.data.narration)?a.audio_file:void 0)&&(null!=(l=this.options.data.narration)?l.can_not_be_skipped:void 0),o-this.buffer<=r?(n||this.setState("touched"),this.transform(i.firstChild,{y:(r-(o-this.buffer))/2})):(this.transform(i.firstChild,{y:0,transition:"all 300ms"}),n||this.setState("prompt")),i.scrollTop>=this.scrollLimit&&(n||this.setState("prompt"),n||this.setState("touched")),i.offsetHeight<i.scrollHeight&&"iOS"===s.platform)return i.style.paddingBottom="2px",i.scrollTop=1,window.setTimeout(function(){return i.offsetTop,i.scrollTop=0,i.style.paddingBottom=""},10)},i.prototype.refresh=function(){var t,e;return e=this.findOne(".content-scroll"),t=e.scrollTop,i.__super__.refresh.apply(this,arguments),this.setHeight(!1,t)},i.prototype.onNarrationPause=function(){return this.setHeight()},i.prototype.onNarrationComplete=function(){return this.setHeight(!0)},i}(o),i.exports=n}),require.register("engine/scrolling-media/model.yaml",function(t,e,i){i.exports={title:"scrolling-media",display:"Scrolling mix",description:"Show a mix of text and media",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html"},content:{min:1,max:10,type:[{content:{types:["text","image","video","audio"]}}]},preventFocus:{type:"boolean","default":!1,display:"Prevent Image Zoom",help:"Disable the ability to explore images by tapping on them to view the image in more detail.\n"},prompt:{type:"html","default":"Scroll to see more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"scrolling-media",title:"About Product Z",content:[{contentType:"text",content:"Product Z is our third product in the Product line. Write, draw, sign or sketch whenever inspiration strikes. It's small in size but big on capability. Don't believe us? See below:\n"},{contentType:"image",content:"img/examples/product-tablet.png"},{contentType:"text",content:"Review the following interactive slides to learn more about Product Z.\n"}]}]}}),require.register("engine/scrolling-media/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(o,s,r,a,l,d,u,c,p,h,f,m){n["video-stream"]=e=function(t,e,n,s,r){this&&this.block,this&&this.attributes||{};c=c||!0,n=n||!0,s=s||"video vjs-fluid";var a=o.CLOUDINARY_CDN_URL+o.CLOUDINARY_VIDEO_FOLDER,l="";t&&t.indexOf(a)>-1&&(l=t.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",e,!0,!1)+jade.attr("controls",n,!0,!1)+' preload="auto"'+jade.attr("dir",o.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",t,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n["multi-content"]=e=function(s,r){this&&this.block,this&&this.attributes||{};switch(r=r||t,r[s+"Type"]){case"image":i.push("<div"+jade.attr("data-content",r.image,!0,!1)+' class="multi-content-wrapper multi-content-wrapper-image block-md block-lt"><div class="block-sm multi-content-media">'),n.image(r[s],"multi-content multi-content-image"),i.push("</div></div>");break;case"video":i.push('<div class="multi-content-wrapper multi-content-wrapper-video block-md block-lt"><div class="block-sm multi-content-media">'),n["video-stream"](r[s],!0,!0,"multi-content multi-content-video block-dk"),i.push("</div></div>");break;case"audio":i.push('<div class="multi-content-wrapper multi-content-wrapper-audio block-md block-lt"><div class="block-sm multi-content-media"><audio'+jade.attr("src",r[s],!0,!1)+' playsinline="playsinline" preload="auto" controls="controls"'+jade.attr("dir",o.direction,!0,!1)+' class="multi-content multi-content-audio block-dk"></audio></div></div>');break;case"iframe":i.push('<div class="multi-content-wrapper multi-content-wrapper-iframe block-md block-lt"><div class="block-sm multi-content-iframe">');var a=r[s].match(/<iframe[^<]*<\/iframe>/);a&&i.push(null==(e=a[0].replace(/ (width|height)=["'\d\w]+/g,""))?"":e),i.push("</div></div>");break;default:i.push('<span class="multi-content multi-content-text">'+(null==(e=r[s])?"":e)+"</span>")}},i.push('<div class="content-scroll fade-in"><div class="content-scroll-inner hide-overflow block-v-lg block-box-sizing"><div class="row"><div class="col-sm-12 col-lg-8 col-lg-offset-2"><h1 class="text-center slide-down">'+(null==(e=f)?"":e)+'</h1><div class="slide-content">'),function(){var t=s;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var r=t[e];i.push("<div"+jade.cls(["block-v-md","fade-in","delay-"+(e+1)],[null,null,!0])+">"),n["multi-content"]("content",r),i.push("</div>")}else{var o=0;for(var e in t){o++;var r=t[e];i.push("<div"+jade.cls(["block-v-md","fade-in","delay-"+(e+1)],[null,null,!0])+">"),n["multi-content"]("content",r),i.push("</div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",h?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=a||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof p&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=p)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=r||a||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"content"in o?o.content:"undefined"!=typeof content?content:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/scrolling-media/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=e("../scrollable/view"),n=e("lib/preload"),r=e("lib/device").dpi,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.ignoreStateOnRefresh=!0,i.prototype.events=function(){return _.extend(i.__super__.events.apply(this,arguments),{"iostap .multi-content-wrapper-image":"showZoom"})},i.prototype.setHeight=function(t,e){var o,s;return s=this.findOne(".content-scroll"),o=_.pluck(this.findAll("img"),"src"),n.load(o,function(n){return function(o){return i.__super__.setHeight.call(n,t,e)}}(this))},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.setState(!this.options.data.preventFocus,"image-focus")},i.prototype.onRefresh=function(){var t;return null!=(t=this.photoswipe)&&t.close(),this.show()},i.prototype.hide=function(){var t;return i.__super__.hide.apply(this,arguments),null!=(t=this.photoswipe)?t.close():void 0},i.prototype.showZoom=function(t,e){var i,n,o,s,a,l,d,u,c,p,h;if(null==e&&(e=300),!this.options.data.preventFocus)return this.setState("touched"),this.setState(!0,"focus"),u=t.currentTarget.querySelector("img"),l=this.options.data.compose?12:0,d=u.getBoundingClientRect(),p=d.top,a=d.left,h=d.width,c={x:a+l,y:p+l,w:h-2*l},n=function(){var t,e,n,a;for(n=this.findAll(".multi-content-image"),a=[],i=t=0,e=n.length;t<e;i=++t)o=n[i],o===u&&(s=i),a.push({img:o,msrc:o.src,src:o.src,w:(o.naturalWidth||o.width)/Math.min(r,1.66),h:(o.naturalHeight||o.height)/Math.min(r,1.66)});return a}.call(this),this.photoswipe=new PhotoSwipe(document.querySelector("#photoswipe"),PhotoSwipeUI_Default,n,{index:s,showAnimationDuration:e,focus:!1,history:!1,barsSize:{top:0,bottom:0},indexIndicatorSep:" of ",getThumbBoundsFn:function(){return c}}),this.photoswipe.listen("close",function(t){return function(){return t.setState(!1,"focus")}}(this)),this.photoswipe.init()},i}(o),i.exports=s}),require.register("engine/slider-survey/model.yaml",function(t,e,i){i.exports={title:"slider-survey",display:"Slider",category:"Survey",description:"Ask for numerical feedback",model:{question:{id:{type:"uuid",hidden:!0},content:{type:"html","default":"Ask a question"}},slider:{min:{type:"number","default":0,display:"Min. Value"},max:{type:"number","default":10,display:"Max. Value"},prefix:{type:"html","default":""},suffix:{type:"html","default":""},increment:{type:"number","default":1,min:0},labels:{type:"int",min:2,max:10,"default":3},minLabel:{type:"text","default":"",display:"Minimum Label"},maxLabel:{type:"text","default":"",display:"Maximum Label"},decimals:{type:"int",min:0,max:8,"default":0}},prompt:{type:"html","default":"Drag to select a response"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"slider",question:{content:"I feel more confident in my understanding of _______ after completing this lesson.",id:"#GENUUID#"},slider:{min:0,max:5,suffix:"",labels:5,minLabel:"Strongly Disagree",maxLabel:"Strongly Agree"}}]}}),require.register("engine/slider-survey/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m,v){if(i.push('<div class="content-fill"><div class="content-fit content-md-fill content-sm-ver"><div class="content-md-ver text-center block-v-lg"><h1>'+(null==(e=h.content)?"":e)+'</h1><div class="slider scale-up"><div class="slider-bar"></div><div class="slider-knob slider-knob-input"><div class="slider-knob-value text-md text-nowrap">'+jade.escape(null==(e=l("slider.touch-to-slide"))?"":e)+'</div></div><div class="slider-knob slider-knob-answer"><div class="slider-knob-value text-md text-nowrap">'+(null==(e=f.prefix)?"":e)+(null==(e="")?"":e)+(null==(e=f.suffix)?"":e)+'</div></div><div class="slider-notches">'),function(){var e=new t(c+1);if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push("<div"+jade.attr("style","left: "+n/c*100+"%;",!0,!1)+' class="slider-notch"></div>')}else{var o=0;for(var n in e){o++;e[n];i.push("<div"+jade.attr("style","left: "+n/c*100+"%;",!0,!1)+' class="slider-notch"></div>')}}}.call(this),i.push("</div>"),f.labels){i.push('<div class="slider-labels">');var g="rtl"===n.direction?"right":"left";(function(){var t=d;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("style",""+g+": "+n/(u-1)*100+"%;",!0,!1)+' class="slider-label">'+(null==(e=f.prefix)?"":e)+(null==(e=f.decimals?s.toFixed(f.decimals):s)?"":e)+(null==(e=f.suffix)?"":e)+"</div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("style",""+g+": "+n/(u-1)*100+"%;",!0,!1)+' class="slider-label">'+(null==(e=f.prefix)?"":e)+(null==(e=f.decimals?s.toFixed(f.decimals):s)?"":e)+(null==(e=f.suffix)?"":e)+"</div>")}}}).call(this),i.push("</div>")}i.push('<div class="slider-label-text">'),f.minLabel&&i.push('<div class="slider-label-min pull-left">'+(null==(e=f.minLabel)?"":e)+"</div>"),f.maxLabel&&i.push('<div class="slider-label-max pull-right">'+(null==(e=f.maxLabel)?"":e)+"</div>"),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",m?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof p&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=p)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"labelValues"in n?n.labelValues:"undefined"!=typeof labelValues?labelValues:void 0,"labels"in n?n.labels:"undefined"!=typeof labels?labels:void 0,"notches"in n?n.notches:"undefined"!=typeof notches?notches:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"question"in n?n.question:"undefined"!=typeof question?question:void 0,"slider"in n?n.slider:"undefined"!=typeof slider?slider:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/slider-survey/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e("views/input"),s=e("engine/slider/view"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"nextSlide"}},i.prototype.show=function(){return this.setEl(this.findOne(".slider-label-min"),"min-label"),this.setEl(this.findOne(".slider-label-max"),"max-label"),i.__super__.show.apply(this,arguments)},i.prototype.userInput=function(){return{question:{id:this.options.data.question.id,content:this.options.data.question.content},answer:{value:parseFloat(this.currentValue)}}},i.prototype.nextSlide=function(){return n.prototype.nextSlide.call(this)},i.prototype.onDrag=function(t){return i.__super__.onDrag.apply(this,arguments),this.styleLabels(t)},i.prototype.onDrop=function(t){return i.__super__.onDrop.apply(this,arguments),this.styleLabels(t)},i.prototype.styleLabels=function(t){var e,i,n,o;return i=t.x/t.offset.width,e=.1,i=i*(1-e)+e,"rtl"===this.options.config().direction&&(i=1-i),null!=(n=this.getEl("min-label"))&&(n.style.opacity=1+e-i),null!=(o=this.getEl("max-label"))?o.style.opacity=i:void 0},i}(s),i.exports=o}),require.register("engine/slider/model.yaml",function(t,e,i){i.exports={title:"slider",display:"Slider",description:"Select a single value",category:"Numbers",features:{stars:!0,social:!0},model:{title:{type:"html","default":"Ask a question"},slider:{min:{type:"number","default":0,display:"Min. Value"},max:{type:"number","default":10,display:"Max. Value"},prefix:{type:"html","default":""},suffix:{type:"html","default":""},increment:{type:"number","default":1},labels:{type:"int",min:2,max:10,"default":3},decimals:{type:"int",min:0,max:8,"default":0}},answer:{text:{type:"html","default":"",display:"Answer Text"},value:{type:"number",display:"Correct Value"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Slide to the correct value"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"percent",hidden:!0,title:"What percent of customers responded in the survey?",slider:{min:85,max:100,suffix:"%",labels:4},answer:{text:"A huge amount of responses were contributed to the survey.",value:98}},{subtype:"money",hidden:!0,title:"What is the new price of the product?",slider:{min:6.5,increment:.25,max:11.5,prefix:"$",labels:8,decimals:2},answer:{value:7.75,text:"At $7.75, the product is now a lot cheaper!\n"}},{subtype:"year",title:"In which year was the product introduced?",slider:{min:1984,max:1990,prefix:"",labels:3},answer:{text:"The product is a true original from 1984!",value:1984}}]}}),require.register("engine/slider/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y){if(a&&a.timer&&a.timer.limit>0&&!a.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="content-fill"><div class="content-fit content-md-fill content-sm-ver"><div class="content-md-ver text-center block-v-lg"><h1>'+(null==(e=g)?"":e)+'</h1><div class="slider scale-up"><div class="slider-bar"></div><div class="slider-knob slider-knob-input"><div class="slider-knob-value text-md text-nowrap">'+jade.escape(null==(e=u("slider.touch-to-slide"))?"":e)+'</div></div><div class="slider-knob slider-knob-answer"><div class="slider-knob-value text-md text-nowrap">'+(null==(e=m.prefix)?"":e)+(null==(e=n.value)?"":e)+(null==(e=m.suffix)?"":e)+'</div></div><div class="slider-notches">'),function(){var e=new t(h+1);if("number"==typeof e.length)for(var n=0,o=e.length;n<o;n++){e[n];i.push("<div"+jade.attr("style","left: "+n/h*100+"%;",!0,!1)+' class="slider-notch"></div>')}else{var o=0;for(var n in e){o++;e[n];i.push("<div"+jade.attr("style","left: "+n/h*100+"%;",!0,!1)+' class="slider-notch"></div>')}}}.call(this),i.push("</div>"),m.labels){i.push('<div class="slider-labels">');var b="rtl"===o.direction?"right":"left";(function(){var t=c;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push("<div"+jade.attr("style",""+b+": "+n/(p-1)*100+"%;",!0,!1)+' class="slider-label">'+(null==(e=m.prefix)?"":e)+(null==(e=m.decimals?s.toFixed(m.decimals):s)?"":e)+(null==(e=m.suffix)?"":e)+"</div>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push("<div"+jade.attr("style",""+b+": "+n/(p-1)*100+"%;",!0,!1)+' class="slider-label">'+(null==(e=m.prefix)?"":e)+(null==(e=m.decimals?s.toFixed(m.decimals):s)?"":e)+(null==(e=m.suffix)?"":e)+"</div>")}}}).call(this),i.push("</div>")}i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",v?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),d?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=r||u("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof f&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=f)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=s||r||u("buttons.continue"))?"":e)+"</div></div>"),l&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"answer"in n?n.answer:"undefined"!=typeof answer?answer:void 0,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"labelValues"in n?n.labelValues:"undefined"!=typeof labelValues?labelValues:void 0,"labels"in n?n.labels:"undefined"!=typeof labels?labels:void 0,"notches"in n?n.notches:"undefined"!=typeof notches?notches:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"slider"in n?n.slider:"undefined"!=typeof slider?slider:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/slider/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/base/game"),n=e("views/components/draggy").DraggyView,s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"endGame"},i.prototype.serialize=function(){var t,e,n;return t=i.__super__.serialize.apply(this,arguments),t.slider.increment=parseFloat(t.slider.increment,10)||1,t.slider.min=parseFloat(t.slider.min),t.slider.max=parseFloat(t.slider.max),_.isNaN(t.slider.min)&&(t.slider.min=0),_.isNaN(t.slider.max)&&(t.slider.max=10),t.slider.min>t.slider.max&&(e=t.slider.min,t.slider.min=t.slider.max,t.slider.max=e),t.range=t.slider.max-t.slider.min,
t.notches=Math.round(t.range/t.slider.increment),t.labels=_.nearest(_.factors(t.notches).map(function(t){return t+1}),t.slider.labels),t.labelValues=function(){n=[];for(var e=0,i=t.labels;0<=i?e<i:e>i;0<=i?e++:e--)n.push(e);return n}.apply(this).map(function(e){var i;return i=new Big(Math.round(e*t.notches/(t.labels-1))),i=i.mul(t.slider.increment).add(t.slider.min)}),t},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),delete this.currentValue,this.setEl(this.findOne(".slider"),"slider"),this.setEl(this.findOne(".slider-knob-input"),"knob-input"),this.setEl(this.findOne(".slider-knob-value"),"knob-value"),this.setEl(this.findOne(".slider-knob-answer"),"knob-answer"),this.createDraggy(),this.draggy.reset({x:this.draggy.offset.width/2}),this.enterGame()},i.prototype.createDraggy=function(){var t;return t=this.getEl("slider").offsetWidth,this.draggy=new n({el:this.getEl("slider"),minX:0,maxX:t,lock:"y",isParent:!0}),"rtl"===this.options.config().direction&&(this.draggy.reset({x:t}),this.transform(this.getEl("knob-input"),{x:t}),this.getEl("knob-input").offsetWidth),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize)},i.prototype.onDrag=function(t,e){return this.currentValue=this.roundValue(t),this.labelEl(this.getEl("knob-value"),this.currentValue),this.transform(this.getEl("knob-input"),{x:t.x,scale:1.25,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){var i;return i=this.roundPos(t),t.x===i||e?(this.transform(this.getEl("knob-input"),{x:t.x,transition:"all 300ms"}),null!=this.currentValue?(this.labelEl(this.getEl("knob-value"),this.currentValue),this.setState("touched")):void 0):t.reset({x:i})},i.prototype.roundValue=function(t){var e,i,n,o;return o=this.options.data.slider,e=o.increment,n=o.min,i=o.max,Big(i-n).mul(this.roundPercent(t)).div(e).round().mul(e).plus(n)},i.prototype.roundPos=function(t){var e;return e=this.roundPercent(t),"rtl"===this.options.config().direction&&(e=1-e),e*t.offset.width},i.prototype.roundPercent=function(t){var e,i,n,o,s,r;return s=this.options.data.slider,e=s.increment,n=s.min,i=s.max,i=Big(i).sub(n).div(e).round().mul(e).plus(n),o=_.limit(t.x/t.offset.width,0,1)||0,r=Big(i).sub(n).div(e).valueOf(),o=r>0?Big(r).mul(o).round().div(r):0,"rtl"===this.options.config().direction&&(o=1-o),o},i.prototype.onResize=function(t,e){var i,n,o,s;return s=this.options.data.slider,n=s.min,i=s.max,o=(this.currentValue-n)/(i-n)||.5,this.draggy.options.maxX=this.draggy.el.offsetWidth,this.draggy.reset({x:o*this.draggy.el.offsetWidth}),this.animateAnswerKnob(this.getEl("knob-answer"))},i.prototype.labelEl=function(t,e){var i,n,o,s;return o=this.options.data.slider,n=o.prefix,s=o.suffix,i=o.decimals,i=parseFloat(i,10)||0,i>0&&(e=parseFloat(e,10).toFixed(i)),t.innerHTML=""+n+e+s},i.prototype.isCorrect=function(){var t,e;return null!=(null!=(t=this.options.data)&&null!=(e=t.answer)?e.value:void 0)&&null!=this.currentValue&&this.currentValue.eq(this.options.data.answer.value)},i.prototype.showAnswer=function(){return this.transform(this.getEl("knob-answer"),{x:this.draggy.x}),this.animateAnswerKnob(this.getEl("knob-answer")),this.draggy.lock()},i.prototype.animateAnswerKnob=function(t){var e,i,n,o,s,r,a;if(r=this.options.data,e=r.answer,a=r.slider,e)return i=a.increment,o=a.min,n=a.max,n=Big(n).sub(o).div(i).round().mul(i).plus(o),s=(e.value-o)/(n-o),"rtl"===this.options.config().direction&&(s=1-s),t.offsetLeft,this.transform(t,{x:s*this.draggy.offset.width,transition:this.draggy.locked?"none":"all 600ms"})},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r;return o=(null!=(s=this.options.metadata)?s.questions:void 0)||[],o.length>0?(n=o[0],e=this.isCorrect(),r=Number(this.currentValue),t=_.find(n.answers,function(t){return t.correct===e}),t.content=r,i={question:n.question,answer:t},[i]):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=s}),require.register("engine/speech-bubble/model.yaml",function(t,e,i){i.exports={title:"speech-bubble",display:"Quote",description:"Show a quotation",category:"Content",features:{social:!0},model:{title:{type:"html","default":"# Product X has defied my expectations."},author:{type:"html","default":"## Satisfied customer"},avatar:{type:"image","default":""},direction:{type:"select","enum":["Left","Right"],"default":"Left"},bubbleStyle:{display:"Bubble Style",type:"select","enum":["Dark","Light"],"default":"Dark"},avatarStyle:{display:"Avatar Style",type:"select","enum":["Circle","Rounded","Square"],"default":"Circle"},doneText:{type:"html","default":"Continue",display:"Done text"}}}}),require.register("engine/speech-bubble/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h,f,m){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-scroll content-fill block-v-lg"><div'+jade.cls(["content-scroll-inner","txt-center","block-frame","block-flex-center",["Right"==l?"text-right":"text-left","Right"==l?"speech-right":"speech-left","Dark"===r?"speech-dk":"speech-lt","speech-style-"+(s||"circle").toLowerCase(),o?"has-avatar":""].join(" ")],[null,null,null,null,!0])+'><div class="display-flex direction-column quote-container"><div'+jade.cls(["quote",["Right"==l?"pull-right":"pull-left","Dark"===r?"quote-dk":"quote-lt"].join(" ")],[null,!0])+'><div class="quote-bg"></div><div class="quote-content fade-in delay-1">'+(null==(e=m)?"":e)+"</div></div><div"+jade.cls(["author","block-frame","display-flex","direction-row",["Right"==l?"author-right":"author-left"]],[null,null,null,null,!0])+">"),o&&n.image(o,"author-avatar slide-up delay-2"),t&&i.push('<div class="author-content slide-up delay-3">'+(null==(e=t)?"":e)+"</div>"),i.push("</div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),c?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=d||p("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof h&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=h)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=a||d||p("buttons.continue"))?"":e)+"</div></div>"),u&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"author"in o?o.author:"undefined"!=typeof author?author:void 0,"avatar"in o?o.avatar:"undefined"!=typeof avatar?avatar:void 0,"avatarStyle"in o?o.avatarStyle:"undefined"!=typeof avatarStyle?avatarStyle:void 0,"bubbleStyle"in o?o.bubbleStyle:"undefined"!=typeof bubbleStyle?bubbleStyle:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"direction"in o?o.direction:"undefined"!=typeof direction?direction:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/speech-bubble/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/slide"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"next"}},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i}(n),i.exports=o}),require.register("engine/strikeout/model.yaml",function(t,e,i){i.exports={title:"strikeout",display:"Strike-out",description:"Cross out the incorrect words",category:"Concepts",features:{stars:!0,social:!0},model:{title:{type:"html"},subtitle:{type:"html"},words:{min:1,max:8,type:[{incorrect:{type:"html",display:"Word(s) to be stricken out"},replaces:{type:"html",display:"Word(s) from sentence"}}]},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Cross out the incorrect words"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"strikeout",title:"This sentence about Product X is correct",prompt:"Cross out the incorrect words",words:[{incorrect:"incorrect",replaces:"correct"},{incorrect:"Product Y",replaces:"Product X"}],answer:{text:"You can use strike-out to get people thinking about your message."}}]}}),require.register("engine/strikeout/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){s&&s.timer&&s.timer.limit>0&&!s.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),i.push('<div class="full-screen strikeout-canvas-container"><canvas class="strikeout-canvas"></canvas></div><div class="content-fill text-center"><div class="content-fit block-v-lg content-md-fill content-sm-ver strikeout-words"><div class="content-md-ver col-md-10 col-md-offset-1"><h1 class="fade-in">'),function(){var n=t;if("number"==typeof n.length)for(var o=0,s=n.length;o<s;o++){var r=n[o];r.space?i.push(null==(e="&nbsp;")?"":e):i.push("<div"+jade.attr("data-replaces",r.incorrect&&r.replaces,!0,!1)+jade.cls(["word",r.incorrect&&"word-incorrect"],[null,!0])+"><div"+jade.cls([r.klass],[!0])+">"+(null==(e=r.incorrect||r.replaces)?"":e)+"</div></div>")}else{var s=0;for(var o in n){s++;var r=n[o];r.space?i.push(null==(e="&nbsp;")?"":e):i.push("<div"+jade.attr("data-replaces",r.incorrect&&r.replaces,!0,!1)+jade.cls(["word",r.incorrect&&"word-incorrect"],[null,!0])+"><div"+jade.cls([r.klass],[!0])+">"+(null==(e=r.incorrect||r.replaces)?"":e)+"</div></div>")}}}.call(this),i.push("</h1><h3>"+(null==(e=c)?"":e)+"</h3></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=o||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=n||o||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"components"in n?n.components:"undefined"!=typeof components?components:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in n?n.game:"undefined"!=typeof game?game:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"subtitle"in n?n.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/strikeout/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;o=e("views/base/game"),n=e("views/components/draggy").DraggyView,s=e("lib/draw/smooth-line"),a=e("lib/convert"),l=e("lib/device").dpi,r=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e,n,o,s,r,l,d,u,c;for(e=i.__super__.serialize.apply(this,arguments),u=e.title,c=e.words,null==u&&(u=""),u=a.toText(u),c=function(){var t,e,i,n;for(n=[],t=0,e=c.length;t<e;t++)i=c[t],d=i.replaces,o=i.incorrect,d&&o&&n.push({replaces:a.toText(d),incorrect:a.toText(o)});return n}(),n=r=0,l=c.length;r<l;n=++r)d=c[n].replaces,u=u.replace(d,"{{"+n+"}}");return e.components=function(){var e,i,n,r,a,l,p,h,f;for(n=u.split(/(\{\{\d+\}\}|[^A-Z])/i),f=[],e=0,i=n.length;e<i;e++)t=n[e]," "===t?f.push({space:!0}):(s=+(null!=(r=t.match(/\{\{(\d+)\}\}/))?r[1]:void 0),d=(null!=(a=c[s])?a.replaces:void 0)?t.replace(/\{\{\d+\}\}/,null!=(l=c[s])?l.replaces:void 0):t,o=(null!=(p=c[s])?p.incorrect:void 0)?t.replace(/\{\{\d+\}\}/,null!=(h=c[s])?h.incorrect:void 0):null,f.push({klass:"delay-"+_.random(3)+" scale-"+_.sample(["down","up"]),incorrect:o,replaces:d}));return f}(),e},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.show=function(){var t,e,o,s,r,a,l;for(i.__super__.show.apply(this,arguments),o=this.findOne("canvas"),this.draggy=new n({el:o,isParent:!0}),this.onResize(),this.context=("function"==typeof(t=this.draggy.el).getContext?t.getContext("2d"):void 0)||{},this.setEl(this.findAll(".word"),"words"),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop),this.listenTo(this,"resize",this.onResize),"function"==typeof(e=this.context).clearRect&&e.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),l=this.getEl("words"),r=0,a=l.length;r<a;r++)s=l[r],s.classList.remove("active","complete");return this.enterGame(),this.guesses=[]},i.prototype.onResize=function(){return this.draggy.el.width=this.el.firstChild.offsetWidth*l,this.draggy.el.height=this.el.firstChild.offsetHeight*l},i.prototype.onDrag=function(t,e){var i,n;return e&&(null!=(i=this.line)&&null!=(n=i.animation)&&n.cancel(),this.context.lineCap="round",this.context.globalAlpha=1,this.line=new s([],window.getComputedStyle(this.el).color,4*l)),this.addPoint(t)},i.prototype.onDrop=function(t,e){var i,n,o,s,r,a,d,u,c,p,h,f,m,v,g,y,b,x,w,_;for(g=this.line.getPoints(),w=[],y=this.el.firstChild.getBoundingClientRect(),p=y.left,_=y.top,i=g.reduce(function(t,e){return t+e.x},0)/g.length/l,n=g.reduce(function(t,e){return t+e.y},0)/g.length/l,v=g.reduce(function(t,e){return t>e.x?e.x:t},Infinity)/l,m=g.reduce(function(t,e){return t<e.x?e.x:t},0)/l,b=this.getEl("words"),u=0,h=b.length;u<h;u++)r=b[u],r.classList.contains("active")||(o=this.getBounds(r,{x:-p,y:-_}),s=20,d=(v-s<o.left&&m+s>o.right||i>o.left&&i<o.right)&&n>o.top&&n<o.bottom,r.classList.toggle("active",d),d&&w.push(r),d&&r.dataset.replaces&&this.transform(r,{opacity:0,scale:.8}));for(this.line.erase(this.context,function(t){return function(){return t.context.clearRect(0,0,t.draggy.el.width,t.draggy.el.height)}}(this)),a=function(t){return function(e,i){return window.setTimeout(function(){if(e.classList.remove("active","word-incorrect"),null!=i)return e.innerHTML=i,t.transform(e,{y:0,opacity:1})},600)}}(this),c=0,f=w.length;c<f;c++)r=w[c],this.guesses.push($(r).text()),x=r.dataset.replaces,delete r.dataset.replaces,a(r,x);return this.setState("touched")},i.prototype.addPoint=function(t){var e,i;return e=t.x,i=t.y,this.line.add({x:e*l,y:i*l}),this.context.clearRect(0,0,this.draggy.el.width,this.draggy.el.height),this.line.draw(this.context)},i.prototype.isCorrect=function(){var t;return 0===function(){var e,i,n,o;for(n=this.getEl("words"),o=[],e=0,i=n.length;e<i;e++)t=n[e],t.dataset.replaces&&o.push(t);return o}.call(this).length},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a,l;if(a=(null!=(l=this.options.metadata)?l.questions:void 0)||[],!(a.length>0))return[];for(e=[],n=0,o=a.length;n<o;n++)s=a[n],t=_.find(s.answers,function(t){return t.correct===!0}),i=this.guesses.includes(s.question.content),r={question:s.question,answer:_.find(s.answers,function(t){return t.correct===i})},e.push(r);return e},i.prototype.endGame=function(){var t,e,n,o,s;for(i.__super__.endGame.apply(this,arguments),s=this.getEl("words"),e=function(t){return function(e){return window.setTimeout(function(){var i;return i=e.dataset.replaces,delete e.dataset.replaces,e.innerHTML=i,e.classList.remove("active","word-incorrect"),t.transform(e,{scale:1,opacity:1})},600)}}(this),n=0,o=s.length;n<o;n++)t=s[n],t.dataset.replaces&&(t.classList.add("active"),this.transform(t,{scale:.8,opacity:0}),e(t));return this.submit()},i}(o),i.exports=r}),require.register("engine/table/model.yaml",function(t,e,i){i.exports={title:"table",display:"Table",description:"Organize text in a table",category:"Content",features:{narration:!0,social:!0},model:{title:{type:"html","default":""},caption:{type:"html"},rows:{min:1,max:50,type:[{help:'To include an empty cell in any row, insert a space (" ") in that position.\n',cells:{min:1,max:5,type:[{type:"html"}]}}]},style:{header:{display:"Header Row",type:"boolean","default":!0,help:"Make the first row in the table a header."},condensed:{type:"boolean","default":!1,help:"Present more information by condensing the content."},"full-width":{type:"boolean","default":!0,help:"Stretch the table to the width of the device."}},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"table",title:"Product Information",style:{header:!0,condensed:!1,"full-width":!0},rows:[{cells:["Name","Format","Price"]},{cells:["Product X","Phone","$1,199"]},{cells:["Product Y","Laptop","$3,499"]},{cells:["Product Z","Tablet","$779"]}],caption:"All information is up to date as of July 2019."}]}}),require.register("engine/table/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p,h,f,m,v){i.push('<div class="content-fit content-scroll content-ver text-center block-v-md"><div class="content-scroll-inner block-v-md"><h1 class="text-center fade-in">'+(null==(e=m)?"":e)+'</h1><div class="table-container"><div class="table-wrapper"><table'+jade.cls(["table","slide-up",n],[null,null,!0])+"><tbody>"),function(){var t=p;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n];i.push('<tr class="table-row">'),function(){var t=u.cells;if("number"==typeof t.length)for(var o=0,r=t.length;o<r;o++){var a=(t[o],s.cells[o]||"");h.header&&0===n?i.push('<th class="table-cell">'+(null==(e=a)?"":e)+"</th>"):i.push("<td"+jade.attr("align",d(a)&&"right",!0,!1)+' class="table-cell"><div'+jade.cls(["slide-up","delay-"+n],[null,!0])+">"+(null==(e=a)?"":e)+"</div></td>")}else{var r=0;for(var o in t){r++;var a=(t[o],s.cells[o]||"");h.header&&0===n?i.push('<th class="table-cell">'+(null==(e=a)?"":e)+"</th>"):i.push("<td"+jade.attr("align",d(a)&&"right",!0,!1)+' class="table-cell"><div'+jade.cls(["slide-up","delay-"+n],[null,!0])+">"+(null==(e=a)?"":e)+"</div></td>")}}}.call(this),i.push("</tr>")}else{var o=0;for(var n in t){o++;var s=t[n];i.push('<tr class="table-row">'),function(){var t=u.cells;if("number"==typeof t.length)for(var o=0,r=t.length;o<r;o++){var a=(t[o],s.cells[o]||"");h.header&&0===n?i.push('<th class="table-cell">'+(null==(e=a)?"":e)+"</th>"):i.push("<td"+jade.attr("align",d(a)&&"right",!0,!1)+' class="table-cell"><div'+jade.cls(["slide-up","delay-"+n],[null,!0])+">"+(null==(e=a)?"":e)+"</div></td>")}else{var r=0;for(var o in t){r++;var a=(t[o],s.cells[o]||"");h.header&&0===n?i.push('<th class="table-cell">'+(null==(e=a)?"":e)+"</th>"):i.push("<td"+jade.attr("align",d(a)&&"right",!0,!1)+' class="table-cell"><div'+jade.cls(["slide-up","delay-"+n],[null,!0])+">"+(null==(e=a)?"":e)+"</div></td>")}}}.call(this),i.push("</tr>")}}}.call(this),t&&i.push('<tr class="table-row"><td'+jade.attr("colspan",u.cells.length,!0,!1)+' align="center" class="table-cell"><small>'+(null==(e=t)?"":e)+"</small></td></tr>"),i.push("</tbody></table></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",f?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"caption"in n?n.caption:"undefined"!=typeof caption?caption:void 0,"classes"in n?n.classes:"undefined"!=typeof classes?classes:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isNumber"in n?n.isNumber:"undefined"!=typeof isNumber?isNumber:void 0,"longestRow"in n?n.longestRow:"undefined"!=typeof longestRow?longestRow:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"rows"in n?n.rows:"undefined"!=typeof rows?rows:void 0,"style"in n?n.style:"undefined"!=typeof style?style:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/table/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/slide"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"submit"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.isNumber=function(t){return/^[\.\,\d\$£€\%\-\s]+$/.test(t)},t.longestRow=_.max(t.rows,function(t){var e;return(null!=(e=t.cells)?e.length:void 0)||0}),t.classes=_.chain(t.style).omit("scrollable","header").reduce(function(t,e,i){return e?t+(" table-"+i):t},"").value(),t},i.prototype.beforeShow=function(){var t,e;return this.trigger("ui",{flexibleHeight:!0}),e=this.findOne(".table"),t=e.parentNode,e.offsetWidth>t.offsetWidth?(this.setState(!0,"scroll"),t.addEventListener("scroll",_.bind(this.onScroll,this)),this.onScroll({target:t})):this.setState(!1,"scroll")},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.onRefresh=function(){return this.beforeShow()},i.prototype.onScroll=function(t){var e;return e=t.target,e.scrollLeft<=0?this.setState("left","scroll-pos"):e.scrollLeft>=e.scrollWidth-e.offsetWidth?this.setState("right","scroll-pos"):this.setState("between","scroll-pos")},i}(n),i.exports=o}),require.register("engine/tap-in-order/model.yaml",function(t,e,i){i.exports={title:"tap-in-order",display:"Select in order",description:"Click items in the correct order",category:"Relationships",features:{stars:!0,social:!0},model:{title:{type:"html","default":""},list:{display:"List items",type:[{type:"image"}],min:2,max:6},reject:{type:"boolean","default":!1,display:"Reject Answers",help:"Rejects answers tapped out of order.\n"},answer:{text:{type:"html","default":"",display:"Answer Text"},correct:{type:"html","default":"That's correct!",display:"Correct Reinforcement"},incorrect:{type:"html","default":"Not quite...",display:"Incorrect Reinforcement"},takeaway:{type:"html","default":"",display:"Core Message"}},game:{timer:{limit:{type:"number","default":-1,display:"Time Limit (seconds)"},"out-of-time-prompt":{type:"html",display:"Out of time prompt"}}},prompt:{type:"html","default":"Click each item in the correct order"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"tap-in-order",title:"Select in order",reject:!1,list:["img/examples/product-phone.png","img/examples/product-laptop.png","img/examples/product-tablet.png"],answer:{incorrect:"Not quite...",correct:"That's correct!",text:"X, Y, then Z is the correct order.\n"}}]}}),require.register("engine/tap-in-order/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h,f){r&&r.timer&&r.timer.limit>0&&!r.timer.isDisabled&&i.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>'),n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="slide-parent content-fill text-center block-v-md"><div class="tappies-parent content-fill"><div class="content-sm-ver content-md-ver content-lg-fill row"><div class="title col-sm-12 col-lg-5 content-lg-ver block-v-md"><h1 class="fade-in delay-3">'+(null==(e=h)?"":e)+'</h1></div><div class="col-sm-12 col-lg-7 content-lg-ver tappies"><div class="row content-fill">'),function(){var t=p;if("number"==typeof t.length)for(var e=0,s=t.length;e<s;e++){var r=t[e];i.push("<div"+jade.attr("data-true-index",r.trueIndex,!0,!1)+jade.attr("data-original-index",e,!0,!1)+jade.attr("data-content",r.image,!0,!1)+jade.attr("style","height: "+o.height+"; width: "+o.width,!0,!1)+jade.cls(["tappy","block-md","delay-4","col-lg-12","col-sm-12","block-box-sizing",e%2===0?"slide-right":"slide-left"],[null,null,null,null,null,null,!0])+'><div class="block-dk tappy-child content-fill"><div class="content-fill block-v-md">'),r.image&&n.image(r.image,"img content-ver"),i.push('</div><div class="number-container text-lg"><div'+jade.attr("data-true-index",r.trueIndex,!0,!1)+jade.attr("data-original-index",e,!0,!1)+' class="number block-dk text-bold"></div></div></div></div>')}else{var s=0;for(var e in t){s++;var r=t[e];i.push("<div"+jade.attr("data-true-index",r.trueIndex,!0,!1)+jade.attr("data-original-index",e,!0,!1)+jade.attr("data-content",r.image,!0,!1)+jade.attr("style","height: "+o.height+"; width: "+o.width,!0,!1)+jade.cls(["tappy","block-md","delay-4","col-lg-12","col-sm-12","block-box-sizing",e%2===0?"slide-right":"slide-left"],[null,null,null,null,null,null,!0])+'><div class="block-dk tappy-child content-fill"><div class="content-fill block-v-md">'),r.image&&n.image(r.image,"img content-ver"),i.push('</div><div class="number-container text-lg"><div'+jade.attr("data-true-index",r.trueIndex,!0,!1)+jade.attr("data-original-index",e,!0,!1)+' class="number block-dk text-bold"></div></div></div></div>')}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),l?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||d("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||s||d("buttons.continue"))?"":e)+"</div></div>"),a&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"dimensions"in o?o.dimensions:"undefined"!=typeof dimensions?dimensions:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"game"in o?o.game:"undefined"!=typeof game?game:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"tappies"in o?o.tappies:"undefined"!=typeof tappies?tappies:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/tap-in-order/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("views/base/game"),n=e("lib/device"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .tappy":"tappyTouch","iostap .btn-done":"endGame"}},i.prototype.serialize=function(){var t,e,n;return t=i.__super__.serialize.apply(this,arguments),
t.tappies=_.chain(t.list).filter(function(t){return t}).map(function(t,e){return{image:t,trueIndex:e}}).shuffle().value(),e=t.tappies.length,n=e>=4,t.dimensions={width:(n?50:100)+"%",height:100/(n?(e+e%2)/2:e)+"%"},t},i.prototype.show=function(){return i.__super__.show.apply(this,arguments),this.rejectIncorrectAnswer(),this.initTapState(),this.setEl(this.findOne(".tappies-parent"),"tappiesParent"),this.setEl(this.findAll(".tappy"),"tappies"),this.setEl(this.findOne(".title"),"title"),this.setEl(this.findAll(".number"),"numbers"),this.refreshTappy(),this.enterGame()},i.prototype.onResize=function(){return this.setTappyHeight()},i.prototype.refreshTappy=function(){var t,e,i,n,o;for(o=this.getEl("tappies"),e=i=0,n=o.length;i<n;e=++i)t=o[e],t.classList.add("no-delay");return this.listenTo(this,"resize",this.onResize),this.setTappyHeight()},i.prototype.onRefresh=function(){return i.__super__.onRefresh.apply(this,arguments),this.fillTaps()},i.prototype.rejectIncorrectAnswer=function(){return this.reject=this.options.data.reject},i.prototype.setTappyHeight=function(){var t,e;if(e=this.getEl("tappiesParent"),t=e.offsetHeight,n.breakpoint(["xs","sm"])&&(t-=this.getEl("title").offsetHeight),null!=this.getEl("tappies").item(0))return this.getEl("tappies").item(0).parentNode.style.height=t+"px"},i.prototype.initTapState=function(){return this.tapsSoFar=[]},i.prototype.isCorrectSoFar=function(){var t;return t=function(t,e,i){return t&&e===i.toString()},this.tapsSoFar.reduce(t,!0)},i.prototype.isCorrect=function(){return null==this.tapsSoFar&&this.initTapState(),this.isCorrectSoFar()&&this.tapsSoFar.length===this.options.data.list.length},i.prototype.fillTap=function(t){var e,i;return i=t.parentNode.parentNode.parentNode,e=this.tapsSoFar.indexOf(t.dataset.trueIndex),e>-1?(t.innerHTML=e+1,i.classList.add("active"),i.dataset.filledIndex=e):(t.innerHTML="",i.classList.remove("active"),i.dataset.filledIndex="")},i.prototype.fillTaps=function(){var t,e,i,n,o,s;for(o=this.getEl("numbers"),s=[],t=e=0,i=o.length;e<i;t=++e)n=o[t],s.push(this.fillTap(n));return s},i.prototype.showAnswer=function(){var t,e,i,n,o,s;if(this.isCorrect())return this.el.classList.add("correct-"+this.isCorrect()),this.el.classList.remove("correct-"+!this.isCorrect());for(o=this.getEl("tappies"),s=[],e=i=0,n=o.length;i<n;e=++i)t=o[e],t.dataset.filledIndex!==t.dataset.trueIndex?s.push(t.classList.add("incorrect")):s.push(t.classList.remove("incorrect"));return s},i.prototype.keepTapsBefore=function(t){var e;if(e=this.tapsSoFar.indexOf(t),e>0){if(e>-1)return this.tapsSoFar=this.tapsSoFar.slice(0,e)}else if(0===e)return this.tapsSoFar=[]},i.prototype.onRejected=function(t){return this.currentTappy.classList.add("incorrect"),window.setTimeout(function(t){return function(){return t.currentTappy.classList.remove("incorrect")}}(this),400)},i.prototype.tappyTouch=function(t){var e,i,n;return this.currentTappy=t.currentTarget,i=t.currentTarget.dataset.trueIndex,n=t.currentTarget.dataset.originalIndex,e=this.tapsSoFar.indexOf(i)!==-1,e?this.keepTapsBefore(i):this.tapsSoFar.push(i),this.isCorrectSoFar()||!this.reject?this.fillTaps(this.getEl("numbers")[t.currentTarget.dataset.originalIndex]):(this.keepTapsBefore(i),this.reject&&this.onRejected()),this.setState("touched")},i.prototype.answerDetails=function(){var t,e,i,n,o,s,r,a;return r=(null!=(a=this.options.metadata)?a.questions:void 0)||[],r.length>0?(s=r[0],o=this.isCorrect(),t=_.find(s.answers,function(t){return t.correct===o}),i=_.map(this.tapsSoFar,function(t){return function(e){return _.find(t.getEl("tappies"),function(t){return this.$(t).data("true-index")===Number(e)})}}(this)),e=_.map(i,function(t){return this.$(t).data("content")}),t.content=e.join(", "),n={question:r[0].question,answer:t},[n]):[]},i.prototype.endGame=function(){return i.__super__.endGame.apply(this,arguments),this.submit()},i}(o),i.exports=s}),require.register("engine/text-and-images/model.yaml",function(t,e,i){i.exports={title:"text-and-images",display:"Text And Images",category:"Content",description:"Display rich content and images.",visible:!1,features:{narration:!0,social:!0},model:{title:{type:"html"},content:{min:1,max:10,type:[{text:{type:"html"},image:{type:"image",display:"Image"}}]},prompt:{type:"html","default":"Scroll to see more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"text-and-images",title:"About Product Z",content:[{text:"Product Z is our third product in the Product line. It is three times as good as product X, but only takes up one third of the space. Don't believe us? See below:\n",image:"img/examples/product-tablet.png"},{text:"Review the following interactive slides to learn more about Product Z.\n"}]}]}}),require.register("engine/text-and-images/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p){n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")},i.push('<div class="content-md content-fill"><div class="content-scroll content-sm-scroll content-md-scroll block-v-lg fade-in"><div class="content-scroll-inner hide-overflow block-h-xl"><div class="row"><div class="col-sm-12 col-lg-10 col-lg-offset-1"><h1 class="text-center slide-down">'+(null==(e=c)?"":e)+"</h1>"),function(){var o=t;if("number"==typeof o.length)for(var s=0,r=o.length;s<r;s++){var a=o[s];i.push("<div"+jade.cls(["fade-in","delay-"+(s+1)],[null,!0])+">"),a.text&&i.push('<div class="text-md">'+(null==(e=a.text)?"":e)+"</div>"),a.image&&(i.push('<p class="text-center block-v-md">'),n.image(a.image,"scrollable-image"),i.push("</p>")),i.push("</div>")}else{var r=0;for(var s in o){r++;var a=o[s];i.push("<div"+jade.cls(["fade-in","delay-"+(s+1)],[null,!0])+">"),a.text&&i.push('<div class="text-md">'+(null==(e=a.text)?"":e)+"</div>"),a.image&&(i.push('<p class="text-center block-v-md">'),n.image(a.image,"scrollable-image"),i.push("</p>")),i.push("</div>")}}}.call(this),i.push("</div></div></div></div></div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"content"in o?o.content:"undefined"!=typeof content?content:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/text-and-images/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("../scrolling-media/view"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.serialize=function(){var t,i,n,o,s,r,a,l;for(i=e.__super__.serialize.apply(this,arguments),t=[],r=i.content,n=0,s=r.length;n<s;n++)a=r[n],l=a.text,o=a.image,l&&(/^<p>/.test(l)||(l=written.wrapInTag(l,"p")),t.push({content:l,contentType:"text"})),o&&t.push({content:o,contentType:"image"});return i.content=t,i},e}(n),i.exports=o}),require.register("engine/text-sequence/model.yaml",function(t,e,i){i.exports={title:"text-sequence",display:"Sequence",category:"Content",links:{academy:"https://academy.edapp.com/how-to-text-sequence-template/"},features:{narration:!0,social:!0},description:"Show a sequence of text",model:{title:{type:"html","default":""},content:{min:1,max:32,type:[{type:"html","default":""}]},label:{type:"html","default":"Step",help:"The label of each step in the sequence. eg. “Step 1 of 4”"},canGoBack:{type:"boolean","default":!1,display:"Allow Free Navigation",help:"Let users return to previous steps by tapping or clicking on them.\n"},prompt:{type:"html","default":"Read more"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"text-sequence",title:"About Product Y",stepTitle:"Step",canGoBack:!0,content:["Product Y builds on everything our customers loved about Product X","It is the focus of the upcoming sales cycle","You should mention Product Y to existing customers who enjoy Product X","Product Y will have a discounted price at launch"]}]}}),require.register("engine/text-sequence/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){i.push('<div class="steps-container content-fill"><div class="steps text-center">'),c&&i.push("<div data-step='0' class=\"title tight block-v-md fade-in delay-3\">"+(null==(e=c)?"":e)+"</div>"),function(){var t=n;if("number"==typeof t.length)for(var o=0,s=t.length;o<s;o++){var r=t[o];i.push("<div"+jade.attr("data-step",o+1,!0,!1)+' class="step fade-in tight block-v-md">'+(null==(e=r)?"":e)+"</div>")}else{var s=0;for(var o in t){s++;var r=t[o];i.push("<div"+jade.attr("data-step",o+1,!0,!1)+' class="step fade-in tight block-v-md">'+(null==(e=r)?"":e)+"</div>")}}}.call(this),i.push("</div>"),n.length>0&&(t&&i.push('<div class="btn btn-muted btn-circular btn-up"><span class="icon icon-chevron-up text-lg"></span></div>'),i.push('<div class="btn btn-muted btn-circular btn-down"><span class="icon icon-chevron-down text-lg"></span></div>')),i.push("</div><div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"canGoBack"in n?n.canGoBack:"undefined"!=typeof canGoBack?canGoBack:void 0,"content"in n?n.content:"undefined"!=typeof content?content:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/text-sequence/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/slide"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{iostap:"onTap","iostap .btn-done":"submit"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.content=_.compact(t.content),t.hasPrompt=!0,t},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i.prototype.beforeShow=function(t){var e,i,n,o,s;for(this.trigger("ui",{flexibleHeight:!0}),this.setEl(this.findOne(".steps"),"steps"),this.setEl(this.findOne(".slide-footer-prompt"),"prompt"),this.setEl(this.findOne(".btn-up"),"btn-up"),this.setEl(this.findOne(".btn-down"),"btn-down"),s=this.getEl("steps").children,i=n=0,o=s.length;n<o;i=++n)e=s[i],e.classList.remove("active"),this.transform(e,{opacity:"",transition:""});if(this.getEl("steps"))return this.transition(this.getEl("steps"),t?"none":"all 300ms"),this.currentIndex=0,this.totalLength=this.getEl("steps").children.length,this.showNextStep(!0)},i.prototype.onTap=function(t){var e;return(null!=t&&null!=(e=t.detail)?e.clientY:void 0)<this.el.offsetHeight/2&&this.currentIndex>0&&this.options.data.canGoBack?(this.currentIndex--,this.showNextStep()):this.currentIndex<this.totalLength-1&&(this.currentIndex++,this.showNextStep(),this.currentIndex===this.totalLength-1)?this.setState("touched"):void 0},i.prototype.showNextStep=function(t){if(this.transformSteps(),!t)return this.setPrompt()},i.prototype.transformSteps=function(){var t,e,i,n,o,s,r;for(s=this.getEl("steps").children,o=s[this.currentIndex],o.classList.add("active"),r=this.el.offsetHeight/2-(o.offsetTop+o.offsetHeight/2),this.getEl("btn-up").style.opacity=this.currentIndex/(this.totalLength-1),this.getEl("btn-down").style.opacity=1-this.currentIndex/(this.totalLength-1),r<-this.getEl("steps").firstChild.offsetHeight/2?this.trigger("scroll",null,"middle"):this.trigger("scroll",null,"top"),e=i=0,n=s.length;i<n;e=++i)t=s[e],this.transform(t,{transition:"all 900ms",opacity:e<=this.currentIndex?1-(this.currentIndex-e)/this.totalLength:0});return this.transform(this.getEl("steps"),{y:r})},i.prototype.setPrompt=function(){var t,e;return t=this.currentIndex,this.options.data.title||(t+=1),e=i18n("text-sequence.of")||"of",this.getEl("prompt").innerHTML=t>0||!this.options.data.title?this.options.data.label+" "+t+" "+e+" "+this.options.data.content.length:this.options.data.prompt},i.prototype.refresh=function(t){var e,n,o,s,r,a;for(a=_.compact(t.data.content),n=s=0,r=a.length;s<r;n=++s)o=a[n],content&&this.options.data.content[n]!==o&&(e=n);if(t.data.title!==this.options.data.title&&(e=-1),i.__super__.refresh.apply(this,arguments),null!=e){for(this.beforeShow(!0),this.el.classList.add("no-transition");this.currentIndex<e;)this.onTap();return window.setTimeout(function(t){return function(){return t.transition(t.getEl("steps"),"all 300ms"),t.el.classList.remove("no-transition")}}(this),1)}return this.beforeShow()},i.prototype.screenshot=function(){return this.currentIndex=-1,new Promise(function(t){return function(e,i){var n;return(n=function(o){return null==o&&(o=[]),t.currentIndex<t.totalLength-1?(t.currentIndex++,t.showNextStep(),t.collateScreenshots(o).then(n)["catch"](i)):e(o)})()}}(this))},i}(n),i.exports=o}),require.register("engine/title/model.yaml",function(t,e,i){i.exports={title:"title",display:"Title",description:"Introduce the lesson",category:"Content",features:{narration:!0},model:{title:{type:"html","default":"A title"},subtitle:{type:"html","default":"An optional subtitle",required:!1},buttonText:{type:"html",display:"Button text","default":"OK, let's go!"},exitButton:{type:"boolean","default":!0,display:"Exit Button",help:"Give users the option to leave the lesson from this slide."}}}}),require.register("engine/title/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d,u,c,p){i.push('<div class="content-scroll content-fit content-ver text-center block-v-md"><div class="content-scroll-inner"><div class="block-v-md"><h1 class="slide-up">'+(null==(e=p)?"":e)+"</h1>"),c&&i.push('<div class="slide-up delay-1 text-md">'+(null==(e=c)?"":e)+"</div>"),i.push('</div><div class="block-v-md"><div class="btn btn-solid btn-next slide-up delay-2">'+(null==(e=t)?"":e)+"</div></div></div></div>"),n.contextRequiresExitButton&&(i.push("<div"+jade.cls(["slide-footer","block-v-lg",u?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof d&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=d)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>"))}.call(this,"buttonText"in n?n.buttonText:"undefined"!=typeof buttonText?buttonText:void 0,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"subtitle"in n?n.subtitle:"undefined"!=typeof subtitle?subtitle:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/title/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/slide"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.continueBtnText=i18n("buttons.close-lesson"),t.hasPrompt=this.options.scorm||!t.exitButton,t},i.prototype.events=function(){return{"iostap .btn-next":"next","iostap .btn-done":"exit"}},i.prototype.beforeShow=function(){return this.trigger("ui",{flexibleHeight:!0})},i.prototype.beforeHide=function(){return this.trigger("ui",{flexibleHeight:!1})},i}(n),i.exports=o}),require.register("engine/url/model.yaml",function(t,e,i){i.exports={title:"url",display:"External URL",description:"Show a webpage in your lesson",category:"Advanced",features:{online:!0},model:{url:{type:"string",display:"URL","default":"https://edapp.com",transform:!1,help:'Include the full URL that points to your content. eg. https://edapp.com/ </br> Some URLs can\'t be displayed. For more information, click <a href="https://www.edapp.com/blog/custom-url-template/" target="_blank">here</a>.\n'},background:{type:"string","default":"",display:"Background Color",help:'This color (eg. "orange", "#f90", "rgb(255,160,0)") will be used for the background of the entire screen in lightbox mode.\n'},button:{text:{type:"text","default":"Continue",display:"Done text"},position:{type:"select","enum":["Below","Overlay Bottom","Overlay Top"],"default":"Below",help:"Choose the best position based on your content.\n"}}}}}),require.register("engine/url/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){i.push('<div class="full-screen content-fill hide-overflow"><iframe'+jade.attr("src",s?s+(s.includes("?")?"&":"?")+"timestamp="+t.now():"",!0,!1)+' type="text/html" frameborder="0" sandbox="allow-scripts allow-same-origin allow-forms" class="url-object"></iframe><div class="exit-btn btn">'+jade.escape(null==(e=n&&n.text||o("buttons.done"))?"":e)+"</div></div>")}.call(this,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"button"in n?n.button:"undefined"!=typeof button?button:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"url"in n?n.url:"undefined"!=typeof url?url:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/url/view.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=e("views/slide"),o=e("models/scormAttempt"),l=Application.actions(),s=l.Session,n=l.Lesson,a=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .exit-btn":"submit"}},i.prototype.beforeShow=function(){var t,e,i;return t=(null!=(e=this.options.data.button)&&null!=(i=e.position)?i.toLowerCase():void 0)||"below",this.setState(written.hyphenCase(t),"exit-btn"),this.trigger("ui",{lightbox:this.options.data.background||!0,flexible:!0,fullscreen:!0}),this.onResize()},i.prototype.beforeHide=function(){return this.trigger("ui",{lightbox:!1,flexible:!1,fullscreen:!1})},i.prototype.show=function(){return this.listenTo(this,"resize",this.onResize)},i.prototype.onRefresh=function(){return this.beforeShow(),i.__super__.onRefresh.apply(this,arguments)},i.prototype.onResize=function(){var t,e;if("below"===this.currentState["exit-btn"])return t=this.findOne(".exit-btn"),e=this.findOne(".url-object"),e.style.bottom=t.offsetHeight+"px",e.style.height=e.parentNode.offsetHeight-t.offsetHeight+"px"},i}(r),i.exports=a}),require.register("engine/video-collection/model.yaml",function(t,e,i){i.exports={title:"video-collection",display:"Video collection",description:"Show a grid of videos",category:"Content",features:{social:!0},model:{title:{type:"html"},videos:{type:[{url:{type:"video",display:"Video"},thumbnail:{type:"image",help:"Recommended size • 600 × 200px"},title:{type:"html"},duration:{type:"number",hidden:!0,"default":0}}],min:2,max:6},duration:{type:"number",hidden:!0,"default":0},stream:{type:"boolean","default":!0,display:"Play on Demand",help:"Play this video on demand instead of downloading all at once. This is recommended for longer videos. This option requires the learner to have an active internet connection and does not work in offline mode.\n"},prompt:{type:"text","default":"Tap to view each video"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"video-collection",title:"Video Collection",videos:[{url:"video/example.mp4",thumbnail:"img/examples/product-phone.png",title:"Product X"},{url:"video/example.mp4",thumbnail:"img/examples/product-laptop.png",title:"Product Y"}]}]}}),require.register("engine/video-collection/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h,f){n["video-stream"]=e=function(e,n,o,s,r){this&&this.block,this&&this.attributes||{};d=d||!0,o=o||!0,s=s||"video vjs-fluid";var a=t.CLOUDINARY_CDN_URL+t.CLOUDINARY_VIDEO_FOLDER,l="";e&&e.indexOf(a)>-1&&(l=e.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",n,!0,!1)+jade.attr("controls",o,!0,!1)+' preload="auto"'+jade.attr("dir",t.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",e,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},i.push('<div class="tappies-parent block-v-lg content-fill text-center"><div class="thumbnail-collection content-fill clearfix"><div class="content"><h1 class="title slide-down delay-3 tight block-v-md">'+(null==(e=p)?"":e)+'</h1><div class="tappies row">'),function(){var t=f;if("number"==typeof t.length)for(var n=0,o=t.length;n<o;n++){var s=t[n],r="col-sm-6",a="col-md-8 col-md-offset-2 col-sm-12";i.push("<div"+jade.attr("data-index",n,!0,!1)+jade.cls(["tappy","slide-up","block-v-sm","block-box-sizing","delay-"+(n+1)+" "+(f.length>=4?r:a)],[null,null,null,null,!0])+"><div"+jade.attr("style",s.thumbnail&&"background-image:url("+s.thumbnail+")",!0,!1)+jade.cls(["tappy-child","block-dk",s.thumbnail&&s.title?"dark":""],[null,null,!0])+">"),s.title&&i.push('<div class="thumb-content text-lg text-bold block-md block-box-sizing">'+(null==(e=s.title)?"":e)+"</div>"),i.push("</div></div>")}else{var o=0;for(var n in t){o++;var s=t[n],r="col-sm-6",a="col-md-8 col-md-offset-2 col-sm-12";i.push("<div"+jade.attr("data-index",n,!0,!1)+jade.cls(["tappy","slide-up","block-v-sm","block-box-sizing","delay-"+(n+1)+" "+(f.length>=4?r:a)],[null,null,null,null,!0])+"><div"+jade.attr("style",s.thumbnail&&"background-image:url("+s.thumbnail+")",!0,!1)+jade.cls(["tappy-child","block-dk",s.thumbnail&&s.title?"dark":""],[null,null,!0])+">"),s.title&&i.push('<div class="thumb-content text-lg text-bold block-md block-box-sizing">'+(null==(e=s.title)?"":e)+"</div>"),i.push("</div></div>")}}}.call(this),i.push("</div></div></div></div>"),function(){var t=f;if("number"==typeof t.length)for(var e=0,o=t.length;e<o;e++){var s=t[e];i.push('<div class="video-details content-fill"><div class="full-screen"><span class="exit-video block-md icon icon-close text-xl"></span></div><div class="full-screen video-container">'),n["video-stream"](s.url,!0,!0,"video vjs-fluid multi-content"),i.push("</div></div>")}else{var o=0;for(var e in t){o++;var s=t[e];i.push('<div class="video-details content-fill"><div class="full-screen"><span class="exit-video block-md icon icon-close text-xl"></span></div><div class="full-screen video-container">'),n["video-stream"](s.url,!0,!0,"video vjs-fluid multi-content"),i.push("</div></div>")}}}.call(this),i.push("<div"+jade.cls(["slide-footer","block-v-lg",c?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),a?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||l("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof u&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=u)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||l("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in o?o.title:"undefined"!=typeof title?title:void 0,"undefined"in o?o.undefined:void 0,"videos"in o?o.videos:"undefined"!=typeof videos?videos:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/video-collection/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=e("lib/preload"),o=e("views/slide"),r=e("lib/device"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"submit","iostap .exit-video":"exitVideo","iostap .tappy":"onTapThumbnail"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.isShort=_.chain(t.videos).pluck("title").sortBy("length").last().value().length<20,t.videos=_.filter(t.videos||[],function(t){return t.url}),t.hasPrompt=!0,t},i.prototype.onResize=function(){var t,e,i,n,o,s,r,a,l;for(s=this.getEl("tappies").children.length,e=this.getEl("parent").firstChild.offsetHeight-this.getEl("title").offsetHeight,l=s>=4?e*(1+s/10)/s:e/s,r=this.getEl("tappies").children,a=[],i=n=0,o=r.length;n<o;i=++n)t=r[i],a.push(t.style.height=l+"px");return a},i.prototype.onRefresh=function(){return this.beforeShow(),this.show()},i.prototype.beforeShow=function(){var t,e,i;return this.setEl(this.findOne(".tappies-parent"),"parent"),this.setEl(this.findOne(".tappies"),"tappies"),this.setEl(this.findOne(".title"),"title"),this.setEl(this.findAll(".video-details"),"videoDetails"),this.videos=function(){var n,o,s,r;for(s=this.findAll("video"),r=[],n=0,o=s.length;n<o;n++)i=s[n],e=window.videojs(i,{fluid:!0}),t=function(t){return function(){return window.setTimeout(function(){return t.exitVideo()},300)}}(this),r.push(function(e){return function(e){return e.on("fullscreenchange",function(){if(!e.isFullscreen())return t()})}}(this)(e));return r}.call(this),"browser"!==r.platform&&Application.publish("event:rotation-unlock")({}),this.onResize()},i.prototype.show=function(){var t;return this.listenTo(this,"resize",this.onResize),this.toVisit=function(){t=[];for(var e=0,i=this.serialize().videos.length;0<=i?e<i:e>i;0<=i?e++:e--)t.push(e);return t}.apply(this)},i.prototype.onTapThumbnail=function(t){return this.openVideo(t.currentTarget,!0)},i.prototype.openVideo=function(t,e){var i,n;return this.currentIndex=parseInt(t.dataset.index,10),n=this.getEl("videoDetails").item(this.currentIndex),this.toVisit=_.without(this.toVisit,this.currentIndex),_.isEmpty(this.toVisit)&&this.setState("touched"),this.setState(!0,"video"),this.trigger("ui",{lightbox:!0}),i=this.videos[this.currentIndex],i.ready(function(t){return function(){return i.currentTime(0),i.play()}}(this)),t.classList.add("visited"),n.classList.toggle("no-transition",!e),n.classList.add("active")},i.prototype.beforeHide=function(){if("browser"!==r.platform)return Application.publish("event:rotation-lock")({});
},i.prototype.hide=function(){return this.exitVideo(),i.__super__.hide.apply(this,arguments)},i.prototype.exitVideo=function(){var t,e;return e=this.getEl("videoDetails").item(this.currentIndex),e.classList.remove("no-transition"),e.classList.remove("active"),this.trigger("ui",{lightbox:!1}),this.setState(!1,"video"),null!=(t=this.videos[this.currentIndex])?t.pause():void 0},i.prototype.refresh=function(t){return null!=this.currentIndex&&this.exitVideo(),i.__super__.refresh.apply(this,arguments)},i}(o),i.exports=s}),require.register("engine/video-contribution/model.yaml",function(t,e,i){i.exports={title:"video-contribution",display:"Video",category:"Peer Learning",description:"Video Upload",visible:!1,features:{social:!0},model:{question:{id:{type:"uuid",hidden:!0},content:{type:"html"}},prompt:{type:"html","default":"Choose a video to upload"}},examples:[{subtype:"video-contribution",question:{id:"#GENUUID#",content:"Contribute to peer learning by uploading a video"}}]}}),require.register("engine/video-contribution/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d){i.push('<div class="block-v-xl content-fill"><div class="content text-center"><h1 class="fade-in">'+(null==(e=d)?"":e)+'</h1><div class="block-frame block-v-md slide-up delay-1"><div class="upload-video btn btn-solid">'+(null==(e=a)?"":e)+'</div><div class="upload-progress block-dk"><div class="upload-progress-bar"></div></div><div class="upload-success text-md block-v-md">Your upload is complete.</div><div class="upload-error text-md block-v-md">There was an error uploading your video.\nPlease ensure your video is the correct format and try again.</div></div></div></div><div'+jade.cls(["slide-footer","block-v-lg",l?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof a&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=a)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/video-contribution/view.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("views/input"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return s(i,t),i.prototype.template=e("./template"),i.prototype.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,i;return e=16*Math.random()|0,i="x"===t?e:3&e|8,i.toString(16)})},i.prototype.initialize=function(t){return this.uploadConfiguration=t.lessonConfiguration.upload,this.uploadUUID=this.generateUUID(),i.__super__.initialize.apply(this,arguments)},i.prototype.events=function(){return{"iostap .btn-done":"nextSlide"}},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.title=this.options.data.question.content,t},i.prototype.show=function(){return this.setEl(this.findOne(".upload-video"),"button"),this.setEl(this.findOne(".upload-progress-bar"),"progress-bar"),this.createUploader()},i.prototype.createUploader=function(){var t,e,i;return t=(null!=(e=window.__)?e.uploadConfiguration:void 0)||this.uploadConfiguration,this.setState("prompt","upload"),i=new qq.s3.FineUploaderBasic(_.extend({debug:!0,chunking:{enabled:!0,concurrent:{enabled:!0}},resume:{enabled:!0},retry:{enableAuto:!0},camera:{ios:!0},validation:{acceptFiles:"video/*"},button:this.getEl("button"),objectProperties:{key:function(t){return function(e){var n,o,s;return s=i.getName(e),o=(n=s.match(/[^\.]+$/))?n[0]:"mp4","contributions/"+t.uploadUUID+"."+o}}(this)},callbacks:{onUpload:_.bind(this.onUpload,this),onStatusChange:_.bind(this.onStatusChange,this),onError:_.bind(this.onError,this),onComplete:_.bind(this.onComplete,this),onProgress:_.bind(this.onProgress,this)}},t))},i.prototype.onUpload=function(){return this.setState("in-progress","upload"),this.transform(this.getEl("progress-bar"),{scale:"0, 1",transition:"none"})},i.prototype.onStatusChange=console.log,i.prototype.onError=function(t,e,i){return this.setState("prompt"),this.setState("error","upload")},i.prototype.onComplete=function(t,e,i){return this.uploadedFileKey=i.uploadKey,this.setState("touched"),this.setState("complete","upload"),this.transform(this.getEl("progress-bar"),{scale:"1, 1"})},i.prototype.onProgress=function(t,e,i,n){return this.transform(this.getEl("progress-bar"),{scale:i/n*.7+", 1",transition:"all 300ms"})},i.prototype.userInput=function(){return{contribution:{video:this.uploadedFileKey,question:{content:this.options.data.question.content,id:this.options.data.question.id}}}},i}(n),i.exports=o}),require.register("engine/video/model.yaml",function(t,e,i){i.exports={title:"video",display:"Single video",description:"Show a single video",category:"Content",links:{academy:"https://academy.edapp.com/how-to-video/"},features:{social:!0},model:{title:{type:"html","default":"Video"},url:{type:"video","default":"video/example.mp4",display:"Video"},duration:{type:"number","default":0,hidden:!0},streamUrl:{type:"string",hidden:!0},stream:{type:"boolean","default":!0,display:"Play on Demand",help:"Play this video on demand instead of downloading all at once. This is recommended for longer videos. This option requires the learner to have an active internet connection and does not work in offline mode.\n"},autoplay:{type:"boolean",display:"Auto Play","default":!1,help:"Start playing the video automatically when the learner views this slide.\n"},autoprogress:{type:"boolean",display:"Auto Progress","default":!1,help:"Continue to the next slide once this video is over.\n"},prompt:{"default":"Watch the video to continue",type:"text"},showSkipButton:{type:"boolean","default":!1,display:"Display skip button",help:"Allow learners to progress without watching the entire video. Learners will still be able to skip the video after watching it once.\n"},doneText:{type:"html","default":"Continue",display:"Done text"}}}}),require.register("engine/video/template.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o,s,r,a,l,d,u,c,p,h){n["video-stream"]=e=function(e,n,o,s,r){this&&this.block,this&&this.attributes||{};u=u||!0,o=o||!0,s=s||"video vjs-fluid";var a=t.CLOUDINARY_CDN_URL+t.CLOUDINARY_VIDEO_FOLDER,l="";e&&e.indexOf(a)>-1&&(l=e.replace(a,a+"sp_full_hd/"),l=l.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",n,!0,!1)+jade.attr("controls",o,!0,!1)+' preload="auto"'+jade.attr("dir",t.direction,!0,!1)+jade.attr("poster",r,!0,!1)+jade.cls(["video-js",s],[null,!0])+"><source"+jade.attr("src",e,!0,!1)+"/>"),l&&i.push("<source"+jade.attr("src",l,!0,!1)+"/>"),i.push("</video>")},i.push('<div class="slide-loader content"></div><div class="content-fill full-screen">'),n["video-stream"](h,!r,!0,"video vjs-fluid multi-content"),i.push('</div><div class="content-fill"><h2 class="video-error-msg content">'+(null==(e=d("video.not-available"))?"":e)+"</h2><div"+jade.cls(["slide-footer","block-v-lg",p?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),l?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=s||d("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof c&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=c)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=o||s||d("buttons.continue"))?"":e)+"</div></div>"),a&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div></div>")}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"continueBtnText"in o?o.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in o?o.doneText:"undefined"!=typeof doneText?doneText:void 0,"fullscreen"in o?o.fullscreen:"undefined"!=typeof fullscreen?fullscreen:void 0,"hasNarration"in o?o.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in o?o.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in o?o.i18n:"undefined"!=typeof i18n?i18n:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0,"prompt"in o?o.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in o?o.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"url"in o?o.url:"undefined"!=typeof url?url:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/video/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e("views/slide"),s=e("lib/device"),o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events=function(){return{"iostap .btn-done":"next"}},i.prototype.initialize=function(){var t;if(i.__super__.initialize.apply(this,arguments),null==(t=this.options.data).showSkipButton&&(t.showSkipButton=!1),""===this.options.data.prompt)return this.options.data.prompt=e("./model").model.prompt["default"]},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.continueBtnText=i18n("video.skip-video"),t.hasPrompt=!t.showSkipButton,t},i.prototype.show=function(){var t,e;if(this.options.data.url)return e=this.el.querySelector(".video-js"),e&&(t=e.getAttribute("id"),this.player=_.findWhere(this.players,{id_:t}),this.player)?(this.player.ready(function(t){return function(){if(t.setState("success","video"),t.options.data.autoplay&&2!==window.location.href.split("thumbnail=true").length&&t.player.play(),!t.options.data.showSkipButton)return t.player.on("timeupdate",_.bind(t.onTimeUpdate,t)),t.player.on("seeking",_.bind(t.onSeeking,t))}}(this)),this.player.on("ended",_.bind(this.onVideoEnd,this))):void 0},i.prototype.beforeShow=function(t){if(t&&(this.options.data.autoplay=!t),this.trigger("ui",{lightbox:!0,flexibleHeight:!0}),"browser"!==s.platform)return Application.publish("event:rotation-unlock")({})},i.prototype.beforeHide=function(){if(this.trigger("ui",{lightbox:!1,flexibleHeight:!1}),"browser"!==s.platform)return Application.publish("event:rotation-lock")({})},i.prototype.onRefresh=function(){return this.beforeShow(!0),i.__super__.onRefresh.apply(this,arguments)},i.prototype.onVideoEnd=function(){if(this.findOne(".btn-done").innerHTML=this.options.data.doneText||i18n("buttons.continue"),this.options.data.showSkipButton||this.setState("touched"),this.lesson.processInteraction({type:"video",event:{name:"video-watched"},metadata:this.options.metadata}),this.options.data.autoprogress)return this.submit()},i.prototype.onTimeUpdate=function(){if(!this.player.scrubbing()&&!this.player.seeking())return this.timeBeforeChange=this.player.currentTime()},i.prototype.onSeeking=function(){if("touched"!==this.currentState.state&&this.player.currentTime()>this.timeBeforeChange)return this.player.currentTime(this.timeBeforeChange)},i}(n),i.exports=o}),require.register("engine/vimeo-video-embed/model.yaml",function(t,e,i){i.exports={title:"vimeo-video-embed",display:"Vimeo",description:"Embed a video from Vimeo",category:"Content",features:{social:!0,online:!0},model:{title:{type:"html"},videoId:{type:"html",display:"Video ID",help:'The ID of your video can be found by selecting the "share" option on Vimeo. eg. https://vimeo.com/87701971 is "87701971"\n'},autoplay:{type:"boolean",display:"Auto Play","default":!1,help:"Start playing the video automatically when the user views this slide.\n"},autoProgress:{type:"boolean",display:"Auto Progress","default":!0,help:"Continue to the next slide once this video is over.\n"},showSkipButton:{type:"boolean","default":!1,display:"Display skip button",help:"Allow learners to progress without watching the entire video. Learners will still be able to skip the video after watching it once.\n"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"vimeo",videoId:"87701971"}]}}),require.register("engine/vimeo-video-embed/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a){i.push('<div class="vimeo-content content-fill"><div class="slide-loader content"></div><div class="vimeo-player text-center content-fill"></div><img class="vimeo-thumb content-ver block"/><div class="video-controls content"><div class="video-play"></div></div><div'+jade.cls(["slide-footer","block-v-lg",a?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+'><div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||s("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t)?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div></div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"skipButton"in n?n.skipButton:"undefined"!=typeof skipButton?skipButton:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/vimeo-video-embed/view.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e("views/slide"),o=e("lib/vimeo-api"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit",iostap:"playVideo"},i.prototype.serialize=function(){var t,e,n;return t=i.__super__.serialize.call(this),t.continueBtnText=i18n("video.skip-video"),t.videoId=null!=t&&null!=(e=t.videoId.toString().match(/\d+$/))?e[0]:void 0,t.thumbnail=null!=(n=this.videoData)?n.thumbnail_large:void 0,t.skipButton=null!=(null!=t?t.showSkipButton:void 0)&&t.showSkipButton,t},i.prototype.render=function(){var t;return i.__super__.render.call(this),this.createPlayer(),t=function(e){return function(i){return e.getEl("vimeo-thumb").removeEventListener("load",t),e.getEl("vimeo-thumb").removeEventListener("error",t),e.getEl("vimeo-thumb").classList.add("show"),e.setState("paused","video")}}(this),this.setEl(this.findOne(".vimeo-thumb"),"vimeo-thumb"),this.getEl("vimeo-thumb").addEventListener("load",t),this.getEl("vimeo-thumb").addEventListener("error",t)},i.prototype.beforeShow=function(t){if(this.trigger("ui",{lightbox:!0,flexibleHeight:!0}),t)return this.options.data.autoplay=!t},i.prototype.beforeHide=function(){var t;return window.clearTimeout(this.ensureTimeout),window.clearTimeout(this.autoplayTimeout),null!=(t=this.player)&&"function"==typeof t.pause&&t.pause(),this.trigger("ui",{lightbox:!1,flexibleHeight:!1})},i.prototype.playVideo=function(){return null!=this.player?this.player.play():this.ensure(function(t){return function(){var e,i;return null!=(e=t.player)&&null!=(i=e.element)?i.contentWindow:void 0}}(this),function(t){return function(){return t.playVideo()}}(this))},i.prototype.createPlayer=function(){return this.ensure(function(){var t;return null!=(null!=(t=window.Vimeo)?t.Player:void 0)},function(t){return function(){var e;if(e=t.findOne(".vimeo-player"))return t.player=new Vimeo.Player(e,{id:t.serialize().videoId,width:e.offsetWidth,height:e.offsetHeight,title:!1,portrait:!1,byline:!1,color:"ffffff",autoplay:t.options.data.autoplay,playsinline:!1,allowfullscreen:!0}),t.player.on("ended",function(){return t.onVideoEnded()}),t.player.on("play",function(){return t.setState("playing","video")}),t.player.on("pause",function(){return t.setState("paused","video")}),t.player.on("loaded",function(){return t.setState("paused","video")}),t.loadThumbnail(function(){if(t.options.data.autoplay&&2!==window.location.href.split("thumbnail=true").length)return t.autoplayTimeout=window.setTimeout(function(){return t.playVideo()},400)})}}(this))},i.prototype.onRefresh=function(){return window.clearTimeout(this.autoplayTimeout),window.clearTimeout(this.ensureTimeout),null!=this.player?this.player.loadVideo(this.serialize().videoId):this.createPlayer(),this.setState("loading","video"),this.getEl("vimeo-thumb").classList.remove("show"),this.beforeShow(!0)},i.prototype.submit=function(t){return this.player.off("play ended pause loaded"),this.$(this.player.element).remove(),null!=t&&t.stopImmediatePropagation(),i.__super__.submit.call(this)},i.prototype.onVideoEnded=function(){var t,e;return t=null==(null!=(e=this.options.data)?e.autoProgress:void 0)||this.options.data.autoProgress,t?this.submit():this.setState("touched")},i.prototype.ensure=function(t,e){var i;return(i=function(n){return function(){return t()?e():n.ensureTimeout=window.setTimeout(i,100)}}(this))()},i.prototype.loadThumbnail=function(t){var e,i;return e=function(e){return function(){var i;return null!=(i=e.getEl("vimeo-thumb"))&&(i.src="img/video/empty.png"),e.setState("false","thumb"),t()}}(this),null!=(i=this.request)&&i.abort(),this.request=$.ajax({type:"GET",url:"https://vimeo.com/api/v2/video/"+this.serialize().videoId+".json",dataType:"json",error:e,success:function(i){return function(n){var o,s;return s=(null!=n?n:[])[0],s?(i.videoData=s,null!=(o=i.getEl("vimeo-thumb"))&&(o.src=s.thumbnail_large),t()):e()}}(this)})},i}(n),i.exports=s}),require.register("engine/youtube-video-embed/model.yaml",function(t,e,i){i.exports={title:"youtube-video-embed",display:"YouTube",description:"Embed a video from YouTube",category:"Content",features:{social:!0,online:!0},model:{title:{type:"html"},videoId:{type:"string",display:"YouTube Video ID",help:"The ID of your video can be found in the video's URL after the equals sign. eg. The ID for https://www.youtube.com/watch?v=ZczmRIzr8r4 is ZczmRIzr8r4\n"},autoplay:{type:"boolean",display:"Auto Play","default":!1,help:"Start playing the video automatically when the user views this slide.\n"},startTime:{type:"int",display:"Start Time","default":0,help:"When playing the video, jump ahead to the time specified (in seconds).\n"},endTime:{type:"int",display:"End Time",help:"When playing the video, finish at the time specified (in seconds).\n"},autoProgress:{type:"boolean",display:"Auto Progress","default":!0,help:"Continue to the next slide once this video is over.\n"},showSkipButton:{type:"boolean","default":!1,display:"Display skip button",help:"Allow learners to progress without watching the entire video. Learners will still be able to skip the video after watching it once.\n"},doneText:{type:"html","default":"Continue",display:"Done text"}},examples:[{subtype:"youtube-video-embed",videoId:"ZczmRIzr8r4"}]}}),require.register("engine/youtube-video-embed/template.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push('<div class="yt-content content-fill"><div class="slide-loader content"></div><div class="yt-player text-center content-fill"></div><img'+jade.attr("src","https://img.youtube.com/vi/"+l+"/maxresdefault.jpg",!0,!1)+' class="yt-thumb content-ver block"/><div class="video-controls content"><div class="video-play"></div></div><div'+jade.cls(["slide-footer","block-v-lg",a?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+'><div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||s("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t)?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div></div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"skipButton"in n?n.skipButton:"undefined"!=typeof skipButton?skipButton:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0,"videoId"in n?n.videoId:"undefined"!=typeof videoId?videoId:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("engine/youtube-video-embed/view.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=e("views/slide"),o=e("lib/youtube-api"),r=e("lib/device"),s=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.template=e("./template"),i.prototype.events={"iostap .btn-done":"submit",iostap:"playVideo"},i.prototype.needCaptions=function(){return this.options.data.videoId.indexOf("cc_load_policy")>-1},i.prototype.serialize=function(){var t;return t=i.__super__.serialize.apply(this,arguments),t.submitUp=this.needCaptions(),t.continueBtnText=i18n("video.skip-video"),t.skipButton=null!=(null!=t?t.showSkipButton:void 0)&&t.showSkipButton,t},i.prototype.render=function(){return i.__super__.render.apply(this,arguments),this.player=null,this.waitForAPI()},i.prototype.beforeShow=function(t){if(this.trigger("ui",{lightbox:!0,flexibleHeight:!0}),this.setState("loading","video"),"browser"!==r.platform&&Application.publish("event:rotation-unlock")({}),t&&(this.options.data.autoplay=!t),this.options.data.autoplay&&2!==window.location.href.split("thumbnail=true").length)return this.playVideo()},i.prototype.beforeHide=function(){var t;return window.clearTimeout(this.waitForAPITimeout),window.clearTimeout(this.checkForPlayerTimeout),null!=(t=this.player)&&"function"==typeof t.stopVideo&&t.stopVideo(),"browser"!==r.platform&&Application.publish("event:rotation-lock")({}),this.trigger("ui",{lightbox:!1,flexibleHeight:!1})},i.prototype.waitForAPI=function(){var t;return window.clearTimeout(this.waitForAPITimeout),(t=function(e){return function(){var i;return null!=(null!=(i=window.YT)?i.Player:void 0)?e.createPlayer():e.waitForAPITimeout=window.setTimeout(t,100)}}(this))()},i.prototype.playVideo=function(){var t;return window.clearTimeout(this.checkForPlayerTimeout),(t=function(e){return function(){var i,n;return null!=(null!=(i=e.player)?i.playVideo:void 0)?null!=(n=e.player)&&"function"==typeof n.playVideo?n.playVideo():void 0:e.checkForPlayerTimeout=window.setTimeout(t,100)}}(this))()},i.prototype.createPlayer=function(){var t;return t=this.findOne(".yt-player"),this.player=new YT.Player(t,{videoId:this.options.data.videoId,playerVars:{autoplay:0,controls:"Android"===r.platform,modestbranding:0,showinfo:0,rel:0,start:parseInt(this.options.data.startTime,10)||0,end:parseInt(this.options.data.endTime,10)||void 0},events:{onReady:function(t){return function(){return t.setState("paused","video")}}(this),onStateChange:function(t){return function(e){switch(e.data){case YT.PlayerState.PLAYING:return t.setState("playing","video");case YT.PlayerState.PAUSED:return t.setState("paused","video");case YT.PlayerState.ENDED:return t.onVideoEnded()}}}(this)}})},i.prototype.onRefresh=function(){return this.beforeShow(!0)},i.prototype.onVideoEnded=function(){var t,e;return t=null==(null!=(e=this.options.data)?e.autoProgress:void 0)||this.options.data.autoProgress,t?this.submit():this.setState("touched")},i.prototype.submit=function(t){return null!=t&&t.stopImmediatePropagation(),i.__super__.submit.apply(this,arguments)},i}(n),i.exports=s}),require.register("lib/animate.coffee",function(t,e,i){var n;n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},i.exports=function(t,e){var i,o,s;return null==e&&(e=300),s=Date.now(),i=!0,(o=function(){var r;if(i)return r=Math.min(Date.now()-s,e),r<e?(t(r/e),n(o)):t(1,!0)})(),{cancel:function(){return i=!1}}}}),require.register("lib/convert.coffee",function(t,e,i){var n;n=document.createElement("div"),i.exports={toText:function(t){return n.innerHTML=t,n.textContent.replace(new RegExp(" +","g")," ")},toHTML:function(t){return n.textContent=t,n.innerHTML}}}),require.register("lib/cookies.coffee",function(t,e,i){var n;n=function(){var t,e,i,n,o,s,r;for(t=document.cookie.split(";").map(function(t){var e;return t=t.trim(),e=t.split(/\=/),{name:e[0],value:decodeURIComponent(e[1])}}),e={},i=0,n=t.length;i<n;i++)s=t[i],o=s.name,r=s.value,o.match(/^webed/)&&(e[o.replace("webed_","")]=r);return e},i.exports={read:n}}),require.register("lib/data-processer.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y;u={renderer:new window.marked.Renderer,gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!0,headerPrefix:"ed_"},m=function(t,e,i,n){var o,s,r,a,l;if(null==n&&(n={}),null==t||null==e||"object"!=typeof t)return i(t,e,n);if((Array.isArray||_.isArray)(t))return t.map(function(t,o){return m(t,e.type[0],i,n)});r={};for(o in t)l=t[o],a=t[o+"Type"],s=e[o],null!=s&&(a&&(s.type=a),""===a&&null!=s.types&&(s.type=s.types[0])),r[o]=m(l,s,i,n);return r},d=function(t,e){var i,n,o;null==e&&(e={});try{return n="function"==typeof t.split?t.split(/\n|\<p[^\>]*\>/).length:void 0,o=window.marked(t.toString(),u),"rtl"===e.direction&&(o=o.replace(/[\u2018\u2019]/g,function(t){return function(t){return"‘"===t?"’":"‘"}}(this)),o=o.replace(/[\u201c\u201d]/g,function(t){return function(t){return"“"===t?"”":"“"}}(this))),o=o.replace(/(^\s+|\s+$)/g,""),n<=1&&(o=o.replace(/\<\/?p[^\>]*\>/g,"")),o=o.replace(/\<(ul|ol)\>/g,"<$1 class='md-list'>")}catch(s){return i=s,t}},r=function(t){return/<\/?[a-z][\s\S]*>/i.test(t)},a=function(t){var e;if(!r(t))return t;try{return(new DOMParser).parseFromString(t,"text/html").body.innerHTML}catch(i){return e=i,t}},y=["text","html"],v=function(t){return!!((null!=t?t.type:void 0)||(null!=t?t.types:void 0))&&_.includes(y,t.type||t.types[0])},g=function(t,e,i){var n;return null==i&&(i={}),v(e)&&e.transform!==!1?(n=d(t,i),a(n)):t},n={},p=function(t,i,o){var s,r,a,l;return null==o&&(o={}),s=sha1(JSON.stringify({data:t,type:i})),null!=n[s]?n[s]:(r=null!=(a=e("engine/"+i+"/model"))?a.model:void 0,l=_.extend(t,m(t,r,g,o)),n[s]=l,l)},h=function(t){var e,i,n,o;for(n=t.slides,e=0,i=n.length;e<i;e++)o=n[e],o.data=p(o.data,o.type,t.config);return t},l=function(t){return 0===(null!=t?t.indexOf("http"):void 0)||(null!=t?t.indexOf("fit_content_assets"):void 0)!==-1},s=function(t){return function(e){return isNaN(e)?l(e)?e:t(e):e.split(".").length>1?parseFloat(e).toFixed(e.split(".")[1].length):parseFloat(e)}},c=function(t){return function(e){var i,n,o,r,a,l,d,u,c,p,h,f,m;for(p=e.questions||[],n=r=0,l=p.length;r<l;n=++r)if(c=p[n],null!=(null!=c?c.question:void 0))for(u=e.questions[n],(null!=c&&null!=(h=c.question)?h.content:void 0)&&(u.question.content=s(t)(c.question.content.toString())),(null!=c&&null!=(f=c.question)?f.category:void 0)&&(u.question.category=s(t)(c.question.category.toString())),m=c.answers,o=a=0,d=m.length;a<d;o=++a)i=m[o],null!=(null!=i?i.content:void 0)&&(u.answers[o].content=s(t)(i.content.toString()));return e}},o=_.compose(JSON.parse,JSON.stringify),f=function(t){var e,i,n,s;for(n=t.slides,e=0,i=n.length;e<i;e++)s=n[e],null!=(null!=s?s.metadata:void 0)&&(s.metadata=c(d)(o(s.metadata)),s.strippedMetadata=c(removeMarkdown)(o(s.metadata)));return t},i.exports={one:p,oneMD:c(d),oneSMD:c(removeMarkdown),all:h,allMD:f}}),require.register("lib/device.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c;a={pointer:{isTouch:!1,start:"pointerdown",move:"pointermove",end:"pointerup"},touch:{isTouch:!0,start:"touchstart",move:"touchmove",end:"touchend"},mouse:{isTouch:!1,start:"mousedown",move:"mousemove",end:"mouseup"}},o="onpointerdown"in window?"pointer":"ontouchstart"in window?"touch":"mouse",s=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n=/android/i.test("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0),r=null!=(l=window.frameElement)&&null!=(d=l.dataset)?d.platform:void 0,i.exports={dpi:window.devicePixelRatio||1,isIE:function(){return document.documentMode||/Edge/.test(("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)||"")},platform:(null!=(u=window.__)&&null!=(c=u.slidedeck)?c.platform:void 0)||r||s&&"iOS"||n&&"Android"||"browser",events:{pointer:a[o],resize:"resize"},breakpoint:function(t){var e;return"string"==typeof t&&(t=[t]),e=window.innerWidth<=600?"xs":window.innerWidth<=768?"sm":window.innerWidth<=1024?"md":"lg",t?_.include(t,e):e}}}),require.register("lib/draw/catmull-rom-spline.coffee",function(t,e,i){i.exports=function(t,e){var i,n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b,x;for(null==e&&(e=32),t=[].concat(t),g=t.slice(0,1);t.length>3;){for(u=1*t[3].x-3*t[2].x+3*t[1].x-t[0].x,c=1*t[3].y-3*t[2].y+3*t[1].y-t[0].y,p=2*t[0].x-5*t[1].x+4*t[2].x-t[3].x,h=2*t[0].y-5*t[1].y+4*t[2].y-t[3].y,
y=1/e,b=y*y,x=y*b,i=.5*(x*u+b*p+y*(t[2].x-t[0].x)),n=.5*(x*c+b*h+y*(t[2].y-t[0].y)),o=3*x*u+b*p,s=3*x*c+b*h,r=3*x*u,a=3*x*c,f=t[1].x,m=t[1].y,d=l=0,v=e;0<=v?l<v:l>v;d=0<=v?++l:--l)f+=i,m+=n,i+=o,n+=s,o+=r,s+=a,g.push({x:f,y:m});t.shift()}return g}}),require.register("lib/draw/simplify.coffee",function(t,e,i){var n,o,s,r,a,l;n=function(t,e){var i,n;return i=t.x-e.x,n=t.y-e.y,i*i+n*n},o=function(t,e,i){var n,o,s,r,a;return r=e.x,a=e.y,n=i.x-r,o=i.y-a,0===n&&0===o||(s=((t.x-r)*n+(t.y-a)*o)/(n*n+o*o),s>1?(r=i.x,a=i.y):s>0&&(r+=n*s,a+=o*s)),n=t.x-r,o=t.y-a,n*n+o*o},l=function(t,e){var i,o,s,r,a,l;for(a=t[0],s=[a],l=t.slice(1),i=0,o=l.length;i<o;i++)r=l[i],n(r,a)>e&&(s.push(r),a=r);return a!==r&&s.push(r),s},r=function(t,e,i,n,s){var a,l,d,u,c,p,h;for(u=n,a=d=c=e+1,p=i;c<=p?d<p:d>p;a=c<=p?++d:--d)h=o(t[a],t[e],t[i]),h>u&&(l=a,u=h);if(u>n&&(l-e>1&&r(t,e,l,n,s),s.push(t[l]),i-l>1))return r(t,l,i,n,s)},a=function(t,e){var i,n;return i=t.length-1,n=t.slice(0,1),r(t,0,i,e,n),n.push(t[i]),n},s=function(t,e,i){var n;return null==e&&(e=1),t.length<=2?t:(n=Math.pow(e,2),t=i?t:l(t,n),a(t,n))},i.exports=s}),require.register("lib/draw/smooth-line.coffee",function(t,e,i){var n,o,s,r;s=e("lib/draw/catmull-rom-spline"),n=e("lib/draw/simplify"),r=e("lib/animate"),o=function(){function t(t,e,i){this.points=null!=t?t:[],this.__color=e,this.__width=i,this.timestamp=Date.now()}return t.prototype.add=function(t){var e,i,o,s,r;return this.points.push(t),o=this.points.slice(-50,-1),s=this.points.slice(1,-o.length-1),e=this.points.slice(0,1),i=this.points.slice(-1),r=n(o,Math.pow(o.length,.3),!0),this.points=e.concat(s,r,i),this},t.prototype.remove=function(t){return t?this.points.shift():this.points.pop()},t.prototype.length=function(){return this.points.length},t.prototype.getSpline=function(){return s(this.points)},t.prototype.getPoints=function(){return[].concat(this.points)},t.prototype.erase=function(t,e){var i,n,o,s,a;return s=_.clone(this.getSpline()).reverse(),o=s.length-1,a=this.__width,i=function(i){return function(n){var r,l,d,u,c,p,h,f;if("function"==typeof e&&e(n),t.globalAlpha=1-n,s.length>1)return u=Math.ceil(n*o),h=s.slice(0,Math.max(o-u+1,2)),f=h.slice(-2),c=f[0],p=f[1],r=(u/o-n)*o,l=r*(c.x-p.x),d=r*(c.y-p.y),h[h.length-1]={x:c.x-l,y:c.y-d},i.__width=a+Math.sin(n*Math.PI)*a*1.2,i.points=h,i.draw(t,!1),1===n?i.__width=a:void 0}}(this),n=Math.max(Math.min(Date.now()-this.timestamp,3e3),600),this.animation=r(i,n)},t.prototype.draw=function(t,e){var i,n,o,s,r,a,l;if(null==e&&(e=!0),s=e?this.getSpline():this.points,this.__color&&(t.strokeStyle=this.__color),this.__width&&(t.lineWidth=this.__width),s.length>1){for(t.beginPath(),i=n=0,o=s.length;n<o;i=++n)r=s[i],a=r.x,l=r.y,t[0===i?"moveTo":"lineTo"](a,l);return t.stroke()}},t}(),i.exports=o}),require.register("lib/easie.coffee",function(t,e,i){var n;n={backIn:function(t,e,i,n,o){return null==o&&(o=1.70158),i*(t/=n)*t*((o+1)*t-o)+e},backOut:function(t,e,i,n,o){return null==o&&(o=1.70158),i*((t=t/n-1)*t*((o+1)*t+o)+1)+e},backInOut:function(t,e,i,n,o){return null==o&&(o=1.70158),(t/=n/2)<1?i/2*(t*t*(((o*=1.525)+1)*t-o))+e:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+e},bounceOut:function(t,e,i,n){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e},bounceIn:function(t,e,i,o){return i-n.bounceOut(o-t,0,i,o)+e},bounceInOut:function(t,e,i,o){return t<o/2?.5*n.bounceIn(2*t,0,i,o)+e:.5*n.bounceOut(2*t-o,0,i,o)+.5*i+e},circIn:function(t,e,i,n){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e},circOut:function(t,e,i,n){return i*Math.sqrt(1-(t=t/n-1)*t)+e},circInOut:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},cubicIn:function(t,e,i,n){return i*(t/=n)*t*t+e},cubicOut:function(t,e,i,n){return i*((t=t/n-1)*t*t+1)+e},cubicInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},elasticOut:function(t,e,i,n,o,s){var r;return null==o&&(o=null),null==s&&(s=null),0===t?e:1===(t/=n)?e+i:(null==s&&(s=.3*n),null==o||o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),o*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/s)+i+e)},elasticIn:function(t,e,i,n,o,s){var r;return null==o&&(o=null),null==s&&(s=null),0===t?e:1===(t/=n)?e+i:(null==s&&(s=.3*n),null==o||o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),t-=1,-(o*Math.pow(2,10*t))*Math.sin((t*n-r)*(2*Math.PI)/s)+e)},elasticInOut:function(t,e,i,n,o,s){var r;return null==o&&(o=null),null==s&&(s=null),0===t?e:2===(t/=n/2)?e+i:(null==s&&(s=n*(.3*1.5)),null==o||o<Math.abs(i)?(o=i,r=s/4):r=s/(2*Math.PI)*Math.asin(i/o),t<1?-.5*(o*Math.pow(2,10*(t-=1)))*Math.sin((t*n-r)*(2*Math.PI/s))+e:o*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/s)+i+e)},expoIn:function(t,e,i,n){return 0===t?e:i*Math.pow(2,10*(t/n-1))+e},expoOut:function(t,e,i,n){return t===n?e+i:i*(-Math.pow(2,-10*t/n)+1)+e},expoInOut:function(t,e,i,n){return 0===t?e:t===n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(-Math.pow(2,-10*(t-1))+2)+e},linearNone:function(t,e,i,n){return i*t/n+e},linearIn:function(t,e,i,o){return n.linearNone(t,e,i,o)},linearOut:function(t,e,i,o){return n.linearNone(t,e,i,o)},linearInOut:function(t,e,i,o){return n.linearNone(t,e,i,o)},quadIn:function(t,e,i,n){return i*(t/=n)*t+e},quadOut:function(t,e,i,n){return-i*(t/=n)*(t-2)+e},quadInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:-i/2*((t-=1)*(t-2)-1)+e},quartIn:function(t,e,i,n){return i*(t/=n)*t*t*t+e},quartOut:function(t,e,i,n){return-i*((t=t/n-1)*t*t*t-1)+e},quartInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},quintIn:function(t,e,i,n){return i*(t/=n)*t*t*t*t+e},quintOut:function(t,e,i,n){return i*((t=t/n-1)*t*t*t*t+1)+e},quintInOut:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},sineIn:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e},sineOut:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e},sineInOut:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}},i.exports=n}),require.register("lib/element.coffee",function(t,e,i){var n,o,s,r;n=e("lib/prefix"),o=function(t,e){var i,n,o,s,r,a,l;return null==e&&(e={x:0,y:0}),s=t.getBoundingClientRect(),a=s.top,o=s.left,r=s.right,i=s.bottom,l=s.width,n=s.height,{top:a+e.y,left:o+e.x,right:r+e.x,bottom:i+e.y,width:l,height:n}},s=function(t,e){var i,o,s,a,l,d,u;if(null==t)return console.error("No element to style");if(_.isObject(e)){if(l=e.x,d=e.y,u=e.z,s=e.scale,a=e.skew,o=e.rotate,i=e.opacity,null==l&&(l=0),null==d&&(d=0),null==u&&(u=0),null==a&&(a=0),null==s&&(s=1),null==o&&(o=0),"number"==typeof l&&(l+="px"),"number"==typeof d&&(d+="px"),"number"==typeof a&&(a+="deg"),"number"==typeof o&&(o+="deg"),t.style[n("transform")]="translate3d("+l+", "+d+", 0)\nskew("+a+")\nscale("+s+")\nrotate("+o+")",null!=i&&(t.style.opacity=i),null!=e.transition)return r(t,e.transition)}else if(_.isString(e))return t.style[n("transform")]=e},r=function(t,e,i){return null==t?console.error("No element to style"):(t.style[n("transition")]=e,i?t.offsetLeft:void 0)},i.exports={getBounds:o,transform:s,transition:r}}),require.register("lib/fit-text.coffee",function(t,e,i){var n,o,s,r,a,l;r=8,s=12,o=.5,n={position:"absolute",top:"-100%",left:"-100%",visibility:"hidden",fontSize:""},a=function(t){var e,i,o,s,r,a,l,d;l=window.getComputedStyle(t),i=t.cloneNode(),i.innerHTML=t.innerHTML;for(s in n)d=n[s],i.style[s]=d;for(a=["width","height","padding","border"],o=0,r=a.length;o<r;o++)e=a[o],i.style[e]=l[e];return i.classList.add("content-fit-clone"),i},l=function(){var t;return t=document.createElement("div"),t.id="content-spacer",t},i.exports=function(t,e){var i,n,d,u,c,p,h,f;return t?(c="auto"===window.getComputedStyle(t).overflow?s:r,t.classList.add("fitting"),t.classList.remove("fitted"),p=t.parentNode,n=a(t),f=l(),i=!0,p.appendChild(n),n.appendChild(f),u=parseFloat(window.getComputedStyle(p).fontSize),d=p.offsetHeight,(h=function(s){var r;if(i)return s!==f.offsetTop?window.setTimeout(function(){return h(f.offsetTop)},0):f.offsetTop>d&&u>c?(u-=o,n.style.fontSize=u+"px",h(s)):(t.style.fontSize=n.style.fontSize,t.offsetHeight,t.classList.remove("fitting"),t.classList.add("fitted"),"function"==typeof e&&e(),null!=(r=n.parentNode)?r.removeChild(n):void 0)})(top),{cancel:function(){return i=!1}}):"function"==typeof e?e():void 0}}),require.register("lib/i18n.coffee",function(t,e,i){var n,o,s,r=[].slice;n=function(t){var i;t=t.toLowerCase();try{return i=e("../data/locales/"+t+".yaml")}catch(n){}finally{}},o=function(t){var e,i;for(null==t&&(t="en");""!==t;){if(i=n(t))return i;e=t.split("-"),e.pop(),t=e.join("-")}return n(t)},s=function(t){var e,i,n;return null==t&&(t=("undefined"!=typeof navigator&&null!==navigator?navigator.language:void 0)||"en"),i=new Polyglot({locale:t}),n=o(t),e=o("en"),i.extend(e),i.extend(n),"undefined"!=typeof moment&&null!==moment&&moment.locale(t),window.i18n=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],i.t.apply(i,t)}},i.exports={initialize:s}}),require.register("lib/logger.coffee",function(t,e,i){var n,o=[].slice;n=function(){function t(){var t,e,i,n,s;return i=arguments[0],n=arguments[1],e=arguments[2],t=4<=arguments.length?o.call(arguments,3):[],null==i&&(i=!1),null==n&&(n=""),null==e&&(e="#333"),i&&("undefined"!=typeof console&&null!==console&&null!=(s=console.log)&&"function"==typeof s.bind?s.bind.apply(s,[console,"%c %c"+n+"%c →","background: "+e+"; border-radius: 10px; padding-left: 5px; font-size: xx-small; margin-right: 5px;","color: #333; font-weight: bold;",""].concat(o.call(t))):void 0)||function(){}}return t}(),i.exports=n}),require.register("lib/middleware.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v=[].slice;u=function(t){return function(e){var i,n,o,s;if(0!==t.length)return n=t[0],s=t.slice(1,t.length),o=u(s),i=n.process||c(n.type,n.commands),null!=e?i(e,o):void 0}},c=function(t,e){return function(i,n){var o,s,r,a;return a=i.type,o=i.command,r=i.params,a===t?(s=e(n)[o],n(null!=s?s.apply(null,r):{type:a,command:o,params:r})):n({type:a,command:o,params:r})}},m=function(t,e,i){var n,o,s;return o=document.createElement("IFRAME"),n=e(t,i),s="gap-code://"+escape(unescape(encodeURIComponent(n))),o.setAttribute("src",s),document.documentElement.appendChild(o),o.parentNode.removeChild(o),o=null},f=[],p=function(t){var i,n,o,s,r,a;for(s=[],n=0,o=t.length;n<o;n++){a=t[n];try{r=e(a),s.push(r)}catch(l){i=l,console.error("Error while requiring "+a,i)}}return f=s,Backbone.Events.on("publish",u(f))},n=function(t,e,i){return null==i&&(i="publish"),function(){var n,o;return o=1<=arguments.length?v.call(arguments,0):[],n=i,"subscribe"===i&&(n+=":"+t+":"+e),Backbone.Events.trigger(n,{type:t,command:e,params:o})}},d={},r=function(t,e){var i,o,s,r,a,l,u;for(d={},l=[],o=0,s=t.length;o<s;o++)r=t[o],null!=r.type?(a=r.type[0].toUpperCase()+r.type.slice(1),d[a]={},null!=r.commands?l.push(function(){var t,e;t=r.commands(),e=[];for(i in t)u=t[i],e.push(d[a][i]=n(r.type,i));return e}()):l.push(void 0)):l.push(void 0);return l},h=function(t,i){var n,o,s;n=[];for(s in t)o=t[s],s!==i&&(n=n.concat(o));return n=n.concat(t[i]),r(n.map(e)),_.isString(i)?p(t[i]):_.isArray(i)?p(i):void 0},s=function(t){return null!=t?null!=d?d[t]:void 0:d},o=function(t){return null==t&&(t="publish"),function(e){var i,o,s;return o=e.split(/\:/),s=o[0],i=o[1],n(s,i,t)}},l={browser:["lib/middleware/session","lib/middleware/backbone_event","lib/middleware/webview","lib/middleware/browser/analytics","lib/middleware/browser/app_lesson","lib/middleware/browser/sound"],scorm:["lib/middleware/session","lib/middleware/backbone_event","lib/middleware/webview","lib/middleware/scorm/scorm_analytics","lib/middleware/scorm/scorm_lesson","lib/middleware/browser/sound"]},a=function(t){var e;return null==t&&(t=(null!=(e=window.__)?e.platform:void 0)||"browser"),h(l,t)},i.exports={process:u,run:m,initialize:a,actions:s,action:o(),publish:o("publish"),subscribe:o("subscribe")}}),require.register("lib/middleware/backbone_event.coffee",function(t,e,i){var n,o,s,r;n=!1,o=function(t){var e,i,o,s,r,a,l;return e=t.command,l=t.type,o=t.params,i="Backbone.Events.trigger(",i+=null!=(null!=(s=window.__)&&null!=(r=s.slidedeck)?r.id:void 0)?"'slidedeck:"+window.__.slidedeck.id+(":"+e+"'"):null!=(null!=(a=window.__)?a.challenge:void 0)?"'challenge:"+e+"'":"'"+e+"'",_.isArray(o)&&o.length>0&&(i+=", "+JSON.stringify(o[0])),i+=");",n&&console.log("BACKBONE",i),i},r=function(t){var e,i;if(null!=(i=window.parent)?i.postMessage:void 0)return e=o(t),window.parent.postMessage(e,"*")},s=function(t,e){return"event"===(null!=t?t.type:void 0)?r(t,null):e(t)},i.exports={process:s,type:"backbone_event"}}),require.register("lib/middleware/browser/analytics.coffee",function(t,e,i){var n,o,s,r,a,l;l=function(t,e){return Application.publish("event:view")(t)},a=function(t){return Application.publish("event:interaction")(t)},r=function(){},o=function(){},s=function(){},n=function(t){return{trackInteraction:a,trackView:l,startTracking:o,stopTracking:s,trackEvent:r}},i.exports={type:"analytics",commands:n}}),require.register("lib/middleware/browser/app_lesson.coffee",function(exports,require,module){var commands,complete,exit,open,opener,receiveMessage;complete=function(t,e){return Application.publish("event:completed")({})},open=function(){},exit=function(){},commands=function(t){return{complete:complete,open:open,exit:exit}},receiveMessage=function(event){var err,origin;origin=event.origin||event.originalEvent.origin,commands=event.data;try{return eval(commands)}catch(error){err=error}},window.addEventListener("message",receiveMessage,!1),opener=window.opener||window.parent,null!=opener&&opener.postMessage("Backbone.Events.trigger('lesson-ready');","*"),module.exports={type:"lesson",commands:commands}}),require.register("lib/middleware/browser/sound-audio-api.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b,x,w,k,D,T,j,E,C,S,q,L,A,P,I,M;for(q={},I={},d=!0,n=window.AudioContext||window.webkitAudioContext,o=!1,D=[],L={},r=!1,s=null,M=["click","touchend","touchstart"],Backbone.Events.on("publish",function(t){if("video-play"===t.command&&null==s)return r=!0}),y=function(){return new Promise(function(t,e){return null==s&&(s=new n),r?(r=!1,s.close().then(function(){return t(s=new n)})):t(s)})},v=function(t){return t=t.replace("system:","audio/"),t.match(/\.[^\.]+$/)?t:t+".mp3"},w=function(t){var e,i,n,o;return i=!1,e=function(){return i=!0},n=function(){return i},o=new Promise(function(e,n){var o;return o=new XMLHttpRequest,o.open("GET",t,!0),o.responseType="arraybuffer",o.onload=function(){return i?n("sound cancelled"):y().then(function(t){return t.decodeAudioData(o.response,e,n)})},o.onerror=function(){return n("load error")},o.send()}),{promise:o,cancel:e,isCancelled:n}},m=function(t){return new Promise(function(e,i){return null!=L[t]&&L[t].length>0?e(L[t][L[t].length-1]):i("no audio playing")})},f=function(t,e){return null==e&&(e=q),t.match("system:")?d&&(e[t]=w(v(t))):e[t]=w(v(t)),null==e[t]?null:e[t].promise.then(function(i){if(e[t].isCancelled())throw new Error("sound cancelled");return y().then(function(e){var n,o;return n=e.createBufferSource(),o=e.createGain(),n.buffer=i,n.connect(o),o.connect(e.destination),null==L[t]&&(L[t]=[]),L[t].push({bufferSource:n,gain:o}),{bufferSource:n,gain:o}})})},C=function(t,e,i){return null==i&&(i=function(){}),o?(f(t),i()):D.push({path:t,id:e,cb:i})},j=function(t){return null==t&&(t=function(){}),y().then(function(e){var i,n,s,r,a,l,d;if(e.state===!1&&o===!0)return t();for(P(),o=!0,n=e.createBuffer(2,22050,44100),i=e.createBufferSource(),i.buffer=n,i.connect(e.destination),i.start(),s=0,a=D.length;s<a;s++)d=D[s],l=d.path,r=d.id,t=d.cb,C(l,r,t);return t()})["catch"](function(t){return console.warn("sound error",t)})},g=function(t){var e,i,n,o;for(o=t.type,i=0,n=M.length;i<n;i++)e=M[i],window.removeEventListener(e,g,!0);return j()},b=0,x=M.length;b<x;b++)u=M[b],window.addEventListener(u,g,!0);S=null,E=function(t){var e,i;return e=t.clearTimer,i=t.source,function(t,n){var s,r;return null==n&&(n=function(){}),r=null!=i?new Promise(function(t,e){return t(i)}):f(t),null==r?void n({name:t}):(o=!0,s=!1,r.then(function(i){var o,r,a,l,d,u,c;return o=i.bufferSource,e&&window.clearTimeout(I[t]),_.isFunction(n)||(u=n,l=u.onProgress,a=u.onComplete,n=u.cb,c=Date.now(),r=1e3*o.buffer.duration,d=function(){var t;return s?window.clearInterval(S):(t=(Date.now()-c)/r,t=Math.min(t,1),l(t))},o.onended=function(){return s=!0,l(1),a()},null!=S&&window.clearInterval(S),window.setInterval(d,20)),o.start(0),n({name:t})}))}},T=E({clearTimer:!0}),k=function(t,e){var i;return null==e&&(e=function(){}),i=f(t),null==i?void e():i.then(function(i){var n,o,s,r,a;if(n=i.bufferSource,r=i.gain,o=1e3*n.buffer.duration,o>0)return window.clearTimeout(I[t]),s=!0,(a=function(){return s?(E({clearTimer:!1,source:{bufferSource:n,gain:r}})(t),s=!1):E({clearTimer:!1})(t),I[t]=window.setTimeout(a,o)})(),e()})},c=function(t,e,i){return null==e&&(e=2e3),null==i&&(i=.05),k(t,function(){return m(t).then(function(t){var n,o,s;return n=t.bufferSource,o=t.gain,o.gain.value=0,(s=function(){if(o.gain.value=Math.max((o.gain.value||0)+i,0),o.gain.value<1)return window.setTimeout(s,e*i)})()})})},p=function(t,e,i){return null==e&&(e=2e3),null==i&&(i=.05),m(t).then(function(n){var o,s,r,a;return o=n.bufferSource,s=n.gain,r=0,(a=function(){if(r+=i*e,s.gain.value=Math.max((s.gain.value||1)-i,0),r<e)return window.setTimeout(a,e*i);window.clearTimeout(I[t]);try{return o.stop()}catch(n){}})()})},P=function(){var t,e,i,n,o,s,r,a,l;a=[];for(o in L){for(l=L[o],null!=(s=q[o])&&"function"==typeof s.cancel&&s.cancel(),i=0,n=l.length;i<n;i++){r=l[i],t=r.bufferSource,e=r.gain;try{t.stop()}catch(d){}}L[o]=[],a.push(window.clearTimeout(I[o]))}return a},A=function(t,e){var i,n,o,s,r,a,l;for(null==e&&(e=function(){}),window.clearTimeout(I[t]),null!=(r=q[t])&&"function"==typeof r.cancel&&r.cancel(),a=L[t]||[],o=0,s=a.length;o<s;o++){l=a[o],i=l.bufferSource,n=l.gain;try{i.stop()}catch(d){}}return L[t]=[],e()},l=function(){return d=!1},h=function(t){return y().then(function(e){return"suspended"===e.state?t(null,!1):t(null,o)})},a=function(t){return{preload:C,stop:A,play:T,stopAll:P,fadeIn:c,fadeOut:p,disableSystemSounds:l,loop:k,stopId:A,playId:T,loopId:k,playEmpty:j,firstSoundPlayed:h}},i.exports={type:"sound",commands:a}}),require.register("lib/middleware/browser/sound-html.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b;v={},n={},b={},r=!0,p=function(t){return t=t.replace("system:","audio/"),t.match(/\.[^\.]+$/)?t:t+".mp3"},u=function(t,e){return null==e&&(e=v),null==t?null:e[t]?e[t]:t.match("system:")?r?e[t]=new Audio(p(t)):void 0:e[t]=new Audio(p(t))},m=function(t,e,i){return null==i&&(i=function(){}),u(t),i()},f=function(t,e){var i,n,o,s,r,a;return null==e&&(e=function(){}),a=u(t),window.clearTimeout(b[t]),null!=a&&(i=$(a).off(),_.isFunction(e)||(r=e,o=r.onProgress,n=r.onComplete,e=r.cb,s=function(){return o(a.currentTime/a.duration)},i.on("ended",n),i.on("timeupdate",s)),a.currentTime>0&&(a.currentTime=0),a.play()),e({name:t})},h=function(t,e){var i,n,o,s,r;if(null==e&&(e=function(){}),c(t),s=u(t),null!=s){if(i=c(t),n=s,o=1e3*n.duration,!(o>0))return;window.clearTimeout(b[t]),(r=function(){return n.currentTime=0,n.play(),n=n===s?i:s,b[t]=window.setTimeout(r,o)})()}return e()},g=function(t,e){var i,o;return null==e&&(e=function(){}),window.clearTimeout(b[t]),null!=(i=u(t))&&i.pause(),null!=(o=u(t,n))&&o.pause(),e()},c=function(t){return null==n[t]&&(n[t]=new Audio(p(t))),n[t]},a=function(t,e,i){var n,o,s,r;if(null==e&&(e=2e3),null==i&&(i=.05),r=u(t),n=c(t),o=0,null!=r)return h(t),n.volume=r.volume=0,(s=function(){if(n.volume=r.volume=Math.min(r.volume+i,1),r.volume<1&&o<e)return o+=e*i,window.setTimeout(s,e*i)})()},l=function(t,e,i){var o,s,r,a;if(null==e&&(e=2e3),null==i&&(i=.05),a=u(t),o=u(t,n),s=0,null!=a)return(r=function(){return o.volume=a.volume=Math.max(a.volume-i,0),a.volume>0&&s<e?(s+=e*i,window.setTimeout(r,e*i)):(g(t),o.volume=a.volume=1)})()},y=function(){var t,e,i;e=[];for(t in v)i=v[t],e.push(i.pause());return e},s=function(){return r=!1},d=function(t){return t(null,!0)},o=function(t){return{preload:m,stop:g,play:f,stopAll:y,fadeIn:a,fadeOut:l,disableSystemSounds:s,loop:h,stopId:g,playId:f,loopId:h,firstSoundPlayed:d}},i.exports={type:"sound",commands:o}}),require.register("lib/middleware/browser/sound.coffee",function(t,e,i){var n;n=window.AudioContext||window.webkitAudioContext,i.exports=e(null!=n&&"undefined"!=typeof Promise&&null!==Promise?"./sound-audio-api":"./sound-html")}),require.register("lib/middleware/scorm/scorm_analytics.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p;o=[],s={},l=function(t,e){null==e&&(e=function(){})},p=function(t,e){null==e&&(e=function(){})},u=function(t,e){var i,n,r,a,l,d,u,c;if(null==e&&(e=function(){}),o.push(t),null!=(null!=t&&null!=(l=t.configuration)?l.nb_stars:void 0)||null!=(null!=t&&null!=(d=t.configuration)?d.weighting:void 0))return a=t.name,c=null!=t.configuration.weighting?t.configuration.weighting:t.configuration.nb_stars,i=t.game?(u=t.slideData.game.stars,n=u.max,r=u.min,u,null!=t.configuration.weighting?t.score.total<r?0:t.score.total>n?c:Math.floor((t.score.total-r)/((n-r)/c)):t.nb_stars_earned):t.correct?c:0,s[a]={earned:i,total:c}},c=function(t,e){var i,n,o,r,a,l,d;return null==t&&(t=0),null==e&&(e=!1),o=function(){var t;t=[];for(l in s)d=s[l],t.push(d);return t}()||[],i=o.reduce(function(t,e){return t+e.earned},0),r=o.reduce(function(t,e){return t+e.total},0),n=100*i/r,pipwerks.SCORM.set("cmi.core.score.raw",i),pipwerks.SCORM.set("cmi.core.score.min",0),pipwerks.SCORM.set("cmi.core.score.max",r),pipwerks.SCORM.set("cmi.score.raw",i),pipwerks.SCORM.set("cmi.score.min",0),pipwerks.SCORM.set("cmi.score.max",r),0===r||0===o.length||n>=t?(pipwerks.SCORM.set("cmi.completion_status","completed"),console.log("SCORM lesson completed"),pipwerks.SCORM.set("cmi.core.lesson_status","passed")):(a=e?"incomplete":"failed",pipwerks.SCORM.set("cmi.completion_status","incomplete"),pipwerks.SCORM.set("cmi.core.lesson_status",a))},d=function(){},r=function(){},a=function(){},n=function(t){return{trackInteraction:u,trackView:p,startTracking:r,stopTracking:a,trackEvent:d,trackScoreAndCompletion:c}},i.exports={type:"analytics",commands:n}}),require.register("lib/middleware/scorm/scorm_lesson.coffee",function(t,e,i){var n,o,s,r,a,l,d,u;n=e("../../../models/lesson"),u=null,a=function(){var t;return u=Date.now(),t=new n,t.load(function(t,e){var i,n;return i={preventLogoutOnExit:!!(null!=e&&null!=(n=e.config)?n.preventLogoutOnExit:void 0)},pipwerks.SCORM.init(i)})},l=function(t,e){var i,n,o;return null==t&&(t=""),n="",o=t.toString().length,o>=e?t:(i=e-o+1,new Array(i).join("0").substr(0,e-o)+t)},d=function(){var t,e,i,n,o;return t=Date.now(),o=Math.floor((t-u)/1e3),e=Math.floor(o/3600),i=Math.floor((o-3600*e)/60),n=o-3600*e+60*i,o=[l(e,4),l(i,2),l(n,2)].join(":"),pipwerks.SCORM.set("cmi.core.session_time",o)},s=function(){var t;return d(),t=new n,t.load(function(t,e){var i,n,o;return e?(o=e.config||{},n=o.minimumScore,i=o.incompleteOnFail,Application.actions("Analytics").trackScoreAndCompletion(n,i)):console.error("Error loading lesson data",t),e.config.hasScormExitButton?pipwerks.SCORM.save():pipwerks.SCORM.quit()})},r=function(){return d(),pipwerks.SCORM.quit()},o=function(t){return{complete:s,open:a,exit:r}},i.exports={type:"lesson",commands:o}}),require.register("lib/middleware/session.coffee",function(t,e,i){var n,o,s;s=function(t){var e,i,n,o;return o=Date.now(),i=5e3,n=50,(e=function(t){return null!=("undefined"!=typeof __&&null!==__?__.slidedeck:void 0)?t(null,__.slidedeck):Date.now()-o>i?t(new Error("timeout")):setTimeout(function(){return e(t)},n)})(t)},o=function(t){return t(null,null!=("undefined"!=typeof __&&null!==__?__.slidedeck:void 0)?__.slidedeck:{})},n=function(t){return{get:o,waitAndGet:s}},i.exports={type:"session",commands:n}}),require.register("lib/middleware/webview.coffee",function(t,e,i){var n;n=function(t,e){var i,n,o;return"url"===(null!=t?t.type:void 0)?(i=t.params[0],n=i.target,o=i.url,0!==o.indexOf("http")&&0!==o.indexOf("#")&&(o="http://"+o),window.open(o,n)):e(t)},i.exports={process:n,type:"url"}}),require.register("lib/prefix.coffee",function(t,e,i){var n,o,s;o=document.createElement("div").style,n=function(){function t(){}return t.prototype.vendorPrefixes={},t.prototype._getVendorPrefixFor=function(t){var e,i,n,s,r,a,l;for(a=t.substr(0,1),e=a.toUpperCase(),r=[a,"webkit"+e,"Moz"+e,"ms"+e,"O"+e],i=0,n=r.length;i<n;i++)if(l=r[i],s=l+t.substr(1),s in o)return l.substr(0,l.length-1);return!1},t.prototype._camelCase=function(t){return t.replace(/\-(\w)/gi,function(t,e){return e.toUpperCase()})},t.prototype.prefix=function(t){var e,i;return t=this._camelCase(t),i=this._getVendorPrefixFor(t),""===i?t:!!i&&(null!=(e=this.vendorPrefixes)[t]?e[t]:e[t]=i+t.charAt(0).toUpperCase()+t.substr(1))},t}(),s=new n,i.exports=function(t){return s.prefix(t)}}),require.register("lib/preload.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h=[].slice;n=function(){var t;return t=1<=arguments.length?h.call(arguments,0):[],console.log.apply(console,t)},p={image:["png","jpg","jpeg","gif","svg"],video:["mp4","mpeg","m4v"],audio:["wav","mp3"]},u=[];for(c in p)s=p[c],u[c]=new RegExp(".("+s.join("|")+")$","i");r=function(t,e){return null!=t&&"function"==typeof t.match?t.match(u[e]):void 0},o=function(){function t(){this.image=new Image,this.audio=new Audio,this.src=null,this.type=null}return t.prototype.onload=function(){},t.prototype.onerror=function(){},t.prototype.remove=function(){},t.prototype.setSrc=function(t){return this.src=t,t.match(u.image)?(this.type="image",this.image.src=t,this.image.onload=function(t){return function(){return t.onload()}}(this),this.image.onerror=function(t){return function(){return t.onerror()}}(this)):t.match(u.audio)?(this.type="audio",$.ajax({url:t,type:"GET",success:function(t){return function(){return t.onload()}}(this),error:function(t){return function(){return t.onerror()}}(this)})):console.error("Unrecognized type")},t.prototype.getSrc=function(){return this.src},t.prototype.getType=function(){return this.type},t.prototype.getContent=function(){return this.image||this.audio},t}(),a=function(t,e,i,s){var r,a,l,d,u,c,p,h,f,m,v,g;if(null==t&&(t=[]),null==i&&(i=4),null==s&&(s=3e3),0===t.length)return"function"==typeof e?e():void 0;if(t=_.compact(t),0===t.length)return"function"==typeof e?e():void 0;a=0,d=[],r=!1,m=Date.now(),g=t.length,h=function(){var t,e,n;for(n=[],p=t=0,e=i;0<=e?t<e:t>e;p=0<=e?++t:--t)n.push(new o);return n}(),c=_.groupBy(t,function(t,e,n){return Math.floor(e/n.length*i)}),n("loading "+t.length+" media element(s)"),f=function(){var t,i,o,s,l,u,c;for(window.clearTimeout(v),r=!0,t=Date.now()-m,l=function(t){return!!t&&t.getSrc()&&d.indexOf(t.getSrc())===-1},s=function(){var t,e,n;for(n=[],t=0,e=h.length;t<e;t++)i=h[t],l(i)&&"image"===i.getType()&&n.push(i.getContent());return n}(),"function"==typeof e&&e(d,s),n("loaded "+a+"/"+g+" media element(s) in "+t+"ms"),u=0,c=h.length;u<c;u++)o=h[u],o.remove();return h=null},u=function(e,i){var o,s,l,u;return s=h[i],u=function(i,n){if(n||a++,a===t.length&&f(),e.length>0&&!r)return o()},l=function(t){return d.push(t.getSrc()),n("✕ error loading "+t.getSrc()),u(t,!0)},o=function(){return s.setSrc(e.shift())},s.onload=function(){return u(this)},s.onerror=function(){return l(this)},o()};for(p in c)l=c[p],u(l,p);return v=window.setTimeout(function(){return f()},s)},d=function(){var t;return t=["img/templates/loader-light.gif","img/templates/loader.gif","img/templates/star-default.png","img/templates/star-earned.png","img/templates/star-light.png","img/video/empty.png","img/expand-browser.png","img/rotate-device.png"],this.load(t)},l=function(t){var e,i,n,o,s,l,d;for(l=function(t,e){var i;return t&&Array.isArray(t)?t.map(function(t){return l(t,e)}):t&&"object"==typeof t?(i={},Object.keys(t).forEach(function(n){return i[n]=l(t[n],e)}),i):e(t)},o=[],e=function(t){return l(t,function(t){if(r(t,"audio")||r(t,"image"))return o.push(t)})},i=0,n=t.length;i<n;i++)d=t[i],e(d);return s=function(){},a(o,s,4,4e4)},i.exports={load:a,preloadThomasAssets:d,preloadLessonAssets:l}}),require.register("lib/router.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;o=e("views/main"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.initialize=function(){return this.mainView=new o({el:"body"})},e.prototype.routes={"slide(/:index)(?:query)":"slide","*default":"default"},e.prototype["default"]=function(){return this.navigate("slide/1",!0)},e.prototype.slide=function(t,e){var i,n,o,s,r,a,l,d;for(null==t&&(t=1),null==e&&(e=""),r={},a=e.split("&"),i=0,o=a.length;i<o;i++)s=a[i],s&&(l=s.split("="),n=l[0],d=l[1],r[n]=function(){try{return JSON.parse(d)}catch(t){d=t}}());return this.mainView.display("slides",_.extend(r,{index:t}))},e}(Backbone.Router),i.exports=n}),require.register("lib/scorm.coffee",function(t,e,i){var n,o,s;o=function(t,e,i){return null!=t[e]?t[e].value:i},n=function(t,e,i){return null!=t[e]?parseInt(t[e].value,10):i},s=function(t){var e,i,s,r,a,l;return a=function(){var e,i;return a=0,i=n(t,"cmi.core.score.min",0),e=n(t,"cmi.core.score.max",100),a=n(t,"cmi.core.score.raw",null),l()&&null==a&&(a=100),a},i=function(){return o(t,"cmi.core.session_time",null)},s=function(){var e;return"incomplete"===(null!=(e=t["cmi.core.lesson_status"])?e.value:void 0)},l=function(){var e,i;return"passed"===(e=null!=(i=t["cmi.core.lesson_status"])?i.value:void 0)||"completed"===e},r=function(){var e,i,n,o,s,a,l,d,u,c,p,h,f;r=[];try{if(i=!0,n=0,l=Object.keys(t),a="cmi.interactions.0.",p=l.filter(function(t){return 0===t.indexOf(a)}),i=p.length>0)for(o=0,u=p.length;o<u;o++)for(s=p[o],f=t[s].value,_.isArray(f)||(f=[f]),n=d=0,c=f.length;d<c;n=++d)h=f[n],null==r[n]&&(r[n]={}),r[n][s.replace(a,"")]=decodeURIComponent(h)}catch(m){e=m,console.error("Error while parsing SCORM interactions",e)}return r},e=function(){return _.extend(t,{interactions:r(),score:a(),duration:i(),success:l(),incomplete:s()})},{all:e,interactions:r,success:l,duration:i,score:a}},i.exports={processScormPlayerData:s}}),require.register("lib/vimeo-api.coffee",function(t,e,i){var n;n=document.createElement("script"),n.src="https://player.vimeo.com/api/player.js",document.head.appendChild(n,"beforeEnd")}),require.register("lib/youtube-api.coffee",function(t,e,i){var n,o,s;window.onYouTubePlayerAPIReady=function(){return Backbone.trigger("youtubeplayerapiready")},s=document.createElement("script"),n=window.location.protocol.replace("file","http"),"iOS"===("undefined"!=typeof __&&null!==__&&null!=(o=__.slidedeck)?o.platform:void 0)&&(n=window.location.protocol.replace("ionic","http")),s.src=n+"//www.youtube.com/player_api",document.head.appendChild(s,"beforeEnd")}),require.register("models/game/score.coffee",function(t,e,i){var n,o,s=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},r={}.hasOwnProperty;n=e("lib/easie"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.defaults={turns:0},e.prototype.initialize=function(){return this.on("reset",this.resetScore,this),this.on("tally",this.tallyScore,this),this.on("change",this.getTotal,this)},e.prototype.resetScore=function(){return window.clearTimeout(this.timeout),this.set({score:0,total:0,correct:0,incorrect:0,consecutive:0,lastScore:0})},e.prototype.tallyScore=function(t){var e,i,o,s,r,a,l,d,u,c,p,h,f;return e=t.callback,a=t.ms,h=t.tallyFrom,window.clearTimeout(this.timeout),d=this.attributes,c=d.score,l=d.record,f=d.total,c===f&&f===l&&null==h?"function"==typeof e?e():void 0:(p=Date.now(),
i=1e3/60,o=0,r=h||0,null==a&&(a=3e3),a=Math.min(a,Math.abs(r-c)||1),s=a/i,(u=function(t){return function(){var a,d;return d=_.limit(o/s||0,1),0<=d&&d<=1||(d=1),a={total:Math.round(n.quartInOut(d,r,c-r,1))},null==h&&(a.record=Math.max(a.total,l||0)),t.set(a),o<s?(t.timeout=window.setTimeout(u,i),o=Math.floor((Date.now()-p)/i)):"function"==typeof e?e():void 0}}(this))())},e.prototype.getTotal=function(t){if(!t.changed.total&&null!=t.changed.score)return this.set({total:this.get("score")})},e.prototype.setBy=function(t,e){var i,n,o,s;"string"==typeof t?(i=t,t={},t[i]=e):n=e;for(i in t){if(s=t[i],o=this.get(i),this.set(i,Math.max(o+s,0),n),"lastScore"===i)return void("undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log("`lastScore` cannot be set"));"score"===i&&s>0&&(this.set({lastScore:0},{silent:!0}),this.set({lastScore:s}))}},e.prototype.destroy=function(){return window.clearTimeout(this.timeout),e.__super__.destroy.apply(this,arguments)},e}(Backbone.Model),i.exports=o}),require.register("models/game/timer.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;s=window.requestAnimationFrame||window.webkitRequestAnimationFrame,o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame,n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.initialize=function(t){return this.options=t,this.hasLimit()||this.set("limit",-1),this.set("passed",0),this.set("isDisabled",this.options.isDisabled||!this.hasLimit()),this.on("start",this.trackTimer,this),this.on("reset",this.resetTimer,this),this.on("count",this.countDown,this),this.on("change",this.getTotal,this),this.on("stop",this.endTimer,this)},e.prototype.resetTimer=function(){return this.set({bonus:0,total:this.get("limit"),remaining:this.get("limit"),paused:!0})},e.prototype.trackTimer=function(t){var e,i;if(e=t.callback,this.hasLimit())return this.set({start:Date.now()-(this.get("total")-this.get("remaining")),paused:!1}),this.clearTimers(),(i=function(t){return function(){var n,o,r,a,l,d,u,c;return r=Date.now(),l=t.attributes,u=l.start,a=l.passed,o=l.limit,d=l.remaining,c=l.total,n=l.interval,t.get("paused")?t.set({start:r-(o-d)}):t.set({remaining:Math.max(c-(r-u),0),passed:r-u}),t.get("remaining")>0||t.get("isDisabled")?t.rafWrap=s(i):t.timeout=window.setTimeout(e,300)}}(this))()},e.prototype.clearTimers=function(){return"function"==typeof o&&o(this.rafWrap),window.clearTimeout(this.timeout)},e.prototype.endTimer=function(){return this.clearTimers(),this.set({paused:!0})},e.prototype.countDown=function(t){var e,i,n,o,s;return e=t.callback,s=t.steps,n=t.ms,this.hasLimit()?(this.set({paused:!0}),i=s||3,this.clearTimers(),(o=function(t){return function(){return t.set({count:i}),0===i?e():(t.timeout=window.setTimeout(o,n||1200),i--)}}(this))()):"function"==typeof e?e():void 0},e.prototype.getTotal=function(t){if(!t.changed.total)return this.set({total:this.get("limit")+(this.get("bonus")||0)})},e.prototype.hasLimit=function(){return this.get("limit")>0},e.prototype.setBy=function(t,e){var i,n,o,s;"string"==typeof t&&(i=t,t={},t[i]=e),o=[];for(i in t)s=t[i],n=this.get(i),this.set(i,n+s),"bonus"===i&&s>0?(this.set({lastBonus:0},{silent:!0}),o.push(this.set({lastBonus:s}))):o.push(void 0);return o},e.prototype.destroy=function(){return this.clearTimers(),e.__super__.destroy.apply(this,arguments)},e}(Backbone.Model),i.exports=n}),require.register("models/lesson-engine.coffee",function(t,e,i){var n,o,s,r,a,l,d=function(t,e){return function(){return t.apply(e,arguments)}};n=l=e("lib/data-processer"),r=l.all,a=l.allMD,o={"question-pool":Friedrich.QuestionPool,scorm:Friedrich.Scorm,video:Friedrich.Video},s=function(){function t(t){null==t&&(t={}),this.processSlides=d(this.processSlides,this),this.configuration=t,this.states=t.userState||{},this.engines=this.createEngines(),this._interactions=[]}return t.prototype.trackInteraction=function(t){var e;return e=Application.actions().Analytics,e.trackInteraction(t)},t.prototype.createEngines=function(){var t,e;return t=this.configuration.slides,e=t.filter(function(t){return null!=o[t.type]}),_.object(e.map(function(t){return function(e){return[e.id,new o[e.type](e.id,e.name,e.data,t.states[e.id])]}}(this)))},t.prototype.processSlides=function(t){return t.slides=_.flatten(t.slides.map(function(e){return function(i,o){var s,r,a,l,d;return i.id&&null!=(null!=(s=e.engines)&&null!=(r=s[i.id])?r.renderSlides:void 0)?(d=null!=(a=e.engines)&&null!=(l=a[i.id])?l.renderSlides():void 0,d=d.map(function(e){return e.data=n.one(e.data,e.type,t.config),e.metadata=n.oneMD(e.metadata),e.strippedMetadata=n.oneSMD(e.metadata),e})):i}}(this))),t.slides=t.slides.map(function(e,i){var n;return e.isLastSlide=i===t.slides.length-1||"exit"===(null!=(n=t.slides[i+1])?n.type:void 0)&&t.config.isQuiz,e}),t},t.prototype.slides=function(){var t,e,i,n,o;for(t=[r,a,this.processSlides],o=_.extend({},this.configuration),i=0,n=t.length;i<n;i++)e=t[i],o=e(o);return this._slides=o,this._slides},t.prototype._recordInteractions=function(t){var e,i,n,o;for(null==t&&(t=[]),o=[],i=0,n=t.length;i<n;i++)e=t[i],this._interactions.push(e),o.push(this.trackInteraction(e));return o},t.prototype._publishState=function(){var t;return t=this.getState(),this.trackInteraction({isLessonUserState:!0,state:t})},t.prototype.getState=function(){var t,e;return _.object(function(){var i,n;i=this.engines,n=[];for(e in i)t=i[e],t.state&&n.push([e,t.state]);return n}.call(this))},t.prototype.processInteraction=function(t){var e,i,n;if(this._recordInteractions([t]),n=t.metadata,null!=n&&null!=this.engines[n.friedrichId]&&(e=this.engines[t.metadata.friedrichId],null!=e.processInteraction&&(i=e.processInteraction(t)||[],this._recordInteractions(i)),null!=e.reduceState))return e.reduceState(t),this._publishState()},t}(),i.exports=s}),require.register("models/lesson.coffee",function(t,e,i){var n,o;o=e("models/lesson-engine"),n=function(){function t(t){null!=t&&this.loadConfiguration(t)}return t.prototype.loadConfiguration=function(t){return this.configuration=t,this.engine=new o(this.configuration)},t.prototype.loadFromConfigJsonFile=function(t){var e;return e={type:"GET",url:"config.json",dataType:"json"},this.request=$.ajax(_.extend(e,{success:function(e){return t(null,e)},error:function(e){return t(e)}}))},t.prototype.loadFromSession=function(t){var e;return e=Application.actions().Session,e.waitAndGet(function(e,i){return null!=e?t(e):(null!=i?i.config:void 0)?window.setTimeout(function(){return t(null,i.config)},100):t(new Error("No slides configuration"))})},t.prototype.loadData=function(t){var i;return(null!=(i=e("app"))?i.isPlayer:void 0)?this.loadFromSession(t):this.loadFromConfigJsonFile(t)},t.prototype.load=function(t){return this.loadData(function(e){return function(i,n){return null==i?(e.loadConfiguration(n),t(null,n)):null!=i?t(i):void 0}}(this))},t.prototype.getState=function(){return this.engine.getState()},t.prototype.processInteraction=function(t){return this.engine.processInteraction(t)},t.prototype.getSlides=function(){return this.engine.slides()},t}(),i.exports=n}),require.register("models/scormAttempt.coffee",function(t,e,i){var n,o,s;s=e("lib/scorm").processScormPlayerData,n=e("js-base64").Base64,o=function(){function t(t,e,i,n,o){this.lessonId=t,this.lessonCompleted=e,this.userName=i,this.previousAttempt=o,this.userId=n}return t.prototype.initialData=function(){return this.previousAttempt?_.extend(this.previousAttempt,{"cmi.core.student_name":{value:this.userName,status:0},"cmi.core.student_id":{value:this.userId,status:0},"cmi.core.lesson_status":{value:this.lessonCompleted?"completed":"incomplete",status:0}}):{ed:{lessonId:this.lessonId},"cmi.core.lesson_status":{value:this.lessonCompleted?"completed":"not attempted",status:0},"cmi.core.student_name":{value:this.userName,status:0},"cmi.core.student_id":{value:this.userId,status:0}}},t.prototype.processScormPlayerData=function(t){var e;return e=JSON.parse(n.decode(t)),this.data=s(e).all()},t.prototype.attemptData=function(){return this.data},t}(),i.exports=o}),require.register("templates/components/background.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t){e.push('<div id="slides-background-wrap">'),t.background&&e.push('<div id="slides-background"></div>'),e.push('<div id="slides-lightbox-bg"></div></div>')}.call(this,"config"in i?i.config:"undefined"!=typeof config?config:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/disconnection-warning.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t){i.push('<div id="disconnection-warning"><div class="content-fill block-lg"><div id="disconnection-msg" class="content block-h-xl block-v-lg text-center"><div class="block-v-md"><h2>To complete this lesson, Ed needs to be running in \nthe&nbsp;background.</h2><p class="text-md">To continue, please open Ed and restart the lesson so that \nyour progress can be tracked&nbsp;correctly.</p></div><div class="block-v-md"><a id="close-window" href="https://web.edapp.com" target="_self" class="btn btn-solid btn-block">'+jade.escape(null==(e=t("buttons.open-ed"))?"":e)+"</a></div></div></div></div>")}.call(this,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/lesson-header.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o){i.push('<div id="lesson-header" class="block-lg"> <div id="lesson-header-nav" class="text-center"><div id="narration-loader"></div><div id="lesson-header-nav-page-count"><strong id="lesson-header-nav-page-number" data-testid="lesson-header-page-num">1</strong><span> / </span><!-- Since exit slide is removed, if type of last slide is exit, exclude from total slide count-->'),n.length>0&&"exit"===n[n.length-1].type&&t.isQuiz?i.push("<strong>"+jade.escape(null==(e=n.length-1)?"":e)+"</strong>"):i.push("<strong>"+jade.escape(null==(e=n.length)?"":e)+"</strong>"),i.push("</div>"),t.networkOnline&&i.push('<div id="lesson-header-nav-social-learning" class="has-count"><span class="icon icon-chat text-lg"></span></div>'),t.hideNavMenuBtn||i.push('<div id="lesson-header-nav-menu-btn"><span class="icon icon-menu text-md"></span></div>'),i.push('</div><div id="lesson-header-title">'),t.logo&&i.push('<img id="lesson-header-title-logo"'+jade.attr("src",t.logo,!0,!1)+"/>"),i.push('<div id="lesson-header-title-content" class="text-ellipsis"><strong>'+jade.escape(null==(e=o)?"":e)+"</strong></div></div></div>")}.call(this,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"slides"in n?n.slides:"undefined"!=typeof slides?slides:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/lesson-menu.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){i.push('<div id="lesson-menu"><div id="lesson-menu-content" class="content-ver block-h-xl text-center"><h1 class="tight delay-1">'+jade.escape(null==(e=s)?"":e)+'</h1><h3 id="lesson-menu-page-count"'+jade.attr("data-total",o.length,!0,!1)+' class="block-v-md delay-2">&nbsp;</h3><hr/><div class="block-v-lg clearfix"><div id="lesson-menu-cancel" class="btn btn-block btn-sm btn-primary">'+jade.escape(null==(e=n("menu.resume"))?"":e)+"</div>"),t.contextAllowsFreeNavigation||t.contextRequiresExitButton?(t.contextAllowsFreeNavigation&&i.push('<div id="lesson-menu-go-back" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.go-back"))?"":e)+'</div><div id="lesson-menu-restart" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.restart"))?"":e)+"</div>"),t.contextRequiresExitButton&&!t.isQuiz?i.push('<div id="lesson-menu-exit" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.exit"))?"":e)+"</div>"):t.contextRequiresExitButton&&t.isQuiz&&i.push('<div id="lesson-menu-exit" class="btn btn-block btn-outlined">'+jade.escape(null==(e=n("menu.exit-quiz"))?"":e)+"</div>")):i.push('<div id="lesson-menu-cancel" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("buttons.continue"))?"":e)+"</div>"),i.push("</div></div></div>")}.call(this,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"slides"in n?n.slides:"undefined"!=typeof slides?slides:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/media-collection-content.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o){n["video-stream"]=e=function(e,n,s,r,a){this&&this.block,this&&this.attributes||{};o=o||!0,s=s||!0,r=r||"video vjs-fluid";var l=t.CLOUDINARY_CDN_URL+t.CLOUDINARY_VIDEO_FOLDER,d="";e&&e.indexOf(l)>-1&&(d=e.replace(l,l+"sp_full_hd/"),d=d.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",n,!0,!1)+jade.attr("controls",s,!0,!1)+' preload="auto"'+jade.attr("dir",t.direction,!0,!1)+jade.attr("poster",a,!0,!1)+jade.cls(["video-js",r],[null,!0])+"><source"+jade.attr("src",e,!0,!1)+"/>"),d&&i.push("<source"+jade.attr("src",d,!0,!1)+"/>"),i.push("</video>")}}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/multi-content.jade",function(t,e,i){var n=function(t){var e,i=[],n={},o=t||{};return function(t,o){n["video-stream"]=e=function(e,n,s,r,a){this&&this.block,this&&this.attributes||{};o=o||!0,s=s||!0,r=r||"video vjs-fluid";var l=t.CLOUDINARY_CDN_URL+t.CLOUDINARY_VIDEO_FOLDER,d="";e&&e.indexOf(l)>-1&&(d=e.replace(l,l+"sp_full_hd/"),d=d.replace(".mp4",".m3u8")),i.push("<video"+jade.attr("webkit-playsinline",n,!0,!1)+jade.attr("controls",s,!0,!1)+' preload="auto"'+jade.attr("dir",t.direction,!0,!1)+jade.attr("poster",a,!0,!1)+jade.cls(["video-js",r],[null,!0])+"><source"+jade.attr("src",e,!0,!1)+"/>"),d&&i.push("<source"+jade.attr("src",d,!0,!1)+"/>"),i.push("</video>")},n.image=e=function(t,e){this&&this.block,this&&this.attributes||{};i.push("<img"+jade.attr("src",t,!0,!1)+jade.cls([e],[!0])+"/>")}}.call(this,"config"in o?o.config:"undefined"!=typeof config?config:void 0,"playinline"in o?o.playinline:"undefined"!=typeof playinline?playinline:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/photoswipe.jade",function(t,e,i){var n=function(t){var e=[];return e.push('<div id="photoswipe" tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__hint"></div><div class="pswp__counter"></div><button title="Close (Esc)" class="pswp__button pswp__button--close"></button><button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button><button title="Full Screen" class="pswp__button pswp__button--fs"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"></div></div></div><button title="Previous (←)" class="pswp__button pswp__button--arrow--left"></button><button title="Next (→)" class="pswp__button pswp__button--arrow--right"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>'),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/play-audio-popup.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t){i.push('<div id="play-audio-popup" class="block-xl"><div class="content-fill"><div class="content-ver text-center"><div class="block-v-xl block-h-lg"><h1>'+jade.escape(null==(e=t("audio-popup.title"))?"":e)+'</h1><p class="text-md">'+jade.escape(null==(e=t("audio-popup.description"))?"":e)+'</p></div><div class="btn btn-solid btn-block btn-yes text-xl">'+jade.escape(null==(e=t("audio-popup.allow"))?"":e)+'</div></div><div class="btn btn-block btn-no btn-sm">'+jade.escape(null==(e=t("audio-popup.cancel"))?"":e)+"</div></div></div>")}.call(this,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/quote-bottom-angle.jade",function(t,e,i){var n=function(t){var e=[];return e.push('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" viewbox="0 0 40 20" xml:space="preserve" class="quote-angle"><path d="M0,-1V0c6.6,0,11.1,6.2,9.9,13.6c-0.2,1.6,0.8,2.4,1.6,2.4c1,0,1.6-0.6,2.3-1.6C19.9,5.2,30,0,40,0V-1H0z" class="quote-angle-side quote-angle-below-left"></path><path d="M40,-1V0c-6.6,0-11.1,6.2-9.9,13.6c0.2,1.6-0.8,2.4-1.6,2.4c-1,0-1.6-0.6-2.3-1.6C20.1,5.2,10,0,0,0V-1L40,-1z" class="quote-angle-side quote-angle-below-right"></path></svg>'),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/slide-answer.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a){r=t.takeaway&&(o&&t.correct||!o&&t.incorrect||t.text),i.push('<div id="block-container" class="block-h-md"><div id="slide-answer-container"'+jade.cls(["row",r?"":"split-column"],[null,!0])+'><div id="slide-answer-details"'+jade.cls(["col-sm-12","block-v-sm",r?"col-md-6":"text-center"],[null,null,!0])+'><div class="content-scroll block-v-lg"><p class="text-md"><strong id="slide-answer-details-response">'),s?i.push(null==(e=a)?"":e):i.push(null==(e=o?t.correct:t.incorrect)?"":e),i.push("</strong></p>"),t.text&&i.push('<div id="slide-answer-details-text" class="text-break text-md">'+(null==(e=t.text)?"":e)+"</div>"),i.push("</div></div><div"+jade.cls(["col-sm-12","block-v-lg",r?"col-md-6":"text-center"],[null,null,!0])+">"),t.takeaway&&i.push('<div id="slide-answer-takeaway"><h2 class="text-center text-break">'+(null==(e=t.takeaway)?"":e)+"</h2></div>"),i.push('<div id="slide-answer-continue-container"><div id="slide-answer-continue" class="btn btn-block btn-solid"> \n'+jade.escape(null==(e=n("buttons.continue"))?"":e)+"</div></div></div></div></div>")}.call(this,"answer"in n?n.answer:"undefined"!=typeof answer?answer:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isCorrect"in n?n.isCorrect:"undefined"!=typeof isCorrect?isCorrect:void 0,"isTooSlow"in n?n.isTooSlow:"undefined"!=typeof isTooSlow?isTooSlow:void 0,"showLeftCol"in n?n.showLeftCol:"undefined"!=typeof showLeftCol?showLeftCol:void 0,"timerPrompt"in n?n.timerPrompt:"undefined"!=typeof timerPrompt?timerPrompt:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/slide-footer.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l){i.push("<div"+jade.cls(["slide-footer","block-v-lg",l?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+">"),s?(i.push('<div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||r("buttons.continue"))?"":e)+"</div></div>"),"string"==typeof a&&i.push('<div class="slide-footer-prompt text-uppercase text-bold"><div class="slide-footer-prompt-content content-ver">'+(null==(e=a)?"":e)+"</div></div>")):i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t||n||r("buttons.continue"))?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"hasPrompt"in n?n.hasPrompt:"undefined"!=typeof hasPrompt?hasPrompt:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"prompt"in n?n.prompt:"undefined"!=typeof prompt?prompt:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/slide-timer.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t){t&&t.timer&&t.timer.limit>0&&!t.timer.isDisabled&&e.push('<div class="full-screen"><div class="game-stepper text-lg text-bold"></div><div class="game-progress"><div class="game-progress-bar"></div></div></div>')}.call(this,"game"in i?i.game:"undefined"!=typeof game?game:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/slides.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i){e.push('<div id="lesson-slides" class="block-h-lg content-fill"><div id="slides" class="content-fill"><div id="slides-scroller" class="content-fill">'),function(){var i=t;if("number"==typeof i.length)for(var n=0,o=i.length;n<o;n++){var s=i[n];e.push("<div"+jade.cls(["slide","text-break","slide-"+s.type],[null,null,!0])+"></div>")}else{var o=0;for(var n in i){o++;var s=i[n];e.push("<div"+jade.cls(["slide","text-break","slide-"+s.type],[null,null,!0])+"></div>")}}}.call(this),e.push("</div></div></div>")}.call(this,"slides"in i?i.slides:"undefined"!=typeof slides?slides:void 0,"undefined"in i?i.undefined:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/social-learning-comments.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a,l,d){if(0===n.length)i.push('<p id="social-view-no-comments" class="block-h-lg text-lg text-center">'+jade.escape(null==(e=o("social.be-first"))?"":e)+"</p>");else{var u,c,p=3e5;i.push('<ul class="clearfix">'),function(){var r=n;if("number"==typeof r.length)for(var d=0,h=r.length;d<h;d++){var f=r[d];c=new t(f.timestamp),(!u||a(u).diff(c)>p)&&(u=c,i.push('<li class="time text-center text-sm"><strong>'+jade.escape(null==(e=a(f.timestamp).format("ddd, DD MMM"))?"":e)+"</strong>"+jade.escape(null==(e=a(f.timestamp).format(" h:mm"))?"":e)+"</li>")),i.push("<li"+jade.attr("style",d<5?"transition-delay: "+100*(d+1)+"ms":"",!0,!1)+jade.cls(["comment",[f.isFromCurrentLearner?"pull-right is-learner":"pull-left",f.likes>0?"has-likes":"no-likes",f.isLikedByLearner?"is-learner-liked":"",f.isFlaggedByLearner?"is-learner-flagged":""]],[null,!0])+'><div class="comment-label clearfix">'),f.isFromCurrentLearner||i.push('<span class="comment-author">'+jade.escape(null==(e=f.author)?"":e)+"</span>&ensp;"),l||i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-like"><span class="icon icon-heart"></span>&nbsp;'+jade.escape(null==(e=f.likes||0)?"":e)+"</span>"),i.push("</div>"),l||(i.push('<div class="comment-toggle-action clearfix">'),f.isFromCurrentLearner?i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-delete">'+jade.escape(null==(e=o("social.delete"))?"":e)+'</span><span class="comment-action comment-cancel icon icon-close"></span>'):(i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-flag"><span class="icon icon-flag"></span>&nbsp;'),f.isFlaggedByLearner?i.push(jade.escape(null==(e=o("social.reported"))?"":e)):i.push(jade.escape(null==(e=o("social.report"))?"":e)),i.push('</span><span class="comment-action comment-cancel icon icon-close"></span>')),i.push("</div>")),i.push('<p class="block-md comment-message text-md">'),s(f.message)?i.push('<span class="emoji">'+jade.escape(null==(e=f.message)?"":e)+"</span>"):i.push(jade.escape(null==(e=f.message)?"":e)),i.push("</p></li>")}else{var h=0;for(var d in r){h++;var f=r[d];c=new t(f.timestamp),(!u||a(u).diff(c)>p)&&(u=c,i.push('<li class="time text-center text-sm"><strong>'+jade.escape(null==(e=a(f.timestamp).format("ddd, DD MMM"))?"":e)+"</strong>"+jade.escape(null==(e=a(f.timestamp).format(" h:mm"))?"":e)+"</li>")),i.push("<li"+jade.attr("style",d<5?"transition-delay: "+100*(d+1)+"ms":"",!0,!1)+jade.cls(["comment",[f.isFromCurrentLearner?"pull-right is-learner":"pull-left",f.likes>0?"has-likes":"no-likes",f.isLikedByLearner?"is-learner-liked":"",f.isFlaggedByLearner?"is-learner-flagged":""]],[null,!0])+'><div class="comment-label clearfix">'),f.isFromCurrentLearner||i.push('<span class="comment-author">'+jade.escape(null==(e=f.author)?"":e)+"</span>&ensp;"),l||i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-like"><span class="icon icon-heart"></span>&nbsp;'+jade.escape(null==(e=f.likes||0)?"":e)+"</span>"),i.push("</div>"),l||(i.push('<div class="comment-toggle-action clearfix">'),f.isFromCurrentLearner?i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-delete">'+jade.escape(null==(e=o("social.delete"))?"":e)+'</span><span class="comment-action comment-cancel icon icon-close"></span>'):(i.push("<span"+jade.attr("data-id",f.id,!0,!1)+' class="comment-action comment-flag"><span class="icon icon-flag"></span>&nbsp;'),f.isFlaggedByLearner?i.push(jade.escape(null==(e=o("social.reported"))?"":e)):i.push(jade.escape(null==(e=o("social.report"))?"":e)),i.push('</span><span class="comment-action comment-cancel icon icon-close"></span>')),i.push("</div>")),i.push('<p class="block-md comment-message text-md">'),s(f.message)?i.push('<span class="emoji">'+jade.escape(null==(e=f.message)?"":e)+"</span>"):i.push(jade.escape(null==(e=f.message)?"":e)),i.push("</p></li>")}}}.call(this),i.push("</ul>"),l||(r?i.push('<p class="text-muted text-center block-v-md">'+jade.escape(null==(e=o("social.thats-all"))?"":e)+"</p>"):i.push('<img src="img/templates/loader-light.gif" width="32" class="loader"/>'))}}.call(this,"Date"in n?n.Date:"undefined"!=typeof Date?Date:void 0,"comments"in n?n.comments:"undefined"!=typeof comments?comments:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"isEmoji"in n?n.isEmoji:"undefined"!=typeof isEmoji?isEmoji:void 0,"isNoMoreComments"in n?n.isNoMoreComments:"undefined"!=typeof isNoMoreComments?isNoMoreComments:void 0,"moment"in n?n.moment:"undefined"!=typeof moment?moment:void 0,"peerAuthoring"in n?n.peerAuthoring:"undefined"!=typeof peerAuthoring?peerAuthoring:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/social-learning.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t){i.push('<div id="social-view"><div id="social-view-input-cancel" class="icon icon-close"></div><div id="social-view-input"><div class="content-fill"><textarea id="social-view-input-text" class="text-md block-lg"></textarea></div><div id="social-view-input-toolbar" class="block-v-md block-h-lg"><div id="social-view-input-status" class="pull-right"><strong id="social-view-input-slide-count"></strong><strong id="social-view-input-limit"></strong><button id="social-view-input-confirm" class="btn btn-solid btn-sm pull-right">'+(null==(e=t("buttons.send"))?"":e)+'</button></div><label class="text-bold"><div id="social-view-input-title" class="text-ellipsis"></div></label></div></div><div id="social-view-messages"><div id="social-view-messages-list" class="block-lg"></div><div id="social-view-input-start" class="block-lg"><div id="social-view-start" class="btn btn-solid btn-block">'+(null==(e=t("social.have-your-say"))?"":e)+"</div></div></div></div>")}.call(this,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/stars-available.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r){var a=n.min(o,9);(function(){var e=new t(a);if("number"==typeof e.length)for(var s=0,r=e.length;s<r;s++){var l=(e[s],n.abs(n.floor(a/2)-s)),d="star-delay-"+l;s<o&&(d+=" active"),o>4&&(d+=" bunched"),i.push("<div"+jade.cls(["star",d],[null,!0])+"></div>")}else{var r=0;for(var s in e){r++;var l=(e[s],n.abs(n.floor(a/2)-s)),d="star-delay-"+l;s<o&&(d+=" active"),o>4&&(d+=" bunched"),i.push("<div"+jade.cls(["star",d],[null,!0])+"></div>")}}}).call(this),i.push('<h4 class="text-bold text-pre">'+jade.escape(null==(e=s("stars.available",{smart_count:o}))?"":e)+"</h4>")}.call(this,"Array"in n?n.Array:"undefined"!=typeof Array?Array:void 0,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"available"in n?n.available:"undefined"!=typeof available?available:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/stars-earned.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){var r,a=9;r=o.length<2?"text-xl":o.length<6?"text-lg":o.length<8?"text-md":"text-sm",i.push("<div"+jade.cls(["text-nowrap",r],[null,!0])+">"),function(){var e=o.slice(0,a);if("number"==typeof e.length)for(var n=0,s=e.length;n<s;n++){var r=e[n];r||(r={});var l="delay-"+t.min(n,10);r.complete&&(l+=" active"),o.length>6&&(l+=" bunched"),i.push("<div"+jade.cls(["star",l],[null,!0])+"></div>")}else{var s=0;for(var n in e){s++;var r=e[n];r||(r={});var l="delay-"+t.min(n,10);r.complete&&(l+=" active"),o.length>6&&(l+=" bunched"),i.push("<div"+jade.cls(["star",l],[null,!0])+"></div>")}}}.call(this),i.push('</div><h4 class="text-bold text-nowrap"> ');var l=_.where(o,{complete:!0}).length;i.push(""+jade.escape(null==(e=n("stars.earned",{earned:l,smart_count:o.length}))?"":e)+"</h4>")}.call(this,"Math"in n?n.Math:"undefined"!=typeof Math?Math:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"stars"in n?n.stars:"undefined"!=typeof stars?stars:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/text-input.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t){i.push('<div id="text-input-view"><div id="text-input-container"><div id="text-input-container-top" class="text-input-container block-lg"><label id="text-input-prompt"></label><label id="text-input-count"><span id="text-input-count-current"></span>&nbsp;/&nbsp;<span id="text-input-count-total"></span></label><div id="text-input-dismiss-btn" class="btn btn-solid">'+jade.escape(null==(e=t("buttons.done"))?"":e)+'</div></div><div id="text-input-scroll"><textarea id="text-input-area" class="block-lg"></textarea></div></div></div>');
}.call(this,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/engine/video-slide-footer.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r,a){i.push("<div"+jade.cls(["slide-footer","block-v-lg",a?"slide-footer--up slide-down":"slide-up"],[null,null,!0])+'><div class="slide-footer-touched"><div class="btn btn-muted btn-done text-ellipsis">'+(null==(e=n||s("buttons.continue"))?"":e)+"</div></div>"),r&&i.push('<div class="slide-footer-prompt"><div class="btn btn-muted btn-done text-ellipsis content-ver">'+(null==(e=t)?"":e)+"</div></div>"),o&&i.push('<div class="slide-footer-narration"><div class="narration-progress btn btn-muted"><div class="narration-progress-bar"></div><div class="wave-ellipse"><span class="bullet delay-1 block-inline">&bullet;</span><span class="bullet delay-2 block-inline">&bullet;</span><span class="bullet delay-3 block-inline">&bullet;</span></div></div></div>'),i.push("</div>")}.call(this,"continueBtnText"in n?n.continueBtnText:"undefined"!=typeof continueBtnText?continueBtnText:void 0,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasNarration"in n?n.hasNarration:"undefined"!=typeof hasNarration?hasNarration:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"skipButton"in n?n.skipButton:"undefined"!=typeof skipButton?skipButton:void 0,"submitUp"in n?n.submitUp:"undefined"!=typeof submitUp?submitUp:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/game/intro.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o){i.push('<div class="content-intro content-fill content-fit"><div class="block-v-lg text-center content"><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><h1 class="tight">'+(null==(e=o)?"":e)+'</h1><div class="text-lg block-v-lg">'+(null==(e=t)?"":e)+'</div><div class="btn btn-solid play-game">'+jade.escape(null==(e=n("game.play-game"))?"":e)+"</div></div></div></div></div>")}.call(this,"description"in n?n.description:"undefined"!=typeof description?description:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/game/outro.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s){i.push('<div class="content-outro"><div class="content-fill"><div class="block-v-lg text-center content"><h1>'+(null==(e=s)?"":e)+'</h1><div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><div class="row"><div'+jade.cls(["col-sm-6","col-md-4","block-v-md",n?"":"col-md-offset-2"],[null,null,null,!0])+'><div class="block-md block-dk"><h4 class="white-dot-text bold-italic">'+jade.escape(null==(e=o("game.your-score"))?"":e)+'</h4><h1 class="game-total tight">?</h1></div></div><div class="col-sm-6 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=o("game.your-best"))?"":e)+'</h4><h1 class="game-record tight">?</h1></div></div>'),n&&i.push('<div class="col-sm-12 col-md-4 block-v-md"><div class="block-md block-dk"><h4 class="grey-dot-text bold-italic">'+jade.escape(null==(e=o("game.your-stars"))?"":e)+'</h4><h1 class="game-stars tight">?<sup class="stars-total"></sup></h1></div></div>'),i.push('</div><div class="row block-v-md"><div class="col-sm-12 col-md-8 col-md-offset-2 block-md"><div class="btn btn-solid btn-block play-game">'+jade.escape(null==(e=o("game.play-again"))?"":e)+'</div></div></div></div></div></div></div><div class="slide-footer block-v-lg"><div class="btn btn-muted goto-next fade-in">'+(null==(e=t)?"":e)+"</div></div></div>")}.call(this,"doneText"in n?n.doneText:"undefined"!=typeof doneText?doneText:void 0,"hasStars"in n?n.hasStars:"undefined"!=typeof hasStars?hasStars:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/game/state.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n){i.push('<div class="game-state block-h-lg"><div class="game-state-inner row block-v-lg"><div class="game-state-text col-md-6 col-sm-6">'),t&&i.push(""+jade.escape(null==(e=n("game.labels.timer"))?"":e)+'\n&ensp;<strong class="game-timer text-lg text-bold"></strong>'),i.push('</div><div class="game-state-text col-md-6 col-sm-6 text-right">'+jade.escape(null==(e=n("game.labels.score"))?"":e)+'\n&ensp;<strong class="game-score text-lg text-bold"></strong><strong class="game-tally"></strong></div></div></div>'),t&&i.push('<div class="game-stepper"></div><div class="game-progress"><div class="game-progress-bar"></div></div>'),t&&i.push('<div class="game-bonus-time"></div>')}.call(this,"hasTimeLimit"in n?n.hasTimeLimit:"undefined"!=typeof hasTimeLimit?hasTimeLimit:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/indicator.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i){e.push('<div id="indicator"><div id="inner"'+jade.attr("style","left: "+100/i.length+"%;"+("rtl"==t.direction?"margin-left: -"+100/i.length+"%;":""),!0,!1)+"></div></div>")}.call(this,"config"in i?i.config:"undefined"!=typeof config?config:void 0,"slides"in i?i.slides:"undefined"!=typeof slides?slides:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/menu.jade",function(t,e,i){var n=function(t){var e=[];return e.push('<div id="menu-view"></div>'),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/components/pagination.jade",function(t,e,i){var n=function(t){var e=[],i=t||{};return function(t,i){e.push('<div id="pagination">'),function(){var i=t;if("number"==typeof i.length)for(var n=0,o=i.length;n<o;n++){i[n];e.push("<a"+jade.attr("href","#slide/"+(n+1),!0,!1)+' class="page"></a>')}else{var o=0;for(var n in i){o++;i[n];e.push("<a"+jade.attr("href","#slide/"+(n+1),!0,!1)+' class="page"></a>')}}}.call(this),e.push("</div>")}.call(this,"slides"in i?i.slides:"undefined"!=typeof slides?slides:void 0,"undefined"in i?i.undefined:void 0),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/main.jade",function(t,e,i){var n=function(t){var e=[];return e.push('<div id="content"><div id="inbound"></div><div id="outbound"></div></div>'),e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/mixins/image.jade",function(t,e,i){var n=function(t){var e=[];return e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/mixins/video-stream.jade",function(t,e,i){var n=function(t){var e=[];return e.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("templates/slides.jade",function(t,e,i){var n=function(t){var e,i=[],n=t||{};return function(t,n,o,s,r){i.push('<div id="slides-view-inner" class="content-fill">'),t.enableCustomCSS&&i.push('<style id="custom-css">'+jade.escape(null==(e=t.customCSS)?"":e)+"</style>"),i.push('<div id="indicator"><div id="inner"'+jade.attr("style","left: "+100/o.length+"%;"+("rtl"==t.direction?"margin-left: -"+100/o.length+"%;":""),!0,!1)+'></div></div><div id="slides-background-wrap">'),t.background&&i.push('<div id="slides-background"></div>'),i.push('<div id="slides-lightbox-bg"></div></div><div id="lesson-header" class="block-lg"> <div id="lesson-header-nav" class="text-center"><div id="narration-loader"></div><div id="lesson-header-nav-page-count"><strong id="lesson-header-nav-page-number" data-testid="lesson-header-page-num">1</strong><span> / </span><!-- Since exit slide is removed, if type of last slide is exit, exclude from total slide count-->'),o.length>0&&"exit"===o[o.length-1].type&&t.isQuiz?i.push("<strong>"+jade.escape(null==(e=o.length-1)?"":e)+"</strong>"):i.push("<strong>"+jade.escape(null==(e=o.length)?"":e)+"</strong>"),i.push("</div>"),t.networkOnline&&i.push('<div id="lesson-header-nav-social-learning" class="has-count"><span class="icon icon-chat text-lg"></span></div>'),t.hideNavMenuBtn||i.push('<div id="lesson-header-nav-menu-btn"><span class="icon icon-menu text-md"></span></div>'),i.push('</div><div id="lesson-header-title">'),t.logo&&i.push('<img id="lesson-header-title-logo"'+jade.attr("src",t.logo,!0,!1)+"/>"),i.push('<div id="lesson-header-title-content" class="text-ellipsis"><strong>'+jade.escape(null==(e=s)?"":e)+'</strong></div></div></div><div id="lesson-slides" class="block-h-lg content-fill"><div id="slides" class="content-fill"><div id="slides-scroller" class="content-fill">'),function(){var t=o;if("number"==typeof t.length)for(var e=0,n=t.length;e<n;e++){var s=t[e];i.push("<div"+jade.cls(["slide","text-break","slide-"+s.type],[null,null,!0])+"></div>")}else{var n=0;for(var e in t){n++;var s=t[e];i.push("<div"+jade.cls(["slide","text-break","slide-"+s.type],[null,null,!0])+"></div>")}}}.call(this),i.push('</div></div></div><div id="slide-answer"></div><div id="stars-available"></div><div id="stars-earned" class="content text-center"></div><div id="lesson-menu"><div id="lesson-menu-content" class="content-ver block-h-xl text-center"><h1 class="tight delay-1">'+jade.escape(null==(e=s)?"":e)+'</h1><h3 id="lesson-menu-page-count"'+jade.attr("data-total",o.length,!0,!1)+' class="block-v-md delay-2">&nbsp;</h3><hr/><div class="block-v-lg clearfix"><div id="lesson-menu-cancel" class="btn btn-block btn-sm btn-primary">'+jade.escape(null==(e=n("menu.resume"))?"":e)+"</div>"),t.contextAllowsFreeNavigation||t.contextRequiresExitButton?(t.contextAllowsFreeNavigation&&i.push('<div id="lesson-menu-go-back" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.go-back"))?"":e)+'</div><div id="lesson-menu-restart" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.restart"))?"":e)+"</div>"),t.contextRequiresExitButton&&!t.isQuiz?i.push('<div id="lesson-menu-exit" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("menu.exit"))?"":e)+"</div>"):t.contextRequiresExitButton&&t.isQuiz&&i.push('<div id="lesson-menu-exit" class="btn btn-block btn-outlined">'+jade.escape(null==(e=n("menu.exit-quiz"))?"":e)+"</div>")):i.push('<div id="lesson-menu-cancel" class="btn btn-block btn-muted">'+jade.escape(null==(e=n("buttons.continue"))?"":e)+"</div>"),i.push('</div></div></div><div id="text-input-view"><div id="text-input-container"><div id="text-input-container-top" class="text-input-container block-lg"><label id="text-input-prompt"></label><label id="text-input-count"><span id="text-input-count-current"></span>&nbsp;/&nbsp;<span id="text-input-count-total"></span></label><div id="text-input-dismiss-btn" class="btn btn-solid">'+jade.escape(null==(e=n("buttons.done"))?"":e)+'</div></div><div id="text-input-scroll"><textarea id="text-input-area" class="block-lg"></textarea></div></div></div><div id="social-view"><div id="social-view-input-cancel" class="icon icon-close"></div><div id="social-view-input"><div class="content-fill"><textarea id="social-view-input-text" class="text-md block-lg"></textarea></div><div id="social-view-input-toolbar" class="block-v-md block-h-lg"><div id="social-view-input-status" class="pull-right"><strong id="social-view-input-slide-count"></strong><strong id="social-view-input-limit"></strong><button id="social-view-input-confirm" class="btn btn-solid btn-sm pull-right">'+(null==(e=n("buttons.send"))?"":e)+'</button></div><label class="text-bold"><div id="social-view-input-title" class="text-ellipsis"></div></label></div></div><div id="social-view-messages"><div id="social-view-messages-list" class="block-lg"></div><div id="social-view-input-start" class="block-lg"><div id="social-view-start" class="btn btn-solid btn-block">'+(null==(e=n("social.have-your-say"))?"":e)+'</div></div></div></div><div id="photoswipe" tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__hint"></div><div class="pswp__counter"></div><button title="Close (Esc)" class="pswp__button pswp__button--close"></button><button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button><button title="Full Screen" class="pswp__button pswp__button--fs"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"></div></div></div><button title="Previous (←)" class="pswp__button pswp__button--arrow--left"></button><button title="Next (→)" class="pswp__button pswp__button--arrow--right"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><div id="disconnection-warning"><div class="content-fill block-lg"><div id="disconnection-msg" class="content block-h-xl block-v-lg text-center"><div class="block-v-md"><h2>To complete this lesson, Ed needs to be running in \nthe&nbsp;background.</h2><p class="text-md">To continue, please open Ed and restart the lesson so that \nyour progress can be tracked&nbsp;correctly.</p></div><div class="block-v-md"><a id="close-window" href="https://web.edapp.com" target="_self" class="btn btn-solid btn-block">'+jade.escape(null==(e=n("buttons.open-ed"))?"":e)+'</a></div></div></div></div><div id="play-audio-popup" class="block-xl"><div class="content-fill"><div class="content-ver text-center"><div class="block-v-xl block-h-lg"><h1>'+jade.escape(null==(e=n("audio-popup.title"))?"":e)+'</h1><p class="text-md">'+jade.escape(null==(e=n("audio-popup.description"))?"":e)+'</p></div><div class="btn btn-solid btn-block btn-yes text-xl">'+jade.escape(null==(e=n("audio-popup.allow"))?"":e)+'</div></div><div class="btn btn-block btn-no btn-sm">'+jade.escape(null==(e=n("audio-popup.cancel"))?"":e)+"</div></div></div></div>")}.call(this,"config"in n?n.config:"undefined"!=typeof config?config:void 0,"i18n"in n?n.i18n:"undefined"!=typeof i18n?i18n:void 0,"slides"in n?n.slides:"undefined"!=typeof slides?slides:void 0,"title"in n?n.title:"undefined"!=typeof title?title:void 0,"undefined"in n?n.undefined:void 0),i.join("")};"function"==typeof define&&define.amd?define([],function(){return n}):"object"==typeof i&&i&&i.exports&&(i.exports=n)}),require.register("utils/messaging.coffee",function(t,e,i){var n,o,s,r;n=["https://staging-cms.edapp.com","https://staging-site.edapp.com","https://admin.edapp.com","https://www.edapp.com","https://app.safetyculture.com"],r=function(t){return function(t){return n.some(function(e){return t.origin.includes(e)})}}(this),o=function(){var t;return t=Array.from(location.ancestorOrigins)||[document.referrer],n.some(function(e){return t[0].includes(e)})},s=function(t){return o()&&r(t)},i.exports={isValidEventOrigin:r,isValidAncestor:o,isValidEvent:s}}),require.register("utils/network_utils.coffee",function(t,e,i){var n;n=function(){var t,e;return null==navigator.connection||null==window.Connection?navigator.onLine:(t=navigator.connection.type,e={},e[Connection.UNKNOWN]=!1,e[Connection.NONE]=!1,e[Connection.ETHERNET]=!0,e[Connection.WIFI]=!0,e[Connection.CELL]=!0,e[Connection.CELL_2G]=!0,e[Connection.CELL_3G]=!0,e[Connection.CELL_4G]=!0,!!e[t])},i.exports={checkOnline:n}}),require.register("views/base/game.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h=function(t,e){function i(){this.constructor=t}for(var n in e)f.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},f={}.hasOwnProperty;for(s=e("views/game"),u=Application.actions(),a=u.Sound,r=u.Session,n=u.Analytics,p=["system:achievement","system:new-star","system:spin-win","system:correct","system:ready","system:spinning","system:game-music-slow","system:spin-fail","system:tally-score","system:go","system:spin-stop","system:welcome","system:incorrect","system:spin-success"],l=0,d=p.length;l<d;l++)c=p[l],a.preload(c,c);o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.show=function(){return e.__super__.show.apply(this,arguments),this.initializeData(),this.initializeElements(),r.get(function(t){return function(e,i){var n,o,s;if(null!=i.scores&&(s=i.scores,n=t.options.name,o=null!=(null!=s?s[n]:void 0)?parseInt(s[n],10):null,null!=o))return t.game.score.set("record",o)}}(this))},e.prototype.hide=function(){return e.__super__.hide.apply(this,arguments),a.stopAll()},e.prototype.onRefresh=function(){if(e.__super__.onRefresh.apply(this,arguments),a.stopAll(),this.game.extra.get("fullscreen"))return this.trigger("ui",{minimal:!1})},e.prototype.initializeData=function(){},e.prototype.initializeElements=function(){var t,e,i,n,o,s;for(t=["timer","progress-bar","stepper","score","tally","stars","total","record","bonus-time"],o=[],e=0,n=t.length;e<n;e++)i=t[e],s=".game-"+i,o.push(this.setEl(this.el.querySelector(s),i));return o},e.prototype.onTimerChange=function(t){var e,i,n,o,s,r,l,d,u;if(d=t.changed,u=d.remaining,n=d.count,s=d.lastBonus,l=d.paused,null!=u&&null!=this.getEl("timer")&&(r=t.get("limit"),e=u/1e3,e=(e<10?"0":"")+e.toFixed(2)+"s",this.getEl("timer").innerHTML=e.replace(/^[0s\.]+/,function(t){return _.wrapInTag(t,"em",{"class":"game-timer-muted"})})),null!=u&&null!=this.getEl("progress-bar")&&(o=this.game.timer.get("interval"),this.transform(this.getEl("progress-bar"),{x:-u/r*100+"%"})),null!=n&&null!=this.getEl("stepper")&&(this.transition(this.getEl("stepper"),"all 100ms"),this.getEl("stepper").offsetLeft,this.transform(this.getEl("stepper"),{x:"-50%",scale:.75}),this.el.classList.toggle("game-count-down",n>0),window.setTimeout(function(t){return function(){return t.transition(t.getEl("stepper"),""),t.transform(t.getEl("stepper"),{x:"-50%",scale:1.25}),n>0?(t.getEl("stepper").style.opacity=1,t.getEl("stepper").innerHTML=n,a.play("system:ready")):(t.getEl("stepper").style.opacity=0,t.getEl("stepper").innerHTML=i18n("game.go"))}}(this),120)),s>0&&null!=this.getEl("bonus-time")&&(i=(s/1e3).toFixed(2),this.showBonus({el:this.getEl("bonus-time"),x:"-2em",html:i18n("game.bonus-time",{bonus_time:i})||"+"+i+" seconds",delay:400})),null!=l&&t.hasLimit())return this.el.classList.toggle("game-paused",l)},e.prototype.onScoreChange=function(t){var e,i,n,o;if(n=t.changed,e=n.correct,o=n.total,i=n.record,null!=i&&null!=this.getEl("record")&&(this.getEl("record").innerHTML=_.prettyNumber(i),this.getEl("record").offsetLeft),null!=o&&null!=this.getEl("total"))return this.getEl("total").innerHTML=this.getEl("score").innerHTML=_.prettyNumber(o)},e.prototype.showBonus=function(t){var e,i,n,o;return i=t.el,o=t.x,n=t.html,e=t.delay,i.innerHTML=n,this.transform(i,{x:o,transition:"none",opacity:0}),i.offsetLeft,this.transition(i,"",!0),window.setTimeout(function(t){return function(){return t.transform(i,{x:0,opacity:1})}}(this),1+(e||0)),window.setTimeout(function(t){return function(){return t.transform(i,{opacity:0})}}(this),1e3+(e||0))},e.prototype.enterGame=function(){return e.__super__.enterGame.apply(this,arguments),a.stop("system:tally-score"),this.el.classList.add("disable-goto-next"),this.game.extra.get("fullscreen")&&this.trigger("ui",{minimal:!0}),this.showNext(!0)},e.prototype.startGame=function(){return this.game.extra.get("sounds")&&a.fadeIn("system:game-music-slow"),e.__super__.startGame.apply(this,arguments)},e.prototype.endGame=function(){var t,i;try{t="function"==typeof this.answerDetails?this.answerDetails():void 0}catch(n){i=n,console.error("Error on end game",i),t=[]}if(this.game.extra.get("sounds")&&(a.fadeOut("system:game-music-slow"),a.loop("system:tally-score")),e.__super__.endGame.apply(this,arguments),this.game.extra.get("fullscreen"))return this.trigger("ui",{minimal:!1})},e.prototype.afterAnimateScores=function(){var t,i,n,o,s,l,d;return this.game.extra.get("sounds")&&(a.stop("system:tally-score"),a.play("system:spin-win")),this.el.classList.remove("disable-goto-next"),this.options.data&&(l=this.options.data,n=l.game,t=l.challenge_configuration),o=0===(null!=t?t.nb_stars:void 0)?0:null!=(d=null!=t?t.nb_stars:void 0)?d:null!=t?t.weighting:void 0,i=0,this.game.timer.get("isDisabled")&&0===this.game.score.get("incorrect")?i=o:(null!=n?n.stars:void 0)&&o&&(i=this.calculateStarsEarned({score:this.game.score.get("record"),stars:o,range:this.options.data.game.stars}).earned),(null!=n?n.stars:void 0)&&r.get(function(t){return function(e,n){var o;return o=n.attempt,t.lesson.processInteraction({score:_.clone(t.game.score.attributes),time:_.clone(t.game.timer.attributes),id:t.options.id,name:t.options.name,type:t.options.type,nb_stars_earned:i,configuration:t.options.data.challenge_configuration,game:!0,slideData:t.options.data,attempt:o,answerDetails:("function"==typeof t.answerDetails?t.answerDetails():void 0)||[],metadata:t.options.metadata})}}(this)),s=i18n("game.of")||"of",this.getEl("stars").innerHTML=i+_.wrapInTag(" "+s+" "+o,"sup",{"class":"stars-total"}),e.__super__.afterAnimateScores.apply(this,arguments)},e.prototype.calculateStarsEarned=function(t){var e,i,n,o,s,r,a,l,d,u;return d=t.score,u=t.stars,a=t.range,s=a.min,o=a.max,r=u>1?u-1:1,n=function(){l=[];for(var t=0;0<=u?t<u:t>u;0<=u?t++:t--)l.push(t);return l}.apply(this).map(function(t){return(o-s)/r*t+s}),i=_.chain(n).filter(function(t){return d>=t}).last().value(),e=n.indexOf(i)+1,{earned:e}},e.prototype.onCorrectAnswer=function(){return this.game.extra.get("sounds")&&a.play("system:correct"),e.__super__.onCorrectAnswer.apply(this,arguments)},e.prototype.onIncorrectAnswer=function(){return this.game.extra.get("sounds")&&a.play("system:incorrect"),e.__super__.onIncorrectAnswer.apply(this,arguments)},e.prototype.showNext=function(t){},e.prototype.checkAnswer=function(){},e.prototype.screenshot=function(){return this.stopListening(),this.el.classList.remove("game-count-down","game-paused"),this.setState("playing","game"),e.__super__.screenshot.apply(this,arguments)},e}(s),i.exports=o}),require.register("views/base/slide.coffee",function(t,e,i){var n,o,s=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=Application.actions().Session,n=function(t){function e(){return this.slideCompleted=s(this.slideCompleted,this),e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.refresh=function(t,e){var i,n,o,s;return this.setState(!0,"refresh"),i=_.isEqual(_.omit(t.data,"answer"),_.omit(this.options.data,"answer")),i&&(n=(null!=(o=this.options.data.answer)?o.incorrect:void 0)===(null!=(s=t.data.answer)?s.incorrect:void 0)),this.options.data=t.data,this.options.metadata=t.metadata,i&&t.data.answer?this.trigger("complete",this,{isCorrect:n}):(this.undelegateEvents(),this.render(t,e),this.delegateEvents(),this.trigger("refresh",this),this.trigger("resize",this)),window.setTimeout(function(t){return function(){return t.setState(!1,"refresh")}}(this),0)},e.prototype.reset=function(){return this.undelegateEvents(),this.render(),this.delegateEvents()},e.prototype.submit=function(){var t,e,i,n,o,s,r,a;try{t="function"==typeof this.answerDetails?this.answerDetails():void 0}catch(l){e=l,console.error("Error on answer details",e),t=[]}return i=this.isCorrect(),o=this.currentState.state,n="prompt"===o&&(null!=(s=this.options.data.game)&&null!=(r=s.timer)?r.limit:void 0)>0,this.trigger("complete",this,{isCorrect:i,isTooSlow:n,answerDetails:t}),this.options.data.answer?(this.setState("complete"),(null!=(a=this.options.lessonConfiguration)?a.hasAnswerFeedback:void 0)?this.showAnswer():this.next()):this.next()},e.prototype.slideCompleted=function(t,e){var i,n;return null==t&&(t=this.isCorrect()),null==e&&(e="function"==typeof this.answerDetails?this.answerDetails():void 0),i=((null!=e?e.length:void 0)||0)>0,Application.publish("event:slide-completed")({isCorrect:t,isInteractive:i,hasAnswerFeedback:null!=(n=this.options.lessonConfiguration)?n.hasAnswerFeedback:void 0})},e.prototype.slideNext=function(){var t;return t=this.options.slideIndex,Application.publish("event:next-slide")({slideIndex:t})},e.prototype.answerDetails=function(){return[]},e.prototype.isCorrect=function(){return!0},e.prototype.showAnswer=function(){},e.prototype.exit=function(){return Backbone.Events.trigger("application-exit")},e.prototype.delegateEvents=function(){return e.__super__.delegateEvents.call(this),this.toggleNonBubblingEvents("add"),this.listenTo(this,"refresh",this.onRefresh),this.listenTo(this,"narration-loaded",this.onNarrationLoaded),this.listenTo(this,"narration-progress",this.onNarrationProgress),this.listenTo(this,"narration-pause",this.onNarrationComplete),this.listenTo(this,"narration-complete",this.onNarrationComplete)},e.prototype.undelegateEvents=function(){var t,i,n,o,s,r,a;this.stopListening(),this.toggleNonBubblingEvents("remove"),r=this;for(n in r)for(t=r[n],_.isArray(t)||(t=[t]),a=_.compact(t),i=0,o=a.length;i<o;i++)s=a[i],"function"==typeof s.undelegateEvents&&s.undelegateEvents();return e.__super__.undelegateEvents.call(this)},e.prototype.toggleNonBubblingEvents=function(t){var e,i,n,o,s;i={scroll:[".content-scroll",".content-sm-scroll",".content-md-scroll",".content-lg-scroll"]},o=[];for(n in i)s=i[n],o.push(function(){var i,o,r,a;for(r=this.el.querySelectorAll(s.join(", ")),a=[],i=0,o=r.length;i<o;i++)e=r[i],a.push(e[t+"EventListener"](n,this,!1));return a}.call(this));return o},e.prototype.handleEvent=function(t){switch(t.type){case"scroll":return this.onScroll(t)}},e.prototype.onScroll=function(t){return this.trigger("scroll",t)},e}(Backbone.View),i.exports=n}),require.register("views/base/slides.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b,x,w=function(t,e){return function(){return t.apply(e,arguments)}},k=function(t,e){function i(){this.constructor=t}for(var n in e)D.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},D={}.hasOwnProperty;s=e("collections/comments"),x=Application.actions(),f=x.Sound,n=x.Analytics,c=x.Session,d=e("views/components/lesson-menu"),p=e("views/components/slide-answer"),m=e("views/components/text-input"),h=e("views/components/social-learning"),u=e("lib/preload"),a=e("models/lesson"),l=e("models/lesson-engine"),b=e("lib/data-processer"),r=e("lib/i18n"),v=e("lib/device"),y=e("utils/network_utils"),g=e("utils/messaging").isValidEvent,o=function(t){function i(){return this.onComplete=w(this.onComplete,this),this.surveyCompleted=w(this.surveyCompleted,this),this.calculateDuration=w(this.calculateDuration,this),i.__super__.constructor.apply(this,arguments)}return k(i,t),i.prototype.templates={starsAvailable:e("templates/components/engine/stars-available"),starsEarned:e("templates/components/engine/stars-earned"),slideAnswer:e("templates/components/engine/slide-answer")},i.prototype.events={"iostap #slide-answer-continue":"onContinue","iostap #lesson-header-nav-menu-btn":"openMenu","iostap #lesson-header-nav-social-learning":"openSocialLearning","iostap #play-audio-popup .btn-yes":"onNarrationAccept","iostap #play-audio-popup .btn-no":"onNarrationReject"},i.prototype.initialize=function(t,e){var i;return e(),this.slideSocialComments=[],this.listenTo(this,"goToPage",this.onGoToPage),this.listenTo(this,"showView",this.onShowView),this.listenTo(Backbone.Events,"subscribe:event:comment-loaded",this.onCommentLoad),this.listenTo(Backbone.Events,"subscribe:event:goToPage",this.goToPage),this.listenTo(Backbone.Events,"subscribe:event:toggle-page-count",this.toggleHeaderPageCount),this.listenTo(Backbone.Events,"subscribe:event:toggle-title",this.toggleHeaderTitle),this.listenTo(Backbone.Events,"subscribe:event:toggle-nav-btn",this.toggleNavBtn),this.listenTo(Backbone.Events,"subscribe:event:toggle-open-menu-externally",this.toggleOpenMenuExternally),this.listenTo(Backbone.Events,"subscribe:event:resume-tracking",this.resumeTracking),this.listenTo(Backbone.Events,"subscribe:event:pause-tracking",this.pauseTracking),this.listenTo(Backbone.Events,"application-exit",this.onExit),this.listenTo(Backbone.Events,"ed-closed",this.onDisconnection),this.listenTo(Backbone.Events,"load-narration",this.onLoadNarration),this.listenTo(Backbone.Events,"subscribe:event:new-star",this.onNewStar),this.listenTo(Backbone.Events,"event:survey-complete",this.surveyCompleted),$(window).bind("unload pagehide",function(t){return function(){Application.publish("event:lesson-closed")({}),Application.publish("event:lesson-unload")({}),t.onExit()}}(this)),i=!1,$(document).on(["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"].join(" "),function(t){return function(){return i=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||!i,t.toggleUI({fullscreen:i})}}(this)),t.cms&&(window.ED_LMS_PREVIEW=!0),t["public"]&&(window.ED_PUBLIC_PREVIEW=!0),t.engine_preview&&(window.ENGINE_PREVIEW=!0),t.cms||t["public"]?window.addEventListener("message",function(t){return function(e){if(g(e))switch(e.data.type){case"go-to-page":return t.goToPageFromPreview(e.data.value,e.data.options);case"set-current-state":return t.setCurrentState(e.data.value);case"set-feature-flags":return t.setFeatureFlags(e.data.value);case"refresh":return t.refresh(e.data.value,e.data.options);case"refresh-current-view":return t.refreshCurrentView(e.data.value,e.data.config,e.data.slideIndex)}}}(this)):(this.lesson=new a,this.lesson.load(function(e){return function(i){var n,o;return null!=i?console.error("Error while loading the lesson data",i):(o=_.extend({},t,e.lesson.getSlides()),r.initialize((null!=(n=o.config)?n.language:void 0)||"en"),e.initRenderWith(o))}}(this)))},i.prototype.initRenderWith=function(t){return this.render(t),this.setElements(),u.preloadLessonAssets(t.slides),u.preloadThomasAssets()},i.prototype.onExit=function(){var t;if(this.stopCurrentNarration(),this.stopTracking(),Application.publish("event:exit")({}),Application.publish("lesson:exit")({}),null!=this.options&&this.options.scorm&&this.options.config.hasScormExitButton)try{return window.top.close()}catch(e){return t=e,console.error("error when closing window:",t)}},i.prototype.onDisconnection=function(){return this.el.querySelector("#disconnection-warning").classList.add("active")},i.prototype.refresh=function(t,e){var i,n,o,s,l,d,u,c,p;for(null!=(l=this.request)&&l.abort(),window.clearTimeout(this.timeout),delete this.currentIndex,d=this.slideViews||[],n=0,o=d.length;n<o;n++)p=d[n],p.undelegateEvents().remove();return i={withoutNarration:!0,forceResize:!0,isRefresh:!0},"function"==typeof f.disableSystemSounds&&f.disableSystemSounds(),this.lesson=new a(t),c=this.lesson.getSlides(),s=_.extend(i,c,e),r.initialize((null!=t&&null!=(u=t.config)?u.language:void 0)||"en"),this.render(s),this.setElements()},i.prototype.setFeatureFlags=function(t){
var i,n;null==t&&(t={});try{return i=e("constants/feature-flags"),i=Object.assign(i,JSON.parse(t))}catch(o){return n=o,console.log(n)}},i.prototype.setCurrentState=function(t){var e;return this.getCurrentSlide().setState(t),"complete"===t&&null!=(null!=(e=this.getCurrentSlide().options.data)?e.answer:void 0)?this.onComplete(this.getCurrentSlide(),{isCorrect:!0}):this.slideAnswerView.toggle(!1)},i.prototype.refreshCurrentView=function(t,e,i){var n;if(this.currentIndex===i)return null==this.currentIndex||(n=this.getCurrentSlide(),t.data=b.one(t.data,n.options.type,e),t.metadata=b.oneMD(t.metadata),null==n||_.isEqual(t.data,n.options.data))?void 0:(this.toggleViewInDOM(n,!0),n.withoutNarration=!0,n.refresh(t,e))},i.prototype.createSlideViews=function(t,e){var i,n,o,s,r,a;if(this.slideViews)for(r=this.slideViews,o=0,s=r.length;o<s;o++)a=r[o],a.off().undelegateEvents();if(this.setElements(),this.setGlobalStyles(this.options),this.slideViews=function(){var o,s,r,l;for(r=this.el.querySelectorAll(".slide"),l=[],n=o=0,s=r.length;o<s;n=++o)i=r[n],a=this.createViewFor(i,this.options.slides[n],t,e,n),a.on("ui",this.toggleUI,this),a.on("complete",this.onComplete,this),a.on("refresh",this.onRefresh,this),a.on("scroll",this.onScroll,this),a.on("video-play",this.onVideoPlay,this),a.on("video-pause",this.onVideoPause,this),l.push(a);return l}.call(this),this.options.debug)return this.logMenu()},i.prototype.logMenu=function(){var t,i,n,o,s,r,a,l;for(t=new(e("lib/logger"))((!window.cordova),"MENU","#2DB906"),a=this.slideViews,l=[],n=o=0,s=a.length;o<s;n=++o){for(i=a[n],r=i.options.name;r.length<22;)r+=" ";l.push(t(r+" "+window.location.origin+"/#slide/"+(n+1)))}return l},i.prototype.createViewFor=function(t,i,n,o,s){var r,a;return r=e("engine/"+i.type+"/view"),a=new r(this.optionsForView(t,i,n,o,s)),a.lesson=this.lesson,a},i.prototype.getExtraConfig=function(t){var e,i,n,o,s;return i={locked:!0,contextRequiresExitButton:!window.ED_PUBLIC_PREVIEW&&!t.hideExitButton&&(!t.scorm||t.config.hasScormExitButton),contextAllowsFreeNavigation:!(t.scorm||(null!=(n=window.__)&&null!=(o=n.slidedeck)?o.isScored:void 0)),networkOnline:y.checkOnline()},e=null!=(s=window.__)?s.downloadConfiguration:void 0,t.config=_.extend({},i,t.config,e),t},i.prototype.toggleUI=function(t){var e,i,n;null!=t.lightbox&&(null==t.minimal&&(t.minimal=t.lightbox),this.lightboxBgEl.style.backgroundColor="string"==typeof t.lightbox?t.lightbox:t.lightbox?"#111":""),i=[];for(e in t)n=t[e],null!=n?i.push(this.el.classList.toggle("ui-"+written.hyphenCase(e),n)):i.push(void 0);return i},i.prototype.onVideoPlay=function(){return this.toggleUI({videoActive:!0}),Application.publish("event:video-play")({})},i.prototype.onVideoPause=function(){return this.toggleUI({videoActive:!1})},i.prototype.toggleStars=function(t){if(null!=this.slideViews[t]&&!this.options.scorm)return c.get(function(e){return function(i,n){var o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b,x,w,k,D,T;return k=n.stars,o=n.alreadyCompleted,l=n.enableStars,p=e.slideViews[t].options,r=p.data,d=p.id,D=k&&_.find(Object.keys(k),function(t){return t.length>1})?d:t,c="QuestionPool"===e.slideViews[t].options.metadata.friedrichType,w=0===(null!=r&&null!=(h=r.challenge_configuration)?h.nb_stars:void 0)?0:(null!=r&&null!=(f=r.challenge_configuration)?f.nb_stars:void 0)||(null!=r&&null!=(m=r.challenge_configuration)?m.weighting:void 0)||0,s=c||!l&&!e.options.enableStars?0:null!=(v=null!=k&&null!=(g=k[D])?g.available:void 0)?v:w,a=(null!=k&&null!=(y=k[D])?y.earned:void 0)||0,T=s+a,u=null!=(null!=r&&null!=(b=r.game)&&null!=(x=b.stars)?x.min:void 0),window.clearTimeout(e.starsTimeout),s>0?e.starsTimeout=window.setTimeout(function(){return e.slideStarsEl.innerHTML=e.templates.starsAvailable({available:s}),e.slideStarsEl.offsetLeft,e.el.classList.add("display-stars-avail"),e.starsTimeout=window.setTimeout(function(){return e.el.classList.remove("display-stars-avail")},2100)},600):e.el.classList.remove("display-stars-avail")}}(this))},i.prototype.calculateDuration=function(t){var e,i,n,o,s,r,a;if(null!=(null!=(s=this.durations)?s[t]:void 0)){for(i=0,r=this.durations[t],n=0,o=r.length;n<o;n++)e=r[n],i+=(null!=(a=e.end)?a:Date.now())-e.start;return i}return-1},i.prototype.surveyCompleted=function(t){var e,i,n,o;return n=t.slide_id,o=t.user_input,e=t.attempt,i=this.calculateDuration(n),this.lesson.processInteraction({survey:!0,slide_id:n,user_input:o,attempt:e,duration:i})},i.prototype.onComplete=function(t,e){var i,n,o,s,r,a,l,d,u,p,h,m;return r=e.isCorrect,a=e.isTooSlow,i=e.answerDetails,p=t.options,u=p.name,m=p.type,o=p.data,s=p.id,l=p.lessonConfiguration,d=p.lessonId,n=p.courseId,h=this.calculateDuration(t.id),c.get(function(e){return function(c,p){var v,g,y;if(v=p.attempt,e.lesson.processInteraction({lesson_id:d,course_id:n,id:s,name:u,type:m,slideData:o,correct:r,tooSlow:a,answerDetails:i,configuration:o.challenge_configuration,playedSound:!0,attempt:v,metadata:t.options.metadata,duration:h}),null!=r&&(null!=l?l.hasAnswerFeedback:void 0)&&null!=o.answer)return s=r?"system:correct":"system:incorrect",f.play(s),y=null!=(g=o.game)?g.timer["out-of-time-prompt"]:void 0,y&&""!==y.trim()||(y=i18n("slide-answer.times-up")),e.slideAnswerView.render({isCorrect:r,isTooSlow:a,timerPrompt:y,answer:o.answer}),e.slideAnswerView.toggle(!0)}}(this))},i.prototype.onRefresh=function(){return this.setElements(),this.toggleStars(this.scroller.currentPage.pageX),this.slideAnswerView.toggle(!1)},i.prototype.onContinue=function(){return this.slideAnswerView.toggle(!1),this.getCurrentSlide().next()},i.prototype.openMenu=function(){return this.shouldOpenMenuExternally===!0?Application.publish("event:open-menu")({slideId:this.getCurrentSlide().id}):this.lessonMenuView.open()},i.prototype.openSocialLearning=function(){return Application.publish("event:social-view-clicked")({slideId:this.getCurrentSlide().id}),this.socialLearningView.open(this.getCurrentSlide(),this.slideSocialComments)},i.prototype.toggleHeaderPageCount=function(t){var e;return e=this.el.querySelector("#lesson-header-nav-page-count"),t===!0?e.style.display="inline-block":e.style.display="none"},i.prototype.toggleHeaderTitle=function(t){var e;return e=this.el.querySelector("#lesson-header-title-content"),t===!0?e.style.display="block":e.style.display="none"},i.prototype.toggleNavBtn=function(t){var e;return e=this.el.querySelector("#lesson-header-nav-menu-btn"),t===!0?e.style.display="inline-block":e.style.display="none"},i.prototype.toggleOpenMenuExternally=function(t){return this.shouldOpenMenuExternally=t},i.prototype.onGoToPage=function(t,e,i){return null==i&&(i={}),this.slideSocialComments=[],this.slideStarsEl&&this.starsAlertEl&&this.slideAnswerView||this.setElements(),this.toggleStars(t),this.toggleUI({lightbox:!1}),this.slideAnswerView.toggle(!1),this.lessonMenuView.setPage(t),this.socialLearningView.exit()},i.prototype.onShowView=function(t){var e;return null!=(e=this.socialIconEl)&&e.classList.remove("has-count"),this.startTracking(t),2!==window.location.href.split("thumbnail=true").length&&this.playNarration(t),this.el.classList.remove("scroll-top","scroll-bottom","scroll-middle")},i.prototype.onScroll=function(t,e){var i;return i=null!=t?t.currentTarget:void 0,null==e&&(e=function(){switch(i.scrollTop){case 0:return"top";case i.scrollHeight-i.offsetHeight:return"bottom";default:return"middle"}}()),this.el.classList.toggle("scroll-top","top"===e),this.el.classList.toggle("scroll-bottom","bottom"===e),this.el.classList.toggle("scroll-middle","middle"===e)},i.prototype.goToPageFromPreview=function(t,e){var i,n;return null!=(i=this.slideViews[t])&&i.reset(),null!=(n=this.slideViews[t])&&(n.withoutNarration=!0),this.goToPage(t,e.ms,{fromPreview:!0}),window.clearTimeout(this.gotoTimeout),this.gotoTimeout=window.setTimeout(function(e){return function(){var i;return null!=(i=e.slideViews[t])?i.trigger("resize"):void 0}}(this),600)},i.prototype.onCommentLoad=function(t){var e,i,n,o;if(e=t.comments,o=t.total,i=t.hasMore,e&&(this.slideSocialComments=e),null!=(n=this.socialIconEl)&&n.classList.toggle("has-count",o>0),e)return this.socialLearningView.updateComments(this.slideSocialComments,i)},i.prototype.onNewStar=function(t){var e,i,n;if(e=t.earned,n=t.total,i=t.score,window.clearTimeout(this.starAlertTimeout),e>0&&i>0)return this.starsAlertEl.classList.add("before-display"),this.starAlertTimeout=window.setTimeout(function(t){return function(){var o;return t.starsAlertEl.innerHTML=t.templates.starsEarned({stars:function(){o=[];for(var t=0;0<=n?t<n:t>n;0<=n?t++:t--)o.push(t);return o}.apply(this).map(function(t,e){return{complete:e<i}})}),t.starsAlertEl.offsetLeft,t.starsAlertEl.classList.add("display"),t.starAlertTimeout=window.setTimeout(function(){return t.starsAlertEl.classList.remove("display","before-display")},2100),c.get(function(i,n){var o,s,r,a,l;if(a=n.stars,Array.isArray(a)?l=a[t.currentIndex]:(r=null!=(o=t.slideViews[t.currentIndex])?o.id:void 0,l=a[r]),null!=l)return s=l.available,l.earned=Math.min(l.earned+e,l.available),l.available=Math.max(0,l.available-e)})}}(this),300)},i.prototype.onLoadNarration=function(t){return this.el.classList.toggle("is-loading-narration",t)},i.prototype.setElements=function(){var t,e,i,n,o;return this.slideStarsEl=this.el.querySelector("#stars-available"),this.starsAlertEl=this.el.querySelector("#stars-earned"),this.audioPopupEl=this.el.querySelector("#play-audio-popup"),this.lightboxBgEl=this.el.querySelector("#slides-lightbox-bg"),this.socialIconEl=this.el.querySelector("#lesson-header-nav-social-learning"),null!=(e=this.textInputView)&&e.undelegateEvents(),this.textInputView=new m({el:"#text-input-view"}),this.textInputView.on("open",function(t){return function(){return t.toggleUI({textInput:!0})}}(this)),this.textInputView.on("exit",function(t){return function(){return t.toggleUI({textInput:!1})}}(this)),null!=(i=this.socialLearningView)&&i.undelegateEvents(),this.socialLearningView=new h({el:"#social-view"}),this.socialLearningView.on("open",function(t){return function(){return t.toggleUI({socialLearning:!0}),t.socialLearningOpen=!0}}(this)),this.socialLearningView.on("exit",function(t){return function(){return t.toggleUI({socialLearning:!1}),t.socialLearningOpen=!1}}(this)),"iOS"===v.platform&&document.addEventListener("touchmove",function(t){return function(e){var i;if(t.socialLearningOpen){if(!$(e.target).parents("#social-view-messages").length)return e.preventDefault();if(i=document.getElementById("social-view-messages-list"),!i||i.scrollHeight<=i.clientHeight)return e.preventDefault()}}}(this),{passive:!1}),t=function(t){return function(e){return t.toggleViewInDOM(t.slideViews[e],!0),t.slideViews[e].el.offsetWidth,t.goToPage(e)}}(this),null!=(n=this.lessonMenuView)&&n.undelegateEvents(),this.lessonMenuView=new d({el:this.el.querySelector("#lesson-menu"),back:function(e){return function(){return t(e.currentIndex-1),e.trigger("thomas-menu:back")}}(this),restart:function(e){return function(){return t(0),e.trigger("thomas-menu:restart")}}(this),exit:function(t){return function(){return t.trigger("thomas-menu:exit")}}(this),scorm:this.options.scorm,isQuiz:this.options.config.isQuiz}),this.socialLearningView.getCurrentPage=function(t){return function(){return t.currentIndex}}(this),null!=(o=this.slideAnswerView)&&o.undelegateEvents(),this.slideAnswerView=new p({el:this.el.querySelector("#slide-answer")})},i.prototype.setGlobalStyles=function(t){return _.extend(this.options,t),this.setColors(),this.setCustomCSS(),this.setBackgroundImage(),this.initializeHtmlLang(),this.lessonMenuView.updateStyle(this.options.config)},i.prototype.setColors=function(){var t,e,i,n,o;if(null!=(null!=(i=this.options.config)?i.colors:void 0))return n=this.options.config.colors,o=n.text,t=n.background,this.el.className=this.el.className.replace(/theme-[\w-]+/,""),this.options.config.colors.theme&&this.el.classList.add("theme-"+this.options.config.colors.theme.replace(/\s/g,"")),this.el.style.color=o,this.el.style.backgroundColor=t,document.body.style.backgroundColor=t,e=window.getComputedStyle(this.el).color.split(/\D+/).filter(function(t){return t}).slice(0,3).map(parseFloat).reduce(function(t,e){return t+e/255},0)/3<.3,this.el.classList.toggle("text-dark",e)},i.prototype.setCustomCSS=function(){var t,e,i,n;if(null!=(e=this.options.config)?e.enableCustomCSS:void 0)return t=null!=(i=this.options.config)?i.customCSS:void 0,null!=(n=this.el.querySelector("#custom-css"))?n.innerHTML=t:void 0},i.prototype.setBackgroundImage=function(){var t,e,i;return t=this.el.querySelector("#slides-background"),e=null!=(null!=(i=this.options.config)?i.background:void 0)?"url("+this.options.config.background+")":"",null!=t&&(t.style.backgroundImage=e),document.body.style.backgroundImage=e},i.prototype.initializeHtmlLang=function(){var t;return document.documentElement.lang=null!=(t=this.options.config)?t.language:void 0},i.prototype.startTracking=function(t){var e,i,n,o;return null==this.durations&&(this.durations={}),this.stopTracking(),Application.publish("event:slide-start")({slideId:t.id}),e=null!=(n=t.options)?n.id:void 0,i=t.getTrackingTitle()||(null!=(o=t.options)?o.name:void 0),this.durations[e]=[{start:Date.now(),end:null,name:i}]},i.prototype.pauseTracking=function(){var t,e;if(t=this.getCurrentSlide(),e=this.durations[t.id])return e[e.length-1].end=Date.now()},i.prototype.resumeTracking=function(){var t,e;if(t=this.getCurrentSlide(),e=this.durations[t.id])return e.push({start:Date.now(),end:null,name:name})},i.prototype.stopTracking=function(){var t,e,i,o,s,r;o=[];for(t in this.durations)s=null!=(e=this.durations[t])&&null!=(i=e[0])?i.name:void 0,r=this.calculateDuration(t),delete this.durations[t],o.push(c.get(function(e,i){var o;return o=i.sessionId,n.trackView({name:s,id:t,duration:r,session:o})}));return o},i.prototype.getCurrentSlide=function(){return this.slideViews[this.currentIndex]},i.prototype.stopCurrentNarration=function(){if(null!=this.narration)return f.stop(this.narration)},i.prototype.onNarrationReject=function(){var t;return t=this.getCurrentSlide(),this.audioPopupEl.classList.remove("active"),t.trigger("narration-complete"),t.setState("prompt")},i.prototype.onNarrationAccept=function(){return this.audioPopupEl.classList.remove("active"),this.playNarration(this.getCurrentSlide())},i.prototype.playNarration=function(t){var e,i,n,o;if(this.stopCurrentNarration(),window.clearTimeout(this.narrationTimeout),!t.withoutNarration&&!this.options.withoutNarration)return e=null!=t?t.serialize():void 0,o=100,i=!1,this.narration=null!=(n=e.narration)?n.audio_file:void 0,this.narration?(Application.publish("event:narration-started")({can_not_be_skipped:e.narration.can_not_be_skipped}),e.narration.can_not_be_skipped&&(t.setState("narration"),t.trigger("narration-progress",0)),this.narrationTimeout=window.setTimeout(function(n){return function(){var o;return(o=f.firstSoundPlayed||function(t){return t(null,!0)})(function(o,s){return s?f.play(n.narration,{cb:function(){},onProgress:function(e){return i||(t.trigger("narration-loaded",e),i=!0),t.trigger("narration-progress",e)},onComplete:function(i){return function(o){var s;return Application.publish("event:narration-completed")({can_not_be_skipped:e.narration.can_not_be_skipped}),e.narration.progress_on_completion&&(null!=(s=n.getCurrentSlide())?s.id:void 0)===(null!=i?i.id:void 0)?t.next():t.trigger("narration-complete")}}(n.getCurrentSlide())}):n.audioPopupEl.classList.add("active")})}}(this),o)):void 0},i}(Backbone.View),i.exports=o}),require.register("views/components/draggy.coffee",function(t,e,i){var n,o,s,r,a,l,d,u,c=function(t,e){function i(){this.constructor=t}for(var n in e)p.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty;s=e("lib/easie"),a=e("lib/prefix"),d=e("lib/element").getBounds,u=e("lib/device").events.pointer,l=Math.PI/2,r=2*Math.PI,o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.initialize=function(t){var e,i,n,o,s,r;return this.options=t,null==(e=this.options).minX&&(e.minX=-Infinity),null==(i=this.options).minY&&(i.minY=-Infinity),null==(n=this.options).maxX&&(n.maxX=Infinity),null==(o=this.options).maxY&&(o.maxY=Infinity),this.x=null!=(s=this.el.dataset)?s.x=0:void 0,this.y=null!=(r=this.el.dataset)?r.y=0:void 0,this.velocity={},this.getOffset()},e.prototype.events=function(){var t;return t={dragstart:"preventDefault"},t[u.start]="onStart",t},e.prototype.bindExtra=function(){return document.addEventListener(u.move,this,!1),document.addEventListener(u.end,this,!1)},e.prototype.unbindExtra=function(){return document.removeEventListener(u.move,this,!1),document.removeEventListener(u.end,this,!1)},e.prototype.handleEvent=function(t){switch(t.type){case u.move:t.preventDefault(),this.onMove(t);break;case u.end:this.onEnd(t)}},e.prototype.undelegateEvents=function(){return this.unbindExtra(),e.__super__.undelegateEvents.apply(this,arguments)},e.prototype.onStart=function(t){if(!this.locked)return this.options.allowPropagation||t.stopImmediatePropagation(),this.el.classList.add("active"),this.el.style.zIndex=99,this.el.style[a("touchAction")]="none",this.history=[],this.getOffset(),this.getStart(t),this.onMove(t),this.bindExtra()},e.prototype.onMove=function(t){var e,i;return t.preventDefault(),e=u.isTouch?t.touches[0]:t,i=this.constrain({x:e.pageX-this.start.x,y:e.pageY-this.start.y,buffer:20}),this.x=i.x,this.y=i.y,this.t=i.t,this.getVelocity(),this.trigger("drag",this,t.type===u.start),this.disableUserSelect()},e.prototype.disableUserSelect=function(){return document.body.classList.add("disable-select")},e.prototype.onEnd=function(t){var e;return this.unbindExtra(),e=this.constrain({x:this.x,y:this.y,t:this.t,buffer:0}),this.x=e.x,this.y=e.y,this.t=e.t,this.el.dataset.x=this.x,this.el.dataset.y=this.y,this.el.dataset.t=this.t,this.el.classList.remove("active"),this.el.style.zIndex="",this.el.style[a("touchAction")]="",this.trigger("drop",this),document.body.classList.remove("disable-select")},e.prototype.getOffset=function(){var t,e,i,n,o,s,r;return n=this.el.getBoundingClientRect(),s=n.top,i=n.left,o=n.right,t=n.bottom,r=n.width,e=n.height,this.offset=d(this.el,{x:this.options.isParent?0:-this.x,y:this.options.isParent?0:-this.y})},e.prototype.getStart=function(t){var e;if(e=u.isTouch?t.touches[0]:t,this.start={x:e.pageX-this.x,y:e.pageY-this.y},this.options.isParent&&(this.start.x+=this.x+this.offset.left-e.pageX,this.start.y+=this.y+this.offset.top-e.pageY),this.options.radius)return this.start.x+=this.options.radius,this.start.y+=this.options.radius},e.prototype.getVelocity=function(t){var e,i,n,o,s,r,a,d,u;return null==t&&(t=300),o=Date.now(),this.history.push({x:this.x,y:this.y,timestamp:o}),n=this.history.filter(function(e){return o-e.timestamp<t}),s=function(){var t,i,s,r;for(s=["x","y"],r=[],t=0,i=s.length;t<i;t++)e=s[t],a=n.reduce(function(t,i,n,o){var s;return s=o[n-1]||i,t+(s[e]-i[e])},0),r.push(a/(o-n[0].timestamp));return r}(),d=s[0],u=s[1],r=-Math.atan2(d,u),i=function(){switch(Math.round(r/l)){case 0:return"up";case 1:return"right";case 2:case-2:return"down";case-1:return"left";default:return"none"}}(),this.velocity={x:d,y:u,t:r,dir:i}},e.prototype.constrain=function(t){var e,i,n,o,s,r,a,l,d,u,c,p;return c=t.x,p=t.y,e=t.buffer,l=this.options,s=l.minX,r=l.minY,n=l.maxX,o=l.maxY,i=l.lock,a=l.radius,a?(u=this.toAngle(c,p),d=this.toPosition(u),c=d.x,p=d.y):(c="x"===i?0:this.limit(c,s,n,e),p="y"===i?0:this.limit(p,r,o,e)),{x:c,y:p,t:u}},e.prototype.limit=function(t,e,i,n){return t<e?e-s.expoOut(e-t,0,n,i-e):t>i?i+s.expoOut(t-i,0,n,i-e):t},e.prototype.setPosition=function(t){var e,i,n,o,s;return e=null!=t?t:{},o=e.x,s=e.y,n=e.t,null!=o||null!=s||null==n?(null==o&&(o=0),null==s&&(s=0),n=this.toAngle(o,s),n<0&&(n+=r)):null!=n&&(i=this.toPosition(n),o=i.x,s=i.y),this.el.dataset.t=this.t=n,this.el.dataset.x=this.x=o,this.el.dataset.y=this.y=s},e.prototype.reset=function(t){var e,i,n,o;return e=null!=t?t:{},n=e.x,o=e.y,i=e.t,this.setPosition({x:n,y:o,t:i}),this.trigger("drop",this,!0)},e.prototype.resetPosition=function(){return this.el.dataset.t=this.t=0,this.el.dataset.x=this.x=0,this.el.dataset.y=this.y=0},e.prototype.toAngle=function(t,e){return-Math.atan2(t,e)+Math.PI},e.prototype.toPosition=function(t){return{x:Math.cos(t-l)*this.options.radius,y:Math.sin(t-l)*this.options.radius}},e.prototype.lock=function(){return this.locked=!0,this.el.classList.add("locked")},e.prototype.unlock=function(){return this.locked=!1,this.el.classList.remove("locked")},e.prototype.isWithin=function(t,e){var i,n,o,s,r;return null==e&&(e=0),this.options.isParent?n=r=s=i=0:(o=this.offset,n=o.left,r=o.top,s=o.right,i=o.bottom),n+this.x>t.left-e&&s+this.x<t.right+e&&r+this.y>t.top-e&&i+this.y<t.bottom+e},e.prototype.isOver=function(t,e){var i,n,o,s,r,a,l;return o=t.left,a=t.top,r=t.right,i=t.bottom,s=this.offset,l=s.width,n=s.height,o-=l,r+=l,a-=n,i+=n,this.isWithin({left:o,top:a,right:r,bottom:i},e)},e.prototype.closest=function(t){var e,i;return e={xmin:this.offset.left+this.x,xmax:this.offset.left+this.x+this.offset.width,ymin:this.offset.top+this.y,ymax:this.offset.top+this.y+this.offset.height},null!=(i=_.chain(t).map(function(t){return{xmin:t.left,xmax:t.left+t.width,ymin:t.top,ymax:t.top+t.height}}).map(function(t,i){var n,o,s;return o=Math.min(e.xmax,t.xmax)-Math.max(e.xmin,t.xmin),s=Math.min(e.ymax,t.ymax)-Math.max(e.ymin,t.ymin),o>=0&&s>=0&&(n=o*s),{area:n,index:i}}).filter("area").sortBy("area").last().value())?i.index:void 0},e.prototype.distanceTo=function(t,e,i){var n,o,s,r,a,l,d,u,c,p,h;return l=null!=i?i:{},n=l.fromCenter,r=l.offsetX,a=l.offsetY,d=this.offset,s=d.left,u=d.top,c=d.width,o=d.height,null==r&&(r=n?s+c/2:0),null==a&&(a=n?u+o/2:0),p=t-(this.x+r),h=e-(this.y+a),Math.sqrt(p*p+h*h)},e.prototype.preventDefault=function(){return!1},e}(Backbone.View),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.bindExtra=function(){return e.__super__.bindExtra.apply(this,arguments),document.addEventListener("mouseout",this,!1)},e.prototype.unbindExtra=function(){return e.__super__.unbindExtra.apply(this,arguments),document.removeEventListener("mouseout",this,!1)},e.prototype.handleEvent=function(t){if(e.__super__.handleEvent.apply(this,arguments),"mouseout"===t.type)return this.onEnd(t)},e}(o),i.exports={DraggyView:o,AutoCursorRemoveDraggy:n}}),require.register("views/components/lesson-menu.coffee",function(t,e,i){var n,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={"iostap #lesson-menu-exit":"exit","iostap #lesson-menu-go-back":"back","iostap #lesson-menu-restart":"restart","iostap #lesson-menu-cancel":"close"},e.prototype.initialize=function(t){return this.options=t,this.pageNumber=this.el.querySelector("#lesson-menu-page-count")},e.prototype.open=function(){return this.el.classList.add("active")},e.prototype.close=function(){return this.el.classList.remove("active")},e.prototype.exit=function(){return this.options.exit(),Backbone.Events.trigger("application-exit"),Application.publish("event:menu-exit")({})},e.prototype.back=function(){return this.options.back(),this.close()},e.prototype.restart=function(){return this.options.restart(),this.close()},e.prototype.updateStyle=function(t){var e,i,n,o,s,r;return o=null!=t?t:{},i=o.colors,e=o.background,n=null!=e?"url("+e+")":"",s=i||{},r=s.text,e=s.background,this.el.style.backgroundImage=n,this.el.style.backgroundColor=e,this.el.style.color=r},e.prototype.setPage=function(t){var e;return e=this.pageNumber.dataset.total,this.options.isQuiz?this.pageNumber.innerHTML=window.marked(i18n("menu.brainboost-page-count",{index:t+1,total:e})):this.pageNumber.innerHTML=window.marked(i18n("menu.page-count",{index:t+1,total:e})),$(this.el).removeClass(function(t,e){return(e.match(/page-\d+/g)||[]).join(" ")}),this.el.classList.add("page-"+(this.currentIndex=t))},e}(Backbone.View),i.exports=n}),require.register("views/components/menu.coffee",function(t,e,i){var n,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events=function(){},e.prototype.show=function(){return this.el.classList.add("show")},e.prototype.hide=function(){return this.el.classList.remove("show")},e}(Backbone.View),i.exports=n}),require.register("views/components/picker.coffee",function(t,e,i){var n,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(t){return this.options=t,this.value=this.el.dataset.value=this.options.value,this.scroller=this.el.querySelector(".number-picker-nums-scroller"),this.getOffset()},e.prototype.events=function(){return{"iostap .number-picker-arr-up":"onTapUp","iostap .number-picker-arr-down":"onTapDown"}},e.prototype.setBy=function(t){var e;return e=this.value+t,e>9&&(e=0),e<0&&(e=9),this.value=this.el.dataset.value=e,this.trigger("change",this,t)},e.prototype.onTapUp=function(){return this.setBy(1,!0)},e.prototype.onTapDown=function(){return this.setBy(-1,!1)},e.prototype.toggleUp=function(t){return this.el.classList.toggle("disabled-up",t)},e.prototype.toggleDown=function(t){return this.el.classList.toggle("disabled-down",t)},e.prototype.getOffset=function(){var t;return t=this.el.querySelector(".number-picker-nums"),this.offset={width:t.offsetWidth,height:t.offsetHeight}},e}(Backbone.View),i.exports=n}),require.register("views/components/slide-answer.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;n=e("views/components/draggy").DraggyView,s=e("lib/element"),r=s.transform,a=s.transition,o=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return l(i,t),i.prototype.template=e("templates/components/engine/slide-answer"),i.prototype.events=function(){return{"touchstart #slide-answer-details .content-scroll":"toggleDraggy","touchmove  #slide-answer-details .content-scroll":"toggleDraggy","touchend   #slide-answer-details .content-scroll":"toggleDraggy"}},i.prototype.initialize=function(){return this.draggy=new n({el:this.el,lock:"x",minY:0,maxY:this.el.offsetHeight,isParent:!1,allowPropagation:!0}),this.toggle(!1),this.listenTo(this.draggy,"drag",this.onDrag),this.listenTo(this.draggy,"drop",this.onDrop)},i.prototype.render=function(t){return null==t&&(t={}),t=_.extend({},typogr,t),this.el.classList.toggle("has-takeaway",t.answer.takeaway),this.el.innerHTML=this.template(t),this.draggy.getOffset(),this.draggy.options.maxY=this.el.offsetHeight},i.prototype.onDrag=function(t,e){return r(t.el,{y:t.y,opacity:1-t.y/t.options.maxY/6,transition:e?"all 300ms":"none"})},i.prototype.onDrop=function(t,e){return e?r(t.el,{y:t.y,opacity:1,transition:"all 300ms"}):t.reset()},i.prototype.toggle=function(t){return t?this.draggy.unlock():this.draggy.lock(),a(this.el,"all 300ms "+(t?600:0)+"ms",!0),r(this.el,{y:t?0:"100%"})},i.prototype.destroy=function(){return this.draggy.undelegateEvents(),this.draggy=null,this.undelegateEvents()},i.prototype.toggleDraggy=function(t){return t.currentTarget.scrollHeight>t.currentTarget.offsetHeight&&t.stopImmediatePropagation(),!0},i}(Backbone.View),i.exports=o}),require.register("views/components/social-learning.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;n=e("collections/comments"),s=10,o=140,r=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return a(i,t),i.prototype.templates={list:e("templates/components/engine/social-learning-comments")},i.prototype.events={open:"open",exit:"exit",iostap:"exit","iostap .comment-like":"likeComment","iostap .comment-flag":"flagComment","iostap .comment-delete":"deleteComment","iostap .comment":"toggleComment","focus #social-view-input-text":"onFocus","iostap #social-view-start":"openInput","iostap #social-view-input-confirm":"addComment","iostap #social-view-input-cancel":"closeInput","input #social-view-input-text":"onChangeText"},i.prototype.initialize=function(){if(this.eventSuffix="",this.listenTo(Backbone.Events,"open-social-learning",function(t){return function(e){var i,n,o;return o=e.slide,n=e.peerAuthoring,i=e.contentId,t.open(o,void 0,n,i)}}(this)),this.el)return window.navigator.userAgent.match(/iP(ad|hone|od)/)&&this.el.classList.add("is-ios"),this.elements={list:this.el.querySelector("#social-view-messages-list"),input:this.el.querySelector("#social-view-input-text"),title:this.el.querySelector("#social-view-input-title"),limit:this.el.querySelector("#social-view-input-limit"),count:this.el.querySelector("#social-view-input-slide-count")}},i.prototype.open=function(t,e,i,o){return this.slide=t,this.peerAuthoring=i,this.contentId=o,this.peerAuthoring?this.eventSuffix="-pa":this.eventSuffix="",!this.peerAuthoring&&e.length<s?this.isNoMoreComments=!0:this.isNoMoreComments=!1,this.id=this.slide.id,this.comments=new n,e&&this.comments.add(e),this.listenTo(this.comments,"change add remove",this.renderComments),this.renderComments(),this.renderSlideData(),this.peerAuthoring&&this.getMoreComments(),this.el.classList.add("visible"),this.trigger("open"),this.elements.list.addEventListener("scroll",this),this.showtimeout=window.setTimeout(function(t){return function(){return t.active=!0,t.el.classList.add("active")}}(this),300)},i.prototype.updateComments=function(t,e){if(e&&(this.isNoMoreComments=!1),this.comments)return this.comments.set(t)},i.prototype.renderComments=function(){var t,e,i,n;if(this.comments)return e=this.comments.toJSON(),n=/^(\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83D\uDC69\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83D\uDC69\u200D[\u2695\u2696\u2708])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC68(?:\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)+$/,
i=function(t){return t.length<16&&t.match(n)},this.isLoading=!1,this.el.classList.remove("is-loading"),t=this.templates.list({comments:e,isEmoji:i,peerAuthoring:this.peerAuthoring,isNoMoreComments:this.isNoMoreComments}),$(this.elements.list).html(t)},i.prototype.renderSlideData=function(){var t,e,i;if(null!=(e=this.slide.lesson)?e.configuration:void 0)return $(this.elements.title).html(this.slide.lesson.configuration.title||""),$(this.elements.count).html([this.getCurrentPage()+1,this.slide.lesson.configuration.slides.length].join(" / ")),t=(null!=(i=this.slide.options.data.socialLearning)?i.maxResponseLength:void 0)||140,$(this.elements.limit).html(t),this.el.classList.toggle("has-limit",t>0)},i.prototype.exit=function(t){if((null!=t?t.target:void 0)===this.el||!(null!=t?t.target:void 0))return window.clearTimeout(this.showtimeout),document.activeElement&&document.activeElement.blur(),this.active=!1,this.elements.input.value="",this.elements.list.removeEventListener("scroll",this),this.el.classList.remove("active"),this.el.classList.remove("visible"),this.trigger("exit"),Backbone.Events.trigger("social-learning:exit")},i.prototype.onBlur=function(){if(this.active)return this.exit()},i.prototype.toggleComment=function(t){var e,i;return e=t.currentTarget,e.classList.toggle("is-selected"),e!==this.elements.activeComment&&null!=(i=this.elements.activeComment)&&i.classList.remove("is-selected"),e.classList.contains("is-selected")?this.elements.activeComment=e:delete this.elements.activeComment},i.prototype.likeComment=function(t){var e;return t.stopImmediatePropagation(),e=this.comments.like(this.id,t.currentTarget.dataset.id),e?Application.publish("event:like-comment"+this.eventSuffix)({slideId:this.id,commentId:t.currentTarget.dataset.id,contentId:this.contentId}):Application.publish("event:unlike-comment"+this.eventSuffix)({slideId:this.id,commentId:t.currentTarget.dataset.id,contentId:this.contentId})},i.prototype.flagComment=function(t){var e;if(t.stopImmediatePropagation(),e=this.comments.flag(t.currentTarget.dataset.id))return Application.publish("event:flag-comment"+this.eventSuffix)({slideId:this.id,commentId:t.currentTarget.dataset.id,contentId:this.contentId})},i.prototype.deleteComment=function(t){return t.stopImmediatePropagation(),Application.publish("event:delete-comment"+this.eventSuffix)({slideId:this.id,commentId:t.currentTarget.dataset.id,contentId:this.contentId})},i.prototype.openInput=function(t){return this.el.classList.add("is-input-mode"),this.elements.input.focus()},i.prototype.onFocus=function(){return window.setTimeout(function(){return Application.publish("event:scroll-to-top"+this.eventSuffix)()},400)},i.prototype.handleEvent=function(t){switch(t.type){case"scroll":return this.onScroll(t)}},i.prototype.onScroll=function(t){return t.target.scrollTop>=t.target.scrollHeight-t.target.offsetHeight?this.getMoreComments():t.target.scrollTop>0?(this.elements.list.firstChild.style.transform="translate3d(0,0,0)",this.elements.list.firstChild.offsetHeight,this.elements.list.firstChild.style.transform=""):void 0},i.prototype.closeInput=function(){return this.el.classList.remove("is-input-mode"),this.elements.input.blur()},i.prototype.addComment=function(){var t,e,i,n,o,r;return e=this.elements.input.value,t=(null!=(i=this.slide.options)&&null!=(n=i.data)&&null!=(o=n.socialLearning)?o.maxResponseLength:void 0)||5e3,(null!=(r=this.comment)?r.length:void 0)>=s-1&&(this.isNoMoreComments=!1),e&&e.length<=t?(this.elements.input.value="",this.updateCharacterCount(),this.closeInput(),Application.publish("event:add-comment"+this.eventSuffix)({message:e,slideId:this.id,contentId:this.contentId})):console.log("character too many! expect "+t+" got: "+e.length+" ")},i.prototype.getMoreComments=function(){if(!this.isLoading&&!this.isNoMoreComments)return this.isLoading=!0,this.el.classList.add("is-loading"),Application.publish("event:more-comment"+this.eventSuffix)({slideId:this.id,contentId:this.contentId})},i.prototype.onChangeText=function(t){if(this.active)return this.updateCharacterCount()},i.prototype.updateCharacterCount=function(){var t,e,i;return i=this.elements.input.value,t=(null!=(e=this.slide.options.data.socialLearning)?e.maxResponseLength:void 0)||o,t>0?($(this.elements.limit).html(t-i.length),this.el.classList.toggle("over-limit",t-i.length<0)):this.el.classList.remove("over-limit")},i}(Backbone.View),i.exports=r}),require.register("views/components/text-input.coffee",function(t,e,i){var n,o=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},s={}.hasOwnProperty;n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={open:"open",exit:"exit","iostap #text-input-dismiss-btn":"onBlur","input #text-input-area":"onChange",touchmove:"lockScroll"},e.prototype.initialize=function(){if(this.el)return window.navigator.userAgent.match(/iP(ad|hone|od)/)&&this.el.classList.add("is-ios"),this.elements={input:this.el.querySelector("#text-input-area"),title:this.el.querySelector("#text-input-title"),prompt:this.el.querySelector("#text-input-prompt"),total:this.el.querySelector("#text-input-count-total"),current:this.el.querySelector("#text-input-count-current")}},e.prototype.open=function(t,e){var i;return this.options=null!=e?e:{},this.border=document.body.scrollTop,this.el.classList.add("visible"),this.el.classList.toggle("has-min",this.options.min>0),this.elements.input.value=this.options.value||"",this.elements.current.innerHTML=(null!=(i=this.options.value)?i.length:void 0)||0,this.elements.total.innerHTML=this.options.min||0,this.elements.prompt.innerHTML=this.options.prompt||"",this.showtimeout=window.setTimeout(function(t){return function(){return t.active=!0,t.onChange(),t.elements.input.focus(),t.lockScroll(),t.el.classList.add("active"),t.el.style.borderTop=t.el.style.borderBottom=t.border+"px"}}(this),300)},e.prototype.exit=function(){return window.clearTimeout(this.showtimeout),document.activeElement.blur(),this.active=!1,this.el.classList.remove("active"),this.el.classList.remove("visible"),this.trigger("exit")},e.prototype.onBlur=function(){if(this.active)return this.exit()},e.prototype.onChange=function(t){var e;if(this.active)return e=this.elements.input.value,window.clearTimeout(this.changetimeout),this.changetimeout=window.setTimeout(function(t){return function(){return t.$el.trigger("update",e)}}(this),100),this.elements.current.innerHTML=e.length,this.el.classList.toggle("is-complete",e.length>=this.options.min)},e.prototype.lockScroll=function(t){var e;if(this.active)return(null!=t?t.target:void 0)!==this.elements.input&&null!=t&&t.preventDefault(),null!=(e=document.scrollingElement)&&(e.scrollTop=this.border),document.body.scrollTop=this.border},e}(Backbone.View),i.exports=n}),require.register("views/components/zoom.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=e("lib/element"),n=e("lib/easie"),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.initialize=function(t){var e,i,n,o,s;return this.options=t,this.x=this.y=0,this.getOffset(),null==(e=this.options).minScale&&(e.minScale=.5),null==(i=this.options).maxScale&&(i.maxScale=1),null==(n=this.options).buffer&&(n.buffer=.1),null==(o=this.options).contentWidth&&(o.contentWidth=this.offset.width),null==(s=this.options).contentHeight&&(s.contentHeight=this.offset.height),this.velocity={},this.scale=this.options.minScale,this.transform()},e.prototype.events=function(){return{"touch:gesture":"onGesture","touch:drag":"onDrag","touch:dbltap":"onDoubleTap"}},e.prototype.transform=function(t){var e,i,n,s,r,a,l,d;return d=this.options,l=d.minScale,r=d.maxScale,e=d.buffer,n=Math.max(this.scale,this.options.minScale),i=-(this.options.minScale-n)/n,t&&(this.scale=Math.max(Math.min(this.scale,r),l),this.isZoomed=this.scale>l,a=this.options.contentWidth/2*this.scale,s=this.options.contentHeight/2*this.scale,this.x=Math.max(Math.min(this.x,a),-a),this.y=Math.max(Math.min(this.y,s),-s),this.trigger("zoom",this)),o.transform(this.el.firstChild,{x:this.x*i,y:this.y*i,scale:this.scale,transition:t?"all 400ms":"none"})},e.prototype.getOffset=function(){var t,e,i,n,o,s,r;return n=this.el.getBoundingClientRect(),s=n.top,i=n.left,o=n.right,t=n.bottom,r=n.width,e=n.height,this.offset={top:s,left:i,right:o,bottom:t,width:r,height:e}},e.prototype.set=function(t){var e,i,n,o;return e=t.scale,n=t.x,o=t.y,i=t.transition,null!=e&&(this.scale=e),null!=n&&(this.x=n),null!=o&&(this.y=o),this.transform(i)},e.prototype.onDoubleTap=function(t){var e,i,n,o,s,r,a;return i=t.detail,s=this.options,o=s.minScale,n=s.maxScale,e=s.buffer,r=i.x,a=i.y,this.scale===n?this.scale=o:this.scale+=Math.max((n-o)/2,.2),this.x=r*this.scale,this.y=a*this.scale,this.transform(!0)},e.prototype.onDrag=function(t){var e,i,o,s,r,a,l,d,u,c,p,h,f,m,v,g,y,b,x,w,_;if(s=t.detail,v=this.options,f=v.minScale,p=v.maxScale,e=v.buffer,w=s.x,_=s.y,y=s.start,b=s.state,r=w!==y.x||_!==y.y,"down"===b)return window.clearTimeout(this.momentum),this.origin={x:this.x-w,y:this.y-_},this.history=[];if(r){if(this.x=this.origin.x+w,this.y=this.origin.y+_,this.getVelocity(),"move"===b)return this.transform(!1);if("up"===b&&(this.velocity.x||this.velocity.y))return x=Date.now(),u=400,d=600,m={x:this.x,y:this.y},h=this.options.contentWidth/2*this.scale,c=this.options.contentHeight/2*this.scale,i=this.x-this.velocity.x*this.scale*d,o=this.y-this.velocity.y*this.scale*d,a=Math.max(Math.min(i,h),-h)-m.x,l=Math.max(Math.min(o,c),-c)-m.y,(g=function(t){return function(){var e;return e=Math.min(Date.now()-x,u),e<u?(t.x=n.cubicOut(e,m.x,a,u),t.y=n.cubicOut(e,m.y,l,u),t.transform(!1),t.momentum=window.setTimeout(g,1e3/60)):t.transform(!0)}}(this))()}},e.prototype.onGesture=function(t){var e,i,n,o,s,r,a,l,d,u,c;return i=t.detail,a=this.options,r=a.minScale,o=a.maxScale,e=a.buffer,u=i.x,c=i.y,l=i.scale,d=i.state,"start"===d?(window.clearTimeout(this.momentum),this.origin={x:this.x-u,y:this.y-c,scale:this.scale-l}):(this.x=this.origin.x+u,this.y=this.origin.y+c),s=r-e,n=o+e,this.scale=Math.max(Math.min(this.origin.scale+l,n),s),this.transform("end"===d)},e.prototype.getVelocity=function(t){var e,i,n,o,s,r,a;return null==t&&(t=200),n=Date.now(),this.history.push({x:this.x,y:this.y,timestamp:n}),i=this.history.filter(function(e){return n-e.timestamp<t}),o=function(){var t,o,r,a;for(r=["x","y"],a=[],t=0,o=r.length;t<o;t++)e=r[t],s=i.reduce(function(t,i,n,o){var s;return s=o[n-1]||i,t+(s[e]-i[e])},0),a.push(s/(n-i[0].timestamp));return a}(),r=o[0],a=o[1],this.velocity={x:r,y:a}},e}(Backbone.View),i.exports=s}),require.register("views/game.coffee",function(t,e,i){var n,o,s,r,a=function(t,e){function i(){this.constructor=t}for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;s=e("views/slide"),r=e("models/game/timer"),o=e("models/game/score"),n=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.initialize=function(){return e.__super__.initialize.apply(this,arguments),this.el.classList.add("game-slide"),this.createModels()},e.prototype.serialize=function(){var t;return t=e.__super__.serialize.apply(this,arguments),_.extend(t,{hasTimeLimit:this.hasTimeLimit()})},e.prototype.createModels=function(){var t,e,i,n,s,a,l,d;null==this.game&&(this.game={}),n={timer:r,score:o,extra:Backbone.Model},d=[];for(i in n)t=n[i],null!=(a=this.game[i])&&"function"==typeof(e=a.off()).destroy&&e.destroy(),s=(null!=(l=this.options.data.game)?l[i]:void 0)||{},d.push(this.game[i]=new t(s));return d},e.prototype.show=function(){return this.setState("intro","game"),this.listenTo(this.game.timer,"change",this.onTimerChange),this.listenTo(this.game.score,"change",this.onScoreChange),Application.publish("event:slide-rendered")({})},e.prototype.hide=function(){var t;return this.stopListening(),null!=(t=this.game.timer)&&t.destroy(),this.setState(!1,"game"),this.trackEvent({category:"Game",action:"Record",label:this.game.score.get("record")})},e.prototype.onRefresh=function(){var t;return null!=(t=this.game.timer)&&t.clearTimers(),this.el.classList.remove("game-count-down","game-paused","game-playing"),this.createModels(),this.show(),this.preloadMedia()},e.prototype.enterGame=function(){return this.options.data||this.lock(),this.setState("playing","game"),this.game.score.trigger("reset"),this.game.timer.trigger("reset"),this.hasTimeLimit()?this.game.timer.trigger("count",{callback:function(t){return function(){return t.startGame()}}(this)}):window.setTimeout(function(t){return function(){return t.startGame()}}(this),0)},e.prototype.startGame=function(){var t,e;return t=this.hasTimeLimit()?function(t){return function(){return t.endGame()}}(this):function(t){return function(){return t.game.timer.trigger("stop")}}(this),null!=(e=this.game.timer)?e.trigger("start",{callback:t}):void 0},e.prototype.endGame=function(){return this.setState("outro","game"),window.setTimeout(function(t){return function(){return t.game.score.trigger("tally",{callback:function(){return t.afterAnimateScores()}})}}(this),0),this.game.timer.trigger("stop")},e.prototype.pauseGame=function(){return this.game.timer.set({paused:!0})},e.prototype.unpauseGame=function(){return this.game.timer.set({paused:!1})},e.prototype.togglePaused=function(){return this.game.timer.set({paused:!this.game.timer.get("paused")})},e.prototype.afterAnimateScores=function(){return this.options.data||this.unlock(),this.trackEvent({category:"Game",action:"Score",label:this.game.score.get("total")}),this.slideCompleted()},e.prototype.onCorrectAnswer=function(t){var e,i,n,o,s,r;if(e=null!=t?t:{},n=e.sound,i=e.score,s=e.time,o=e.tally,!this.hasTimeLimit()||!this.game.timer.get("paused"))return null==s&&(s=0),null==i&&(i=0),r=this.game.score.get("total"),this.game.timer.setBy({bonus:s}),this.game.score.setBy({consecutive:1,correct:1}),this.game.score.setBy({score:i},{silent:null!=o}),o?this.game.score.trigger("tally",{tallyFrom:r,ms:300}):void 0},e.prototype.onIncorrectAnswer=function(t){var e,i,n,o,s,r;if(e=null!=t?t:{},n=e.sound,i=e.score,s=e.time,o=e.tally,!this.hasTimeLimit()||!this.game.timer.get("paused"))return null==s&&(s=0),null==i&&(i=0),r=this.game.score.get("total"),this.game.timer.setBy({bonus:-s}),this.game.score.set({consecutive:0}),this.game.score.setBy({score:-i,incorrect:1},{silent:null!=o}),o?this.game.score.trigger("tally",{tallyFrom:r,ms:300}):void 0},e.prototype.onTimerChange=function(t){},e.prototype.onScoreChange=function(t){},e.prototype.setArray=function(t,e){var i;return _.isString(t)&&(i=[e,t],t=i[0],e=i[1]),null==this.data&&(this.data={}),this.data[e]={current:_.shuffle(t),original:_.clone(t)}},e.prototype.getArray=function(t){return this.data[t].original},e.prototype.getRandom=function(t){return 0===this.data[t].current.length&&(this.data[t].current=_.chain(this.data[t].original).without(this.data[t].lastValue).shuffle().value().concat(this.data[t].lastValue)),this.data[t].lastValue=this.data[t].current.shift()},e.prototype.getNext=function(t){return 0===this.data[t].current.length&&(this.data[t].current=this.data[t].original),this.data[t].lastValue=this.data[t].current.shift()},e.prototype.hasTimeLimit=function(){var t,e,i,n;return!(null!=(t=this.options.data.game)&&null!=(e=t.timer)?e.isDisabled:void 0)&&(null!=(i=this.options.data.game)&&null!=(n=i.timer)?n.limit:void 0)>0},e}(s),i.exports=n}),require.register("views/input.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){function i(){this.constructor=t}for(var n in e)d.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d={}.hasOwnProperty;r=e("views/slide"),a=Application.actions(),n=a.Analytics,s=a.Session,o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.nextSlide=function(){return s.get(function(t){return function(e,i){var n;return n=i.attempt,Backbone.Events.trigger("event:survey-complete",{slide_id:t.options.id,user_input:t.userInput(),attempt:n})}}(this)),this.submit()},e}(r),i.exports=o}),require.register("views/main.coffee",function(t,e,i){var n,o,s,r,a,l,d,u=function(t,e){function i(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c={}.hasOwnProperty;o=e("app"),d=e("templates/main"),l=e("lib/device").platform,s=r=a=null,n=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return u(i,t),i.prototype.currentClass="none",i.prototype.views={},i.prototype.events={"touchstart a[href*='//']":"openExternalUrl","click a[href*='//']":"openExternalUrl","touchstart a:not([href*='//'])":"openRelativeUrl","click a:not([href*='//'])":"openRelativeUrl",mouseleave:"triggerMouseUp",touchmove:"onTouchMove"},i.prototype.initialize=function(){return this.el.innerHTML=d(),r=this.el.querySelector("#inbound"),a=this.el.querySelector("#outbound"),s=this.el.querySelector("#content"),this.addGestures(),this.classForDeviceVersion(),this.onOrientationChange()},i.prototype.classForDeviceVersion=function(){return this.el.classList.add("device-"+l.toLowerCase())},i.prototype.openExternalUrl=function(t){var e;return e=t.currentTarget.getAttribute("href"),window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW?window.parent.postMessage({type:"open-external-url",value:e},"*"):window.open(e,"_blank"),Application.publish("event:url-open")({url:e}),!1},i.prototype.openRelativeUrl=function(t){if(t.currentTarget.hash)return window.setTimeout(function(e){return function(){var i,n;if(!t.currentTarget.hash.match(/slide/)||(null!=(i=e.currentView)&&null!=(n=i.scroller)?n.enabled:void 0)!==!1)return o.router.navigate(t.currentTarget.hash,!0)}}(this),1)},i.prototype.display=function(t,e){var i;return i=t+"-active",this.currentClass===i?this.currentView.display(function(){},e):(this.el.classList.remove("display",this.currentClass),this.el.classList.add(i),this.currentClass=i,this.transitionViews(t,e))},i.prototype.transitionViews=function(t,i){var n,o,s;for(n=e("./"+t),s=function(t){return function(e){return t.afterDisplay(e)}}(this),this.undelegateEvents(),r.removeAttribute("id"),a.removeAttribute("id"),r.id="outbound",a.id="inbound",null!=this.currentView&&(this.currentView.stopListening(),this.currentView.undelegateEvents(),"function"==typeof(o=this.currentView).hide&&o.hide()),this.views[t]&&this.views[t].cid!==this.currentView.cid?(this.currentView=this.views[t],this.currentView.display(s,i)):(this.currentView=new n(i,s),this.currentView.el.classList.add("view"),this.currentView.undelegateEvents(),this.currentView.cache!==!1&&(this.views[t]=this.currentView)),null!=i.preventScroll&&(this.preventScroll=i.preventScroll),null!=i.disableHistory&&(this.currentView.disableHistory=i.disableHistory);a.lastChild;)a.removeChild(a.lastChild);return a.appendChild(this.currentView.el),window.addEventListener("orientationchange",function(t){return function(){return t.onOrientationChange()}}(this))},i.prototype.afterDisplay=function(t){return window.clearTimeout(this.afterTimeout),this.afterTimeout=window.setTimeout(function(e){return function(){return e.el.classList.add("display"),t&&t(),e.afterTransition()}}(this),10)},i.prototype.afterTransition=function(){return window.clearTimeout(this.timeout),this.timeout=window.setTimeout(function(t){return function(){return t.currentView.delegateEvents(),t.delegateEvents(),t.swapContainers()}}(this),600)},i.prototype.swapContainers=function(){var t,e,i;for(t=a,e=r,r=t,a=e,i=[];a.lastChild;)i.push(a.removeChild(a.lastChild));return i},i.prototype.onOrientationChange=function(){var t;return t=null!=window.orientation?window.orientation%180===0:this.el.offsetHeight>this.el.offsetWidth,this.el.classList.toggle("device-landscape",!t),this.el.classList.toggle("device-portrait",t)},i.prototype.triggerMouseUp=function(){return this.$el.trigger("mouseup")},i.prototype.onTouchMove=function(t){var e;if(e=".content-sm-scroll, .content-md-scroll, .content-lg-scroll",this.preventScroll&&0===$(t.target).parents(e).size())return t.preventDefault()},i.prototype.addGestures=function(){var t,e,i,n,o,s;for(n=["swipe","gesture","drag","tap","dbltap"],s=[],e=0,i=n.length;e<i;e++)t=n[e],s.push(null!=(o=window.eventjs)?o.add(this.el,t,function(t){return function(e,i){return"tap"===i.gesture?t.ignoreNextTap?t.ignoreNextTap=!1:t.tapTimeout=window.setTimeout(function(){return t.dispatchEvent(e,i)},300):("dbltap"===i.gesture&&(t.ignoreNextTap=!0),t.dispatchEvent(e,i))}}(this)):void 0);return s},i.prototype.dispatchEvent=function(t,e){var i,n;if(window.clearTimeout(this.tapTimeout),e.fingers>1?this.preventDrag=!0:"down"===e.state&&(this.preventDrag=!1),"drag"!==e.gesture||!this.preventDrag)return null!=t.target&&(this.touchTarget=t.target),n="touch:"+(e.gesture||e.type),i=document.createEvent("CustomEvent"),i.initCustomEvent(n,!0,!0,_.extend({},t,e)),this.touchTarget.dispatchEvent(i)},i}(Backbone.View),i.exports=n}),require.register("views/slide.coffee",function(t,e,i){var n,o,s,r,a,l,d,u=function(t,e){function i(){this.constructor=t}for(var n in e)c.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c={}.hasOwnProperty,p=[].slice;s=e("lib/element"),o=e("views/base/slide"),a=e("lib/device"),d=e("lib/fit-text"),n=Application.actions().Analytics,l=e("dom-to-image/dist/dom-to-image.min.js"),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.fitTextOnResize=!0,e.prototype.fitTextOnRender=!0,e.prototype.initialize=function(t){var e,i;return this.options=t,this.transform=s.transform,this.transition=s.transition,this.getBounds=s.getBounds,(null!=(i=this.options.data)?i.autoplay:void 0)&&this.options.notInteractable&&(this.options.data.autoplay=!1),null!=(e=this.options).metadata?e.metadata:e.metadata={}},e.prototype.lock=function(t,e){return this.options.lock(t,e)},e.prototype.unlock=function(){return this.options.unlock()},e.prototype.next=function(t){return this.options.isLastSlide?(Application.publish("event:completed")({}),Application.publish("event:exit")({}),Application.publish("lesson:exit")({})):(this.options.next(_.isNumber(t)?t:void 0),this.slideNext())},e.prototype.prev=function(t){return this.options.prev(_.isNumber(t)?t:void 0)},e.prototype.trackEvent=function(t){var e,i,o,s;return i=t.category,e=t.action,o=t.label,s=t.value,this.getTrackingTitle()&&(i+=" - "+this.getTrackingTitle()),n.trackEvent(i,e,o,s)},e.prototype.getTrackingTitle=function(){return this.el.dataset.title||this.el.id},e.prototype.setState=function(t,e){return null==e&&(e="state"),null==this.currentState&&(this.currentState={}),"touched"===t&&"narration"===this.currentState[e]?this.hasInteracted=!0:(this.el.classList.remove(e+"-"+this.currentState[e]),t===!1?delete this.currentState[e]:this.el.classList.add(e+"-"+(this.currentState[e]=t)))},e.prototype.setEl=function(t,e){return null==this.elements&&(this.elements={}),this.elements[e]=t||document.createElement("div")},e.prototype.getEl=function(t){var e;return null!=(e=this.elements)?e[t]:void 0},e.prototype.render=function(){var t,e,i,n,o,s;return e=_.extend(this.serialize()),null!=e.lessonHeaderTitle&&(document.querySelector("#lesson-header-title-content strong").innerText=e.lessonHeaderTitle),this.el.innerHTML="function"==typeof(t=this.template||(null!=(i=this.templates)?i["default"]:void 0))?t(e):void 0,this.ignoreStateOnRefresh||this.setState("prompt"),this.setEl(this.el.querySelector(".narration-progress-bar"),"narration-progress"),this.fixTextFontSize&&null!=(n=this.el.querySelector(".content-fit"))&&(n.style.fontSize=this.fixTextFontSize),this.fitTextOnRender&&((null!=(o=this.currentState)?o.refresh:void 0)?(window.clearTimeout(this.fitTextTimeout),this.fitTextTimeout=window.setTimeout(function(t){return function(){return t.fitText()}}(this),120)):(this.el.classList.remove("active"),this.fitText(function(t){return function(){return window.setTimeout(function(){return t.el.classList.add("active")},300)}}(this)))),this.preloadMedia(),!e.hasNarration||window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW?this.hideLoadingNarration():this.showLoadingNarration(),(null!=(s=e.socialLearning)?s.enabled:void 0)?this.trigger("ui",{isSocial:!0}):this.trigger("ui",{isSocial:!1}),Application.publish("event:slide-rendered")({})},e.prototype.toggleLoadingNarration=function(t){return Backbone.Events.trigger("load-narration",t)},e.prototype.showLoadingNarration=function(){return this.toggleLoadingNarration(!0)},e.prototype.hideLoadingNarration=function(){return this.toggleLoadingNarration(!1)},e.prototype.fitText=function(t){var e,i;return(e=this.el.querySelector(".content-fit"))?(null!=(i=this._fitText)&&i.cancel(),this._fitText=d(e,function(i){return function(){return i.$el.trigger("fittextend"),i.fixTextFontSize=e.style.fontSize,"function"==typeof t?t():void 0}}(this))):"function"==typeof t?t():void 0},e.prototype.findOne=function(t){var e;return e=this.el.querySelector(".content-fit"),(null!=e?e.querySelector(t):void 0)||this.el.querySelector(t)},e.prototype.findAll=function(t){var e,i;return e=this.el.querySelector(".content-fit"),i=null!=e?e.querySelectorAll(t):void 0,(null!=i?i.length:void 0)>0?i:this.el.querySelectorAll(t)},e.prototype.preloadMedia=function(){var t,e,i,n,o,s,r,l,d,u,c,p;for(p=function(t){return t.target.removeEventListener("timeupdate",p,!1),t.target.pause(),t.target.volume=1},l=this.el.querySelectorAll(".multi-content"),t=0,n=l.length;t<n;t++)s=l[t],s.getAttribute("webkit-playsinline")&&"iOS"===a.platform&&"AUDIO"===s.nodeName&&(s.volume=0,s.addEventListener("timeupdate",p,!1)),"VIDEO"===s.nodeName&&(c=function(t){return function(){return window.setTimeout(function(){return t.trigger("resize")},300)}}(this),null==this.players&&(this.players=[]),r=window.videojs(s,{fluid:!0}),r.one("error",function(){return r.src(r.currentSources())}),r.on("loadedmetadata",c),r.on("play",function(t){return function(){return t.trigger("video-play")}}(this)),r.on("pause",function(t){return function(){return t.trigger("video-pause")}}(this)),this.players.push(r),a.platform===!1&&(r.on("fullscreenchange",function(t){return function(){return r.isFullscreen()?Application.publish("event:rotation-unlock")({}):Application.publish("event:rotation-lock")({})}}(this)),r.ready(function(){return r.play().pause(),window.setTimeout(function(){return r.hasStarted(!1)},1)})));if(a.ios){for(d=this.el.querySelectorAll(".multi-content-iframe iframe"),u=[],i=0,o=d.length;i<o;i++)e=d[i],e.src.match(/\?/)?u.push(e.src+="&forceReloadForAppContext=true"):u.push(e.src+="?forceReloadForAppContext=true");return u}},e.prototype.stopMedia=function(){var t,e,i,n,o,s,r,a,l;for(r=this.el.querySelectorAll("audio, video"),t=0,n=r.length;t<n;t++)s=r[t],s.paused||s.pause();for(a=this.el.querySelectorAll("iframe"),l=[],i=0,o=a.length;i<o;i++)e=a[i],l.push(e.parentNode.removeChild(e));return l},e.prototype.serialize=function(){var t,e,i,n,o,s,r,a,l;return l=("undefined"!=typeof __&&null!==__&&null!=(e=__.slidedeck)?e.enableStars:void 0)||this.options.enableStars,t={lessonHeaderTitle:this.options.lessonTitle,width:this.el.offsetWidth,height:this.el.offsetHeight,config:this.options.config(),hasPrompt:null!=(null!=(i=this.options.data)?i.prompt:void 0),hasNarration:null!=(n=this.options.data)&&null!=(o=n.narration)?o.audio_file:void 0,hasStars:l&&(null!=(s=this.options.data)&&null!=(r=s.challenge_configuration)?r.nb_stars:void 0)>0,scorm:this.options.scorm,contextRequiresExitButton:this.options.contextRequiresExitButton,doneText:(null!=(a=this.options.data)?a.doneText:void 0)||window.i18n("buttons.done")},_.extend({},this.options.data,t,{metadata:this.options.metadata})},e.prototype.onRefresh=function(){return"function"==typeof this.show?this.show():void 0},e.prototype.onNarrationLoaded=function(){return this.hideLoadingNarration()},e.prototype.onNarrationProgress=function(t){var e,i;return e=0===t?0:Date.now()-this.narrationTimestamp,this.transform(this.getEl("narration-progress"),{scale:t+", 1",transition:"transform "+e+"ms linear"}),null!=(i=this.getEl("narration-progress"))&&i.offsetLeft,this.narrationTimestamp=Date.now()},e.prototype.onNarrationComplete=function(){return this.hasInteracted?(delete this.hasInteracted,this.setState(""),this.setState("touched")):"narration"===this.currentState.state?this.setState("prompt"):void 0},e.prototype.hide=function(){var t,e,i,n;if(null!=this.players){for(n=this.players,t=0,e=n.length;t<e;t++)i=n[t],null!=(null!=i?i.dispose:void 0)&&i.dispose();return this.players=[]}},e.prototype.delegateEvents=function(){if(e.__super__.delegateEvents.call(this),this.fitTextOnResize)return this.on("resize",this.fitText,this)},e.prototype.screenshot=function(){return null!=this.options.data.answer?new Promise(function(t){return function(e,i){return t.collateScreenshots().then(function(e){return t.trigger("complete",t,{isCorrect:!0}),t.collateScreenshots(e)}).then(e)["catch"](i)}}(this)):this.collateScreenshots()},e.prototype.collateScreenshots=function(t){return null==t&&(t=[]),new Promise(function(e){return function(e,i){return window.setTimeout(function(){return l.toJpeg(window.document.body,{ignoreImageErrors:!0,dpi:200,quality:.8,filter:function(t){var e;return"IMG"!==(null!=t?t.tagName:void 0)||!(null!=t&&null!=(e=t.src)?e.match("img.youtube.com/vi/"):void 0)}}).then(function(i){return e(p.call(t).concat([i]))})["catch"](function(t){return i(t)})},200)}}(this))},e}(o),i.exports=r}),require.register("views/slides.coffee",function(t,e,i){var n,o,s,r,a,l=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},u={}.hasOwnProperty,c=[].slice;r=e("app"),a=e("lib/device"),n=e("views/base/slides"),s=Application.actions().Sound,o=function(t){function i(){return this.onKeyPress=l(this.onKeyPress,this),this.onResize=l(this.onResize,this),i.__super__.constructor.apply(this,arguments)}return d(i,t),i.prototype.id="slides-view",i.prototype.template=e("templates/slides"),i.prototype.initialize=function(){var t,e;return i.__super__.initialize.apply(this,arguments),e=window.innerWidth,t=window.innerHeight,this._debounceResize=_.debounce(function(t){return function(){return t.onResize()}}(this),300),window.addEventListener(a.events.resize,this._debounceResize),window.addEventListener("keypress",this.onKeyPress)},i.prototype.render=function(t){var e,i,n,o,r;return this.hasRendered=!0,this.options=this.getExtraConfig(t),this.el.innerHTML=this.template(this.options),this.el.classList.add("direction-"+(this.options.config.direction||"ltr")),(null!=(o=this.options)&&null!=(r=o.styleConfiguration)?r.soundDisabled:void 0)===!0&&"function"==typeof s.disableSystemSounds&&s.disableSystemSounds(),this.createSlideViews(this.options.config,t),i=this.cleanIndex(this.options.index),this.options.title&&(document.title=this.options.title),this.sizeContent(this.options.forceResize),n=this.slideViews[i].el.offsetWidth,e=function(e){return function(){return e.createScroller(t),e.goToPage(i,0),Application.publish("event:thomas-ready")({}),(window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW)&&window.parent.postMessage("thomas-ready","*"),window.setTimeout(function(){var t;if(e.slideViews[i].el.offsetWidth!==n)return null!=(t=e.slideViews[i])?t.trigger("resize"):void 0},600)}}(this),t.isRefresh?e():window.setTimeout(e,300),Backbone.trigger("ready")},i.prototype.display=function(t,e){var i;return i=this.cleanIndex(e.index),this.currentIndex!==i&&this.options.config.contextAllowsFreeNavigation&&(this.toggleViewInDOM(this.slideViews[i],!0),
this.slideViews[i].el.offsetWidth,this.goToPage(i,e.ms)),t()},i.prototype.removeScroller=function(){return this.scroller.off("scrollEnd"),this.scroller.destroy()},i.prototype.createScroller=function(t){var e,i,n;if((null!=(i=this.options)&&null!=(n=i.config)?n.fade:void 0)?this.scroller={currentPage:{pageX:0},scroller:this.el.querySelector("#slides-scroller"),goToPage:function(t){return function(e){var i;return i=t.scroller.currentPage.pageX,t.scroller.currentPage.pageX=e,t.onScrollEnd()}}(this)}:(null!=this.scroller&&this.removeScroller(),e=[],this.options.config.background&&e.push({el:"#slides-background-wrap",resize:!1,shrink:"clip",listenY:!1,speedRatioX:1/(this.slideViews.length-1)*.5,ignoreBoundaries:!0}),this.options.config.indicator&&e.push({el:"#indicator",resize:!0,shrink:"clip",listenY:!1,ignoreBoundaries:!0}),this.scroller=new IScroll(this.el.querySelector("#slides"),{scrollX:!0,scrollY:!1,snap:!0,tap:"scrolltap",snapThreshold:.15,momentum:!1,resizePolling:9999999,eventPassthrough:!0,indicators:e,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|IFRAME)$/}}),t.cms||this.scroller.on("scrollEnd",function(t){return function(){return t.onScrollEnd()}}(this)),this.options.config.locked&&this.toggleScroller(!1)),this.options.config.pageNumbers)return this.pageNumber=this.el.querySelector("#lesson-header-nav-page-number")},i.prototype.optionsForView=function(t,e,i,n,o){return null==e&&(e={}),null==i&&(i={}),null==n&&(n={}),_.extend({},e,{slideIndex:o,lessonConfiguration:i,enableStars:this.options.enableStars,scorm:this.options.scorm,contextRequiresExitButton:this.options.contextRequiresExitButton},{el:t,lock:function(t){return function(){return t.toggleScroller.apply(t,[!1].concat(c.call(arguments)))}}(this),unlock:function(t){return function(){return t.toggleScroller(!0)}}(this),next:function(t){return function(e){return t.goToPage(t.currentIndex+1,e)}}(this),prev:function(t){return function(e){return t.goToPage(t.currentIndex-1,e)}}(this),config:function(t){return function(){return t.options.config}}(this),notInteractable:this.notInteractable||n.interactable===!1})},i.prototype.goToPage=function(t,e,i){var n,o,s,r,a,l,d,u,p,h,f,m,v;if(null==e&&(e=600),null==i&&(i={}),(t!==this.currentIndex||null==this.currentIndex)&&0<=t&&t<this.slideViews.length){for(l=this.slideViews[this.currentIndex],a=this.slideViews[t],this.toggleViewInDOM(a,!0),this.trigger.apply(this,["goToPage"].concat(c.call(arguments))),window.ED_LMS_PREVIEW||window.ED_PUBLIC_PREVIEW?window.parent.postMessage({type:"go-to-page",value:t},"*"):Application.publish("event:go-to-page")({value:t}),null!=l&&"function"==typeof l.beforeHide&&l.beforeHide(),a.render(),"function"==typeof a.beforeShow&&a.beforeShow(),d=this.slideViews,n=0,o=d.length;n<o;n++)m=d[n],m.el.classList.remove("visible");if(a.el.classList.add("visible"),(null!=(u=this.scroller)&&null!=(p=u.pages)?p.length:void 0)&&this.slideViews.length>1)return h=this.scroller,v=h.wrapperWidth,s=h.maxScrollX,r=h.minScrollX,this.options.config.locked||r>(f=-t*v)&&f>s||this.toggleScroller(!0),this.scroller.goToPage(this.getIndexForDirection(t),0,e),window.setTimeout(function(t){return function(){return t.onScrollEnd()}}(this),e);if(!i.fromPreview)return this.onScrollEnd()}},i.prototype.cleanIndex=function(t){var e,i;return _.isNaN(+t)?function(){var n,o,s,r,a;for(s=this.slideViews,a=[],e=n=0,o=s.length;n<o;e=++n)i=s[e],(null!=(r=i.el)?r.id:void 0)===t&&a.push(e);return a}.call(this)[0]||0:_.limit(t-1,0,this.slideViews.length-1)},i.prototype.getIndexForDirection=function(t){return"rtl"===this.options.config.direction?this.slideViews.length-1-t:t},i.prototype.onScrollEnd=function(){var t,e,i,n,o,s,a,l,d,u,c,p,h,f,m,v,g;if(o=this.getIndexForDirection(+(null!=(p=this.scroller)&&null!=(h=p.currentPage)?h.pageX:void 0)),!_.isNaN(o)&&o!==this.currentIndex){for(f=this.slideViews,a=l=0,u=f.length;l<u;a=++l)g=f[a],this.options.config.fade?(g.el.style.opacity=a===o?1:0,g.transition(g.el,"opacity 300ms"),s=a===o||a===this.currentIndex):s=a-1<=o&&o<=a+1,this.toggleViewInDOM(g,s),null!=(m=this.pageNumber)&&(m.innerHTML=o+1);if(null!=this.currentIndex&&this.hideView(this.slideViews[this.currentIndex]),this.showView(this.slideViews[o]),this.currentIndex=o,null==this.disableHistory&&r.router.navigate("slide/"+(o+1),!0),n=this.slideViews[this.currentIndex].el,n&&null!=n.replaceWith){for(e=n.querySelectorAll("audio"),v=[],d=0,c=e.length;d<c;d++)t=e[d],i=t.cloneNode(!0),t.replaceWith(i),v.push(i.style.visibility="visible");return v}}},i.prototype.onResize=function(t){if(this.hasRendered)return window.clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(t){return function(){var e,i;return t.sizeContent(!0),null!=(e=t.scroller)&&"function"==typeof e.refresh&&e.refresh(),window.clearTimeout(null!=(i=t.scroller)?i.resizeTimeout:void 0)}}(this),0)},i.prototype.toggleViewInDOM=function(t,e){if(t&&t.__isActive!==e){if(t.__isActive=e,e&&t.el.parentNode!==this.scroller.scroller)return this.scroller.scroller.appendChild(t.el);if(!e&&t.el.parentNode===this.scroller.scroller)return this.scroller.scroller.removeChild(t.el)}},i.prototype.hideView=function(t){return t.el.classList.remove("active"),"function"==typeof t.undelegateEvents&&t.undelegateEvents(),t.stopMedia(),"function"==typeof t.hide?t.hide():void 0},i.prototype.showView=function(t){if(null!=t)return t.el.offsetWidth,t.el.classList.add("active"),"function"==typeof t.delegateEvents&&t.delegateEvents(),"function"==typeof t.show&&t.show(),this.trigger("showView",t)},i.prototype.toggleScroller=function(t,e,i){var n,o,s,r,a;if(null==i&&(i=!0),!this.options.config.fade)switch(s=this.scroller,a=s.wrapperWidth,r=s.currentPage,o=r.pageX,n=this.getIndexForDirection(o),e){case"left":case"l":return this.scroller.minScrollX=-a*n,this.scroller.options.bounce=i;case"right":case"r":return this.scroller.maxScrollX=-a*n,this.scroller.options.bounce=i;default:return this.scroller.options.bounce=i,this.scroller.refresh(),this.scroller.enabled=t}},i.prototype.sizeContent=function(t){var e,i,n,o,s,r,a,l,d,u,c,p,h,f,m,v;if(null==t&&(t=!1),(null!=(l=this.scroller)?l.wrapperWidth:void 0)!==this.el.offsetWidth||t){if(a=$("#slides"),i=$("#slides-scroller"),v=a[0].offsetWidth,null!=(d=this.options)&&null!=(u=d.config)?u.fade:void 0)for(c=this.slideViews,e=n=0,s=c.length;n<s;e=++n)m=c[e],m.el.style.width=v+"px";else for(i.css("width",v*this.slideViews.length+"px"),p=this.slideViews,e=o=0,r=p.length;o<r;e=++o)m=p[e],m.el.style.width=v+"px",m.el.style.left=v*this.getIndexForDirection(e)+"px";return null==this.scroller&&1!==this.slideViews.length||null!=(h=this.slideViews[this.currentIndex])&&h.trigger("resize",{width:v}),null!=(f=this.scroller)&&"function"==typeof f.refresh?f.refresh():void 0}},i.prototype.onKeyPress=function(t){var e;return null!=(e=this.slideViews[this.currentIndex])?e.trigger(t.type,t):void 0},i.prototype.stopListening=function(){return window.removeEventListener("resize",this._debounceResize),window.removeEventListener("orientationchange",this._debounceResize),window.removeEventListener("keypress",this.onKeyPress),i.__super__.stopListening.apply(this,arguments)},i}(n),i.exports=o}),require.register("views/video.coffee",function(t,e,i){var n,o,s,r=function(t,e){function i(){this.constructor=t}for(var n in e)a.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},a={}.hasOwnProperty;n=e("views/slide"),s=e("lib/device"),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.events=function(){return{"iostap .video":"toggleVideo","iostap .video-play":"playVideo","iostap .video-replay":"restartVideo","iostap .btn-done":"next"}},e.prototype.render=function(){var t,i,n,o,s;for(this.unbindVideoEvents(),e.__super__.render.apply(this,arguments),this.initializeVideo(),this.listeners={},this.setState("loading","video"),o=["load","timeupdate","error"],s=[],i=0,n=o.length;i<n;i++)t=o[i],this.listeners[t]=_.bind(this["onVideo"+_.capitalize(t)],this),s.push(this.getEl("video").addEventListener(t,this.listeners[t]));return s},e.prototype.initializeVideo=function(){var t;return t=this.el.querySelector(".video"),this.setEl(t,"video")},e.prototype.onVideoLoad=function(){var t;return null!=(t=this.getEl("video"))&&t.pause(),this.setState("paused","video")},e.prototype.onVideoError=function(){return this.setState("error","video")},e.prototype.onVideoTimeupdate=function(){if(this.getEl("video").currentTime===this.getEl("video").duration&&this.getEl("video").ended)return this.onVideoEnd()},e.prototype.toggleVideo=function(){return this.getEl("video").paused?this.playVideo():this.stopVideo()},e.prototype.playVideo=function(){if("error"!==this.currentState.video)return this.setState("playing","video"),this.getEl("video").ended&&this.getEl("video").load(),this.getEl("video").play(),this.trackEvent({category:"Video",action:"Play",label:this.getVideoName()})},e.prototype.stopVideo=function(){var t;if("error"!==this.currentState.video)return null!=(t=this.getEl("video"))&&t.pause(),this.trackEvent({category:"Video",action:"Pause",label:this.getVideoName()}),window.setTimeout(function(t){return function(){return t.setState("paused","video")}}(this),1)},e.prototype.restartVideo=function(){return this.getEl("video").ended?this.getEl("video").load():this.getEl("video").currentTime=0,this.playVideo()},e.prototype.onVideoEnd=function(){return this.setState("paused","video")},e.prototype.getVideoName=function(){return this.getEl("video").src.split("/").slice(-1)[0]},e.prototype.hide=function(){var t;return null!=(t=this.getEl("video"))&&t.pause(),this.onVideoEnd(),this.unbindVideoEvents()},e.prototype.unbindVideoEvents=function(){var t,e,i;i=[];for(t in this.listeners)i.push(null!=(e=this.getEl("video"))?e.removeEventListener(t,this.listeners[t]):void 0);return i},e}(n),i.exports=o}),require.register("___globals___",function(t,e,i){})}(),require("___globals___");