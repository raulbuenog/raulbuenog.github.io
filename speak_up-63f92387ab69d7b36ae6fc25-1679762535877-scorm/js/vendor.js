function ScormAPI(e,t,n,r){function i(e){return d.i("LMSInitialize("+e+'){ return "true" }'),"true"}function o(){return d.i('LMSGetErrorString() { return "ERROR" }'),"ERROR"}function s(){return d.i('LMSGetLastError(){ return "'+f+'" }'),f}function a(e){var t="";return e in p&&(t=p[e].value),d.i("LMSGetValue("+e+'){ return "'+t+'" }'),t}function u(e,t){var n="true";return e=e||"",e.match(/cmi\.interactions/)&&(existingValue=p[e]&&p[e].value,t=existingValue?existingValue.concat([t]):[t]),p[e]={value:t,status:0},d.i("LMSSetValue("+e+", "+t+'){ return "'+n+'" }'),n}function l(e){return m.push(e),d.i("LMSCommit("+e+'){ return "true" }'),"true"}function c(e){return g||(window.SCORMED.LMSFinish(Base64.encode(JSON.stringify(p))),g=!0),"true"}function h(){function e(){o=!0}function t(){o=!1}function n(e){o&&console.log("%c SCORM API: info { "+e+" }","background-color: rgba(67, 110 238, 0.2); color: #436EEE")}function r(e){o&&console.log("%c SCORM API: success { "+e+" }","background-color: rgba(168, 219, 168, 0.2); color: #79BD9A")}function i(e){o&&console.log("%c SCORM API: error { "+e+" }","background-color: rgba(255, 0, 51, 0.1); color: #ff0033")}var o=!1;this.enable=e,this.disable=t,this.i=n,this.s=r,this.e=i}var f="0",d=new h,p=Object.assign({},n||{"":{value:"not attempted",status:0}});r.success(!0);var m=[],g=!1;this.LMSInitialize=i,this.Initialize=i,this.LMSGetLastError=s,this.GetLastError=s,this.LMSGetErrorString=o,this.GetErrorString=o,this.LMSGetValue=a,this.GetValue=a,this.LMSSetValue=u,this.SetValue=u,this.LMSCommit=l,this.Commit=l,this.LMSFinish=c,this.Terminate=c,this.log=d}!function(){"use strict";var e="undefined"==typeof global?self:global;if("function"!=typeof e.require){var t={},n={},r={},i={}.hasOwnProperty,o=/^\.\.?(\/|$)/,s=function(e,t){for(var n,r=[],i=(o.test(t)?e+"/"+t:t).split("/"),s=0,a=i.length;s<a;s++)n=i[s],".."===n?r.pop():"."!==n&&""!==n&&r.push(n);return r.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(n){var r=s(a(t),n);return e.require(r,t)}},l=function(e,t){var r=g&&g.createHot(e),i={id:e,exports:{},hot:r};return n[e]=i,t(i.exports,u(e),i),i.exports},c=function(e){return r[e]?c(r[e]):e},h=function(e,t){return c(s(a(e),t))},f=function(e,r){null==r&&(r="/");var o=c(e);if(i.call(n,o))return n[o].exports;if(i.call(t,o))return l(o,t[o]);throw new Error("Cannot find module '"+e+"' from '"+r+"'")};f.alias=function(e,t){r[t]=e};var d=/\.[^.\/]+$/,p=/\/index(\.[^\/]+)?$/,m=function(e){if(d.test(e)){var t=e.replace(d,"");i.call(r,t)&&r[t].replace(d,"")!==t+"/index"||(r[t]=e)}if(p.test(e)){var n=e.replace(p,"");i.call(r,n)||(r[n]=e)}};f.register=f.define=function(e,r){if(e&&"object"==typeof e)for(var o in e)i.call(e,o)&&f.register(o,e[o]);else t[e]=r,delete n[e],m(e)},f.list=function(){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e};var g=e._hmr&&new e._hmr(h,f,t,n);f._cache=n,f.hmr=g&&g.wrap,f.brunch=!0,e.require=f}}(),function(){var global="undefined"==typeof window?this:window,__makeRelativeRequire=function(e,t,n){var r={},i=function(t,n){var o;try{return o=e(n+"/node_modules/"+t)}catch(s){if(s.toString().indexOf("Cannot find module")===-1)throw s;if(n.indexOf("node_modules")!==-1){var a=n.split("/"),u=a.lastIndexOf("node_modules"),l=a.slice(0,u).join("/");return i(t,l)}}return r};return function(o){if(o in t&&(o=t[o]),o){if("."!==o[0]&&n){var s=i(o,n);if(s!==r)return s}return e(o)}}};require.register("js-base64/base64.js",function(exports,require,module){require=__makeRelativeRequire(require,{},"js-base64"),function(){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if("undefined"!=typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return r.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode((n>>>10)+55296)+fromCharCode((1023&n)+56320);case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}})}()}),require.register("dom-to-image/dist/dom-to-image.min.js",function(e,t,n){t=__makeRelativeRequire(t,{},"dom-to-image"),function(){!function(e){"use strict";function t(e,t){function n(e){return t.bgcolor&&(e.style.backgroundColor=t.bgcolor),t.width&&(e.style.width=t.width+"px"),t.height&&(e.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(n){e.style[n]=t.style[n]}),e}return t=t||{},Promise.resolve(e).then(function(e){return u(e,t.filter,!0)}).then(l).then(c).then(n).then(function(n){return h(n,t.width||g.width(e),t.height||g.height(e))})}function r(e,t){return a(e,t||{}).then(function(t){return t.getContext("2d").getImageData(0,0,g.width(e),g.height(e)).data})}function i(e,t){return a(e,t||{}).then(function(e){return e.toDataURL()})}function o(e,t){return t=t||{},a(e,t).then(function(e){return e.toDataURL("image/jpeg",t.quality||1)})}function s(e,t){return a(e,t||{}).then(g.canvasToBlob)}function a(e,n){function r(e){var t=document.createElement("canvas");if(t.width=n.width||g.width(e),t.height=n.height||g.height(e),n.bgcolor){var r=t.getContext("2d");r.fillStyle=n.bgcolor,r.fillRect(0,0,t.width,t.height)}return t}return t(e,n).then(g.makeImage).then(g.delay(100)).then(function(t){var n=r(e);return n.getContext("2d").drawImage(t,0,0),n})}function u(e,t,n){function r(e){return e instanceof HTMLCanvasElement?g.makeImage(e.toDataURL()):e.cloneNode(!1)}function i(e,t,n){function r(e,t,n){var r=Promise.resolve();return t.forEach(function(t){r=r.then(function(){return u(t,n)}).then(function(t){t&&e.appendChild(t)})}),r}var i=e.childNodes;return 0===i.length?Promise.resolve(t):r(t,g.asArray(i),n).then(function(){return t})}function o(e,t){function n(){function n(e,t){function n(e,t){g.asArray(e).forEach(function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))})}e.cssText?t.cssText=e.cssText:n(e,t)}n(window.getComputedStyle(e),t.style)}function r(){function n(n){function r(e,t,n){function r(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}function i(e){function t(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")}return g.asArray(e).map(t).join("; ")+";"}var o="."+e+":"+t,s=n.cssText?r(n):i(n);return document.createTextNode(o+"{"+s+"}")}var i=window.getComputedStyle(e,n),o=i.getPropertyValue("content");if(""!==o&&"none"!==o){var s=g.uid();t.className=t.className+" "+s;var a=document.createElement("style");a.appendChild(r(s,n,i)),t.appendChild(a)}}[":before",":after"].forEach(function(e){n(e)})}function i(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}function o(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach(function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)}))}return t instanceof Element?Promise.resolve().then(n).then(r).then(i).then(o).then(function(){return t}):t}return n||!t||t(e)?Promise.resolve(e).then(r).then(function(n){return i(e,n,t)}).then(function(t){return o(e,t)}):Promise.resolve()}function l(e){return y.resolveAll().then(function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e})}function c(e){return _.inlineAll(e).then(function(){return e})}function h(e,t,n){return Promise.resolve(e).then(function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)}).then(g.escapeXhtml).then(function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"}).then(function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"}).then(function(e){return"data:image/svg+xml;charset=utf-8,"+e})}function f(){function e(){var e="application/font-woff",t="image/jpeg";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:t,jpeg:t,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function n(n){var r=t(n).toLowerCase();return e()[r]||""}function r(e){return e.search(/^(data:)/)!==-1}function i(e){return new Promise(function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);t(new Blob([i],{type:"image/png"}))})}function o(e){return e.toBlob?new Promise(function(t){e.toBlob(t)}):i(e)}function s(e,t){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=t,i.href=e,i.href}function a(){var e=0;return function(){function t(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}return"u"+t()+e++}}function u(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src=e})}function l(e){var t=3e4;return new Promise(function(n){function r(){if(4===s.readyState){if(200!==s.status)return void o("cannot fetch resource: "+e+", status: "+s.status);var t=new FileReader;t.onloadend=function(){var e=t.result.split(/,/)[1];n(e)},t.readAsDataURL(s.response)}}function i(){o("timeout of "+t+"ms occured while fetching resource: "+e)}function o(e){console.error(e),n("")}var s=new XMLHttpRequest;s.onreadystatechange=r,s.ontimeout=i,s.responseType="blob",s.timeout=t,s.open("GET",e,!0),s.send()})}function c(e,t){return"data:"+t+";base64,"+e}function h(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function f(e){return function(t){return new Promise(function(n){setTimeout(function(){n(t)},e)})}}function d(e){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}function p(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")}function m(e){var t=v(e,"border-left-width"),n=v(e,"border-right-width");return e.scrollWidth+t+n}function g(e){var t=v(e,"border-top-width"),n=v(e,"border-bottom-width");return e.scrollHeight+t+n}function v(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}return{escape:h,parseExtension:t,mimeType:n,dataAsUrl:c,isDataUrl:r,canvasToBlob:o,resolveUrl:s,getAndEncode:l,uid:a(),delay:f,asArray:d,escapeXhtml:p,makeImage:u,width:m,height:g}}function d(){function e(e){return e.search(i)!==-1}function t(e){for(var t,n=[];null!==(t=i.exec(e));)n.push(t[1]);return n.filter(function(e){return!g.isDataUrl(e)})}function n(e,t,n,r){function i(e){return new RegExp("(url\\(['\"]?)("+g.escape(e)+")(['\"]?\\))","g")}return Promise.resolve(t).then(function(e){return n?g.resolveUrl(e,n):e}).then(r||g.getAndEncode).then(function(e){return g.dataAsUrl(e,g.mimeType(t))}).then(function(n){return e.replace(i(t),"$1"+n+"$3")})}function r(r,i,o){function s(){return!e(r)}return s()?Promise.resolve(r):Promise.resolve(r).then(t).then(function(e){var t=Promise.resolve(r);return e.forEach(function(e){t=t.then(function(t){return n(t,e,i,o)})}),t})}var i=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:r,shouldProcess:e,impl:{readUrls:t,inline:n}}}function p(){function e(){return t(document).then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join("\n")})}function t(){function e(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return v.shouldProcess(e.style.getPropertyValue("src"))})}function t(e){var t=[];return e.forEach(function(e){try{g.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(n){console.log("Error while reading CSS rules from "+e.href,n.toString())}}),t}function n(e){return{resolve:function(){var t=(e.parentStyleSheet||{}).href;return v.inlineAll(e.cssText,t)},src:function(){return e.style.getPropertyValue("src")}}}return Promise.resolve(g.asArray(document.styleSheets)).then(t).then(e).then(function(e){return e.map(n)})}return{resolveAll:e,impl:{readAll:t}}}function m(){function e(e){function t(t){return g.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||g.getAndEncode).then(function(t){return g.dataAsUrl(t,g.mimeType(e.src))}).then(function(t){return new Promise(function(n,r){e.onload=n,e.onerror=r,e.src=t})})}return{inline:t}}function t(n){function r(e){var t=e.style.getPropertyValue("background");return t?v.inlineAll(t).then(function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))}).then(function(){return e}):Promise.resolve(e)}return n instanceof Element?r(n).then(function(){return n instanceof HTMLImageElement?e(n).inline():Promise.all(g.asArray(n.childNodes).map(function(e){return t(e)}))}):Promise.resolve(n)}return{inlineAll:t,impl:{newImage:e}}}var g=f(),v=d(),y=p(),_=m(),b={toSvg:t,toPng:i,toJpeg:o,toBlob:s,toPixelData:r,impl:{fontFaces:y,images:_,util:g,inliner:v}};"undefined"!=typeof n?n.exports=b:e.domtoimage=b}(this)}()}),require.alias("js-base64/base64.js","js-base64"),require.register("___globals___",function(e,t,n){})}(),require("___globals___"),function(){function e(e){function t(t,n,r,i,o,s){for(;o>=0&&o<s;o+=e){var a=i?i[o]:o;r=n(r,t[a],a,t)}return r}return function(n,r,i,o){r=_(r,o,4);var s=!q(n)&&y.keys(n),a=(s||n).length,u=e>0?0:a-1;return arguments.length<3&&(i=n[s?s[u]:u],u+=e),t(n,r,i,s,u,a)}}function t(e){return function(t,n,r){n=b(n,r);for(var i=E(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var s=0,a=E(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(c.call(r,s,a),y.isNaN),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=A.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||a,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=A[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,s=Array.prototype,a=Object.prototype,u=Function.prototype,l=s.push,c=s.slice,h=a.toString,f=a.hasOwnProperty,d=Array.isArray,p=Object.keys,m=u.bind,g=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?y.identity:y.isFunction(e)?_(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return b(e,t,1/0)};var w=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,u=0;u<a;u++){var l=s[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},S=function(e){if(!y.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,E=x("length"),q=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=T};y.each=y.forEach=function(e,t,n){t=_(t,n);var r,i;if(q(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=b(t,n);for(var r=!q(e)&&y.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;if(r=q(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=b(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(b(t)),n)},y.every=y.all=function(e,t,n){t=b(t,n);for(var r=!q(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},y.some=y.any=function(e,t,n){t=b(t,n);for(var r=!q(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return q(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=c.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=q(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],r>o&&(o=r)}else t=b(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i>s||i===-(1/0)&&o===-(1/0))&&(o=e,s=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t&&null!=e){e=q(e)?e:y.values(e);for(var a=0,u=e.length;a<u;a++)r=e[a],r<o&&(o=r)}else t=b(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},y.shuffle=function(e){for(var t,n=q(e)?e:y.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(q(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=b(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,r){var i={};return n=b(n,r),y.each(t,function(r,o){var s=n(r,o,t);e(i,r,s)}),i}};y.groupBy=C(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=C(function(e,t,n){e[n]=t}),y.countBy=C(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):q(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:q(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=b(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var k=function(e,t,n,r){for(var i=[],o=0,s=r||0,a=E(e);s<a;s++){var u=e[s];if(q(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=k(u,t,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};y.flatten=function(e,t){return k(e,t,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],o=[],s=0,a=E(e);s<a;s++){var u=e[s],l=n?n(u,s,e):u;t?(s&&o===l||i.push(u),o=l):n?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(k(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){for(var s=1;s<n&&y.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},y.difference=function(e){var t=k(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=b(n,r,1);for(var i=n(t),o=0,s=E(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var P=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=S(e.prototype),s=e.apply(o,i);return y.isObject(s)?s:o};y.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return P(e,r,t,this,n.concat(c.call(arguments)))};return r},y.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),s=0;s<i;s++)o[s]=t[s]===y?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return P(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,s=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:y.now(),s=null,o=e.apply(r,i),s||(r=i=null)};return function(){var l=y.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return r=this,i=arguments,c<=0||c>t?(s&&(clearTimeout(s),s=null),a=l,o=e.apply(r,i),s||(r=i=null)):s||n.trailing===!1||(s=setTimeout(u,c)),o}},y.debounce=function(e,t,n){var r,i,o,s,a,u=function(){var l=y.now()-s;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,s=y.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(a=e.apply(o,i),o=i=null),a}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return O&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return O&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=b(t,n);for(var r,i=y.keys(e),o=i.length,s={},a=0;a<o;a++)r=i[a],s[r]=t(e[r],r,e);return s},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=b(t,n);for(var r,i=y.keys(e),o=0,s=i.length;o<s;o++)if(r=i[o],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,i,o={},s=e;if(null==s)return o;y.isFunction(t)?(i=y.allKeys(s),r=_(t,n)):(i=k(arguments,!1,!1,1),r=function(e,t,n){return t in n},s=Object(s));for(var a=0,u=i.length;a<u;a++){var l=i[a],c=s[l];r(c,l,s)&&(o[l]=c)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(k(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=S(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(y.isFunction(s)&&s instanceof s&&y.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!M(e[u],t[u],n,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(t,l)||!M(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return M(e,t)},y.isEmpty=function(e){return null==e||(q(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=d||function(e){return"[object Array]"===h.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&f.call(e,t)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=x,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=_(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=y.invert(j),R=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=R(j),y.unescape=R(I),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var D=0;y.uniqueId=function(e){var t=++D+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,U=function(e){return"\\"+N[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,s,a){return o+=e.slice(i,a).replace(L,U),i=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o);
}catch(a){throw a.source=o,a}var u=function(e){return s.call(this,e,y)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var t=y(e);return t._chain=!0,t};var B=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),B(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],B(this,n)}}),y.each(["concat","join","slice"],function(e){var t=s[e];y.prototype[e]=function(){return B(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e)}(this,function(e){var t=function(){function t(e){return null==e?String(e):$[K.call(e)]||"object"}function n(e){return"function"==t(e)}function r(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(e){return"object"==t(e)}function s(e){return o(e)&&!r(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){var t=!!e&&"length"in e&&e.length,n=E.type(e);return"function"!=n&&!r(e)&&("array"==n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function u(e){return A.call(e,function(e){return null!=e})}function l(e){return e.length>0?E.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function h(e){return e in R?R[e]:R[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||D[c(e)]?t:t+"px"}function d(e){var t,n;return I[e]||(t=j.createElement(e),j.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),I[e]=n),I[e]}function p(e){return"children"in e?M.call(e.children):E.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function m(e,t){var n,r=e?e.length:0;for(n=0;n<r;n++)this[n]=e[n];this.length=r,this.selector=t||""}function g(e,t,n){for(T in t)n&&(s(t[T])||ee(t[T]))?(s(t[T])&&!s(e[T])&&(e[T]={}),ee(t[T])&&!ee(e[T])&&(e[T]=[]),g(e[T],t[T],n)):t[T]!==x&&(e[T]=t[T])}function v(e,t){return null==t?E(e):E(e).filter(t)}function y(e,t,r,i){return n(t)?t.call(e,r,i):t}function _(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==x;return t===x?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?E.parseJSON(e):e):e}catch(t){return e}}function S(e,t){t(e);for(var n=0,r=e.childNodes.length;n<r;n++)S(e.childNodes[n],t)}var x,T,E,q,C,k,P=[],O=P.concat,A=P.filter,M=P.slice,j=e.document,I={},R={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},F=/^\s*<(\w+|!)[^>]*>/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,U=/^(?:body|html)$/i,B=/([A-Z])/g,H=["val","css","html","text","data","width","height","offset"],z=["after","prepend","before","append"],Y=j.createElement("table"),V=j.createElement("tr"),X={tr:j.createElement("tbody"),tbody:Y,thead:Y,tfoot:Y,td:V,th:V,"*":j.createElement("div")},W=/complete|loaded|interactive/,G=/^[\w-]*$/,$={},K=$.toString,Z={},J=j.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},ee=Array.isArray||function(e){return e instanceof Array};return Z.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,i=e.parentNode,o=!i;return o&&(i=J).appendChild(e),r=~Z.qsa(i,t).indexOf(e),o&&J.removeChild(e),r},C=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},k=function(e){return A.call(e,function(t,n){return e.indexOf(t)==n})},Z.fragment=function(e,t,n){var r,i,o;return N.test(e)&&(r=E(j.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(L,"<$1></$2>")),t===x&&(t=F.test(e)&&RegExp.$1),t in X||(t="*"),o=X[t],o.innerHTML=""+e,r=E.each(M.call(o.childNodes),function(){o.removeChild(this)})),s(n)&&(i=E(r),E.each(n,function(e,t){H.indexOf(e)>-1?i[e](t):i.attr(e,t)})),r},Z.Z=function(e,t){return new m(e,t)},Z.isZ=function(e){return e instanceof Z.Z},Z.init=function(e,t){var r;if(!e)return Z.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&F.test(e))r=Z.fragment(e,RegExp.$1,t),e=null;else{if(t!==x)return E(t).find(e);r=Z.qsa(j,e)}else{if(n(e))return E(j).ready(e);if(Z.isZ(e))return e;if(ee(e))r=u(e);else if(o(e))r=[e],e=null;else if(F.test(e))r=Z.fragment(e.trim(),RegExp.$1,t),e=null;else{if(t!==x)return E(t).find(e);r=Z.qsa(j,e)}}return Z.Z(r,e)},E=function(e,t){return Z.init(e,t)},E.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){g(e,n,t)}),e},Z.qsa=function(e,t){var n,r="#"==t[0],i=!r&&"."==t[0],o=r||i?t.slice(1):t,s=G.test(o);return e.getElementById&&s&&r?(n=e.getElementById(o))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(s&&!r&&e.getElementsByClassName?i?e.getElementsByClassName(o):e.getElementsByTagName(t):e.querySelectorAll(t))},E.contains=j.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},E.type=t,E.isFunction=n,E.isWindow=r,E.isArray=ee,E.isPlainObject=s,E.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},E.isNumeric=function(e){var t=Number(e),n=typeof e;return null!=e&&"boolean"!=n&&("string"!=n||e.length)&&!isNaN(t)&&isFinite(t)||!1},E.inArray=function(e,t,n){return P.indexOf.call(t,e,n)},E.camelCase=C,E.trim=function(e){return null==e?"":String.prototype.trim.call(e)},E.uuid=0,E.support={},E.expr={},E.noop=function(){},E.map=function(e,t){var n,r,i,o=[];if(a(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&o.push(n);else for(i in e)n=t(e[i],i),null!=n&&o.push(n);return l(o)},E.each=function(e,t){var n,r;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},E.grep=function(e,t){return A.call(e,t)},e.JSON&&(E.parseJSON=JSON.parse),E.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){$["[object "+t+"]"]=t.toLowerCase()}),E.fn={constructor:Z.Z,length:0,forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,splice:P.splice,indexOf:P.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=Z.isZ(t)?t.toArray():t;return O.apply(Z.isZ(this)?this.toArray():this,n)},map:function(e){return E(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return E(M.apply(this,arguments))},ready:function(e){return W.test(j.readyState)&&j.body?e(E):j.addEventListener("DOMContentLoaded",function(){e(E)},!1),this},get:function(e){return e===x?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return P.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return n(e)?this.not(this.not(e)):E(A.call(this,function(t){return Z.matches(t,e)}))},add:function(e,t){return E(k(this.concat(E(e,t))))},is:function(e){return this.length>0&&Z.matches(this[0],e)},not:function(e){var t=[];if(n(e)&&e.call!==x)this.each(function(n){e.call(this,n)||t.push(this)});else{var r="string"==typeof e?this.filter(e):a(e)&&n(e.item)?M.call(e):E(e);this.forEach(function(e){r.indexOf(e)<0&&t.push(e)})}return E(t)},has:function(e){return this.filter(function(){return o(e)?E.contains(this,e):E(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:E(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:E(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?E(e).filter(function(){var e=this;return P.some.call(n,function(t){return E.contains(t,e)})}):1==this.length?E(Z.qsa(this[0],e)):this.map(function(){return Z.qsa(this,e)}):E()},closest:function(e,t){var n=[],r="object"==typeof e&&E(e);return this.each(function(o,s){for(;s&&!(r?r.indexOf(s)>=0:Z.matches(s,e));)s=s!==t&&!i(s)&&s.parentNode;s&&n.indexOf(s)<0&&n.push(s)}),E(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=E.map(n,function(e){if((e=e.parentNode)&&!i(e)&&t.indexOf(e)<0)return t.push(e),e});return v(t,e)},parent:function(e){return v(k(this.pluck("parentNode")),e)},children:function(e){return v(this.map(function(){return p(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return v(this.map(function(e,t){return A.call(p(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return E.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=d(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=n(e);if(this[0]&&!t)var r=E(e).get(0),i=r.parentNode||this.length>1;return this.each(function(n){E(this).wrapAll(t?e.call(this,n):i?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){E(this[0]).before(e=E(e));for(var t;(t=e.children()).length;)e=t.first();E(e).append(this)}return this},wrapInner:function(e){var t=n(e);return this.each(function(n){var r=E(this),i=r.contents(),o=t?e.call(this,n):e;i.length?i.wrapAll(o):r.append(o)})},unwrap:function(){return this.parent().each(function(){E(this).replaceWith(E(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=E(this);(e===x?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return E(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return E(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;E(this).empty().append(y(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=y(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this.pluck("textContent").join(""):null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(T in e)_(this,T,e[T]);else _(this,e,y(this,t,n,this.getAttribute(e)))}):0 in this&&1==this[0].nodeType&&null!=(n=this[0].getAttribute(e))?n:x},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){_(this,e)},this)})},prop:function(e,t){return e=Q[e]||e,1 in arguments?this.each(function(n){this[e]=y(this,t,n,this[e])}):this[0]&&this[0][e]},removeProp:function(e){return e=Q[e]||e,this.each(function(){delete this[e]})},data:function(e,t){var n="data-"+e.replace(B,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):x},val:function(e){return 0 in arguments?(null==e&&(e=""),this.each(function(t){this.value=y(this,e,t,this.value)})):this[0]&&(this[0].multiple?E(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=E(this),r=y(this,t,e,n.offset()),i=n.offsetParent().offset(),o={top:r.top-i.top,left:r.left-i.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(j.documentElement!==this[0]&&!E.contains(j.documentElement,this[0]))return{top:0,left:0};var n=this[0].getBoundingClientRect();return{left:n.left+e.pageXOffset,top:n.top+e.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(e,n){if(arguments.length<2){var r=this[0];if("string"==typeof e){if(!r)return;return r.style[C(e)]||getComputedStyle(r,"").getPropertyValue(e)}if(ee(e)){if(!r)return;var i={},o=getComputedStyle(r,"");return E.each(e,function(e,t){i[t]=r.style[C(t)]||o.getPropertyValue(t)}),i}}var s="";if("string"==t(e))n||0===n?s=c(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(T in e)e[T]||0===e[T]?s+=c(T)+":"+f(T,e[T])+";":this.each(function(){this.style.removeProperty(c(T))});return this.each(function(){this.style.cssText+=";"+s})},index:function(e){return e?this.indexOf(E(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&P.some.call(this,function(e){return this.test(b(e))},h(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){q=[];var n=b(this),r=y(this,e,t,n);r.split(/\s+/g).forEach(function(e){E(this).hasClass(e)||q.push(e)},this),q.length&&b(this,n+(n?" ":"")+q.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===x)return b(this,"");q=b(this),y(this,e,t,q).split(/\s+/g).forEach(function(e){q=q.replace(h(e)," ")}),b(this,q.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=E(this),i=y(this,e,n,b(this));i.split(/\s+/g).forEach(function(e){(t===x?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===x?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===x?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=U.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(E(e).css("margin-top"))||0,n.left-=parseFloat(E(e).css("margin-left"))||0,r.top+=parseFloat(E(t[0]).css("border-top-width"))||0,r.left+=parseFloat(E(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j.body;e&&!U.test(e.nodeName)&&"static"==E(e).css("position");)e=e.offsetParent;return e})}},E.fn.detach=E.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});E.fn[e]=function(n){var o,s=this[0];return n===x?r(s)?s["inner"+t]:i(s)?s.documentElement["scroll"+t]:(o=this.offset())&&o[e]:this.each(function(t){s=E(this),s.css(e,y(this,n,t,s[e]()))})}}),z.forEach(function(n,r){var i=r%2;E.fn[n]=function(){var n,o,s=E.map(arguments,function(e){var r=[];return n=t(e),"array"==n?(e.forEach(function(e){return e.nodeType!==x?r.push(e):E.zepto.isZ(e)?r=r.concat(e.get()):void(r=r.concat(Z.fragment(e)))}),r):"object"==n||null==e?e:Z.fragment(e)}),a=this.length>1;return s.length<1?this:this.each(function(t,n){o=i?n:n.parentNode,n=0==r?n.nextSibling:1==r?n.firstChild:2==r?n:null;var u=E.contains(j.documentElement,o);s.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!o)return E(t).remove();o.insertBefore(t,n),u&&S(t,function(t){if(!(null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src)){var n=t.ownerDocument?t.ownerDocument.defaultView:e;n.eval.call(n,t.innerHTML)}})})})},E.fn[i?n+"To":"insert"+(r?"Before":"After")]=function(e){return E(e)[n](this),this}}),Z.Z.prototype=m.prototype=E.fn,Z.uniq=k,Z.deserializeValue=w,E.zepto=Z,E}();return e.Zepto=t,void 0===e.$&&(e.$=t),function(t){function n(e){return e._zid||(e._zid=d++)}function r(e,t,r,s){if(t=i(t),t.ns)var a=o(t.ns);return(v[n(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||a.test(e.ns))&&(!r||n(e.fn)===n(r))&&(!s||e.sel==s)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function s(e,t){return e.del&&!_&&e.e in b||!!t}function a(e){return w[e]||_&&b[e]||e}function u(e,r,o,u,l,h,d){var p=n(e),m=v[p]||(v[p]=[]);r.split(/\s/).forEach(function(n){if("ready"==n)return t(document).ready(o);var r=i(n);r.fn=o,r.sel=l,r.e in w&&(o=function(e){var n=e.relatedTarget;if(!n||n!==this&&!t.contains(this,n))return r.fn.apply(this,arguments)}),r.del=h;var p=h||o;r.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=u;var n=p.apply(e,t._args==f?[t]:[t].concat(t._args));return n===!1&&(t.preventDefault(),t.stopPropagation()),n}},r.i=m.length,m.push(r),"addEventListener"in e&&e.addEventListener(a(r.e),r.proxy,s(r,d))})}function l(e,t,i,o,u){var l=n(e);(t||"").split(/\s/).forEach(function(t){r(e,t,i,o).forEach(function(t){delete v[l][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,s(t,u))})})}function c(e,n){return!n&&e.isDefaultPrevented||(n||(n=e),t.each(E,function(t,r){var i=n[t];e[t]=function(){return this[r]=S,i&&i.apply(n,arguments)},e[r]=x}),e.timeStamp||(e.timeStamp=Date.now()),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=S)),e}function h(e){var t,n={originalEvent:e};for(t in e)T.test(t)||e[t]===f||(n[t]=e[t]);return c(n,e)}var f,d=1,p=Array.prototype.slice,m=t.isFunction,g=function(e){return"string"==typeof e},v={},y={},_="onfocusin"in e,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",t.event={add:u,remove:l},t.proxy=function(e,r){var i=2 in arguments&&p.call(arguments,2);if(m(e)){var o=function(){return e.apply(r,i?i.concat(p.call(arguments)):arguments)};return o._zid=n(e),o}if(g(r))return i?(i.unshift(e[r],e),t.proxy.apply(null,i)):t.proxy(e[r],e);throw new TypeError("expected function")},t.fn.bind=function(e,t,n){return this.on(e,t,n)},t.fn.unbind=function(e,t){return this.off(e,t)},t.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var S=function(){return!0},x=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$|webkitMovement[XY]$)/,E={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(e,t,n){return this.on(t,e,n)},t.fn.undelegate=function(e,t,n){return this.off(t,e,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,r,i,o){var s,a,c=this;return e&&!g(e)?(t.each(e,function(e,t){c.on(e,n,r,t,o)}),c):(g(n)||m(i)||i===!1||(i=r,r=n,n=f),i!==f&&r!==!1||(i=r,r=f),i===!1&&(i=x),c.each(function(c,f){o&&(s=function(e){return l(f,e.type,i),i.apply(this,arguments)}),n&&(a=function(e){var r,o=t(e.target).closest(n,f).get(0);if(o&&o!==f)return r=t.extend(h(e),{currentTarget:o,liveFired:f}),(s||i).apply(o,[r].concat(p.call(arguments,1)))}),u(f,e,i,r,n,a||s)}))},t.fn.off=function(e,n,r){var i=this;return e&&!g(e)?(t.each(e,function(e,t){i.off(e,n,t)}),i):(g(n)||m(r)||r===!1||(r=n,n=f),r===!1&&(r=x),i.each(function(){l(this,e,r,n)}))},t.fn.trigger=function(e,n){return e=g(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,n){var i,o;return this.each(function(s,a){i=h(g(e)?t.Event(e):e),i._args=n,i.target=a,t.each(r(a,e.type||e),function(e,t){if(o=t.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(e,t){g(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),r=!0;if(t)for(var i in t)"bubbles"==i?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0),c(n)}}(t),function(t){function n(e,n,r){var i=t.Event(n);return t(e).trigger(i,r),!i.isDefaultPrevented()}function r(e,t,r,i){if(e.global)return n(t||b,r,i)}function i(e){e.global&&0===t.active++&&r(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&r(e,null,"ajaxStop")}function s(e,t){var n=t.context;return t.beforeSend.call(n,e,t)!==!1&&r(t,n,"ajaxBeforeSend",[e,t])!==!1&&void r(t,n,"ajaxSend",[e,t])}function a(e,t,n,i){var o=n.context,s="success";n.success.call(o,e,s,t),i&&i.resolveWith(o,[e,s,t]),r(n,o,"ajaxSuccess",[t,n,e]),l(s,t,n)}function u(e,t,n,i,o){var s=i.context;i.error.call(s,n,t,e),o&&o.rejectWith(s,[n,t,e]),r(i,s,"ajaxError",[n,i,e||t]),l(t,n,i)}function l(e,t,n){var i=n.context;n.complete.call(i,t,e),r(n,i,"ajaxComplete",[t,n]),o(n)}function c(e,t,n){if(n.dataFilter==h)return e;var r=n.context;return n.dataFilter.call(r,e,t)}function h(){}function f(e){return e&&(e=e.split(";",2)[0]),e&&(e==E?"html":e==T?"json":S.test(e)?"script":x.test(e)&&"xml")||"text"}function d(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()&&"jsonp"!=e.dataType||(e.url=d(e.url,e.data),e.data=void 0)}function m(e,n,r,i){return t.isFunction(n)&&(i=r,r=n,n=void 0),t.isFunction(r)||(i=r,r=void 0),{url:e,data:n,success:r,dataType:i}}function g(e,n,r,i){var o,s=t.isArray(n),a=t.isPlainObject(n);t.each(n,function(n,u){o=t.type(u),i&&(n=r?i:i+"["+(a||"object"==o||"array"==o?n:"")+"]"),!i&&s?e.add(u.name,u.value):"array"==o||!r&&"object"==o?g(e,u,r,n):e.add(n,u)})}var v,y,_=+new Date,b=e.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,S=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,T="application/json",E="text/html",q=/^\s*$/,C=b.createElement("a");C.href=e.location.href,t.active=0,t.ajaxJSONP=function(n,r){if(!("type"in n))return t.ajax(n);var i,o,l=n.jsonpCallback,c=(t.isFunction(l)?l():l)||"Zepto"+_++,h=b.createElement("script"),f=e[c],d=function(e){t(h).triggerHandler("error",e||"abort")},p={abort:d};return r&&r.promise(p),t(h).on("load error",function(s,l){clearTimeout(o),t(h).off().remove(),"error"!=s.type&&i?a(i[0],p,n,r):u(null,l||"error",p,n,r),e[c]=f,i&&t.isFunction(f)&&f(i[0]),f=i=void 0}),s(p,n)===!1?(d("abort"),p):(e[c]=function(){i=arguments},h.src=n.url.replace(/\?(.+)=\?/,"?$1="+c),b.head.appendChild(h),n.timeout>0&&(o=setTimeout(function(){d("timeout")},n.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:h,success:h,error:h,complete:h,context:null,global:!0,xhr:function(){return new e.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:E,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:h},t.ajax=function(n){var r,o,l=t.extend({},n||{}),m=t.Deferred&&t.Deferred();for(v in t.ajaxSettings)void 0===l[v]&&(l[v]=t.ajaxSettings[v]);i(l),l.crossDomain||(r=b.createElement("a"),r.href=l.url,r.href=r.href,l.crossDomain=C.protocol+"//"+C.host!=r.protocol+"//"+r.host),l.url||(l.url=e.location.toString()),(o=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,o)),p(l);var g=l.dataType,_=/\?.+=\?/.test(l.url);if(_&&(g="jsonp"),l.cache!==!1&&(n&&n.cache===!0||"script"!=g&&"jsonp"!=g)||(l.url=d(l.url,"_="+Date.now())),"jsonp"==g)return _||(l.url=d(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),t.ajaxJSONP(l,m);var w,S=l.accepts[g],x={},T=function(e,t){x[e.toLowerCase()]=[e,t]},E=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:e.location.protocol,k=l.xhr(),P=k.setRequestHeader;if(m&&m.promise(k),l.crossDomain||T("X-Requested-With","XMLHttpRequest"),T("Accept",S||"*/*"),(S=l.mimeType||S)&&(S.indexOf(",")>-1&&(S=S.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(S)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&T("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(y in l.headers)T(y,l.headers[y]);if(k.setRequestHeader=T,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=h,clearTimeout(w);var e,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==E){if(g=g||f(l.mimeType||k.getResponseHeader("content-type")),"arraybuffer"==k.responseType||"blob"==k.responseType)e=k.response;else{e=k.responseText;try{e=c(e,g,l),"script"==g?(0,eval)(e):"xml"==g?e=k.responseXML:"json"==g&&(e=q.test(e)?null:t.parseJSON(e))}catch(r){n=r}if(n)return u(n,"parsererror",k,l,m)}a(e,k,l,m)}else u(k.statusText||null,k.status?"error":"abort",k,l,m)}},s(k,l)===!1)return k.abort(),u(null,"abort",k,l,m),k;var O=!("async"in l)||l.async;if(k.open(l.type,l.url,O,l.username,l.password),l.xhrFields)for(y in l.xhrFields)k[y]=l.xhrFields[y];for(y in x)P.apply(k,x[y]);return l.timeout>0&&(w=setTimeout(function(){k.onreadystatechange=h,k.abort(),u(null,"timeout",k,l,m)},l.timeout)),k.send(l.data?l.data:null),k},t.get=function(){return t.ajax(m.apply(null,arguments))},t.post=function(){var e=m.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=m.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,r){if(!this.length)return this;var i,o=this,s=e.split(/\s/),a=m(e,n,r),u=a.success;return s.length>1&&(a.url=s[0],i=s[1]),a.success=function(e){o.html(i?t("<div>").html(e.replace(w,"")).find(i):e),u&&u.apply(o,arguments)},t.ajax(a),this};var k=encodeURIComponent;t.param=function(e,n){var r=[];return r.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(e)+"="+k(n))},g(r,e,n),r.join("&").replace(/%20/g,"+")}}(t),function(e){e.fn.serializeArray=function(){var t,n,r=[],i=function(e){return e.forEach?e.forEach(i):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,o){n=o.type,t=o.name,t&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&i(e(o).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(t),function(){try{getComputedStyle(void 0)}catch(t){var n=getComputedStyle;e.getComputedStyle=function(e,t){try{return n(e,t)}catch(r){return null}}}}(),t}),function(e,t){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,o=[],s=(o.push,o.slice);o.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=t.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!l(this,"once",e,[t,r])||!t)return this;var i=this,o=n.once(function(){i.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,r)},off:function(e,t,r){var i,o,s,a,u,c,h,f;if(!this._events||!l(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;for(a=e?[e]:n.keys(this._events),u=0,c=a.length;u<c;u++)if(e=a[u],s=this._events[e]){if(this._events[e]=i=[],t||r)for(h=0,f=s.length;h<f;h++)o=s[h],(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var o=!t&&!r;r||"object"!=typeof t||(r=this),e&&((i={})[e._listenId]=e);for(var s in i)e=i[s],e.off(t,r,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[s];return this}},u=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;s<a;s++)e[t].apply(e,[o[s]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(e,t){a[t]=function(t,r,i){var o=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=n.uniqueId("l"));return o[s]=t,i||"object"!=typeof r||(i=this),t[e](r,i,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(t,a);var f=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,r){var i,o,s,a,u,l,c,h;if(null==e)return this;if("object"==typeof e?(o=e,r=t):(o={})[e]=t,r||(r={}),!this._validate(o,r))return!1;s=r.unset,u=r.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)t=o[i],n.isEqual(h[i],t)||a.push(i),n.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,s?delete h[i]:h[i]=t;if(!u){a.length&&(this._pending=r);for(var f=0,d=a.length;f<d;f++)this.trigger("change:"+a[f],this,h[a[f]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(i[o],t=e[o])||((r||(r={}))[o]=t);return r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},
void 0===e.parse&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){return!!t.set(t.parse(n,e),e)&&(r&&r(t,n,e),void t.trigger("sync",t,n,e))},F(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,o,s,a=this.attributes;if(null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},a,i)),void 0===r.parse&&(r.parse=!0);var u=this,l=r.success;return r.success=function(e){u.attributes=a;var t=u.parse(e,r);return r.wait&&(t=n.extend(i||{},t)),!(n.isObject(t)&&!u.set(t,r))&&(l&&l(u,e,r),void u.trigger("sync",u,e,r))},F(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),s=this.sync(o,this,r),i&&r.wait&&(this.attributes=a),s},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;F(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(e){f.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var p=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(p.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,o,s,a;for(i=0,o=e.length;i<o;i++)a=e[i]=this.get(e[i]),a&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,t.silent||(t.index=s,a.trigger("remove",a,this,t)),this._removeReference(a,t));return r?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,o,s,a,u,l,c,h=t.at,d=this.model,p=this.comparator&&null==h&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],y=[],_={},b=t.add,w=t.merge,S=t.remove,x=!(p||!b||!S)&&[];for(i=0,o=e.length;i<o;i++){if(u=e[i]||{},s=u instanceof f?a=u:u[d.prototype.idAttribute||"id"],l=this.get(s))S&&(_[l.cid]=!0),w&&(u=u===a?a.attributes:u,t.parse&&(u=l.parse(u,t)),l.set(u,t),p&&!c&&l.hasChanged(g)&&(c=!0)),e[i]=l;else if(b){if(a=e[i]=this._prepareModel(u,t),!a)continue;v.push(a),this._addReference(a,t)}a=l||a,!x||!a.isNew()&&_[a.id]||x.push(a),_[a.id]=!0}if(S){for(i=0,o=this.length;i<o;++i)_[(a=this.models[i]).cid]||y.push(a);y.length&&this.remove(y,t)}if(v.length||x&&x.length)if(p&&(c=!0),this.length+=v.length,null!=h)for(i=0,o=v.length;i<o;i++)this.models.splice(h+i,0,v[i]);else{x&&(this.models.length=0);var T=x||v;for(i=0,o=T.length;i<o;i++)this.models.push(T[i])}if(c&&this.sort({silent:!0}),!t.silent){for(i=0,o=v.length;i<o;i++)(a=v[i]).trigger("add",a,this,t);(c||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof f)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){p.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){p.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var _=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[e[t]]),r){var i=t.match(b),o=i[1],s=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,r):this.$el.on(o,s,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}}}),t.sync=function(e,r,i){var o=x[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||D()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&S&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var S=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,q=/(\(\?)?:\w+/g,C=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,a,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);o.execute(i,s),o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(k,"\\$&").replace(E,"(?:$1)?").replace(q,function(e,t){return t?e:"([^/?]+)"}).replace(C,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var P=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},O=/^[#\/]|\s+$/g,A=/^\/+|\/+$/g,M=/msie [\w.]+/,j=/\/$/,I=/#.*$/;P.started=!1,n.extend(P.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(j,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(O,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=M.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);if(this.root=("/"+this.root+"/").replace(A,"/"),o&&this._wantsHashChange){var s=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(O,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t!==this.fragment&&(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!P.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(I,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new P;var R=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};f.extend=p.extend=T.extend=_.extend=P.extend=R;var D=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),function(e,t,n){function r(e,n){this.wrapper="string"==typeof e?t.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var r in n)this.options[r]=n[r];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function i(e,n,r){var i=t.createElement("div"),o=t.createElement("div");return r===!0&&(i.style.cssText="position:absolute;z-index:9999",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),o.className="iScrollIndicator","h"==e?(r===!0&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",o.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(r===!0&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",o.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",n||(i.style.pointerEvents="none"),i.appendChild(o),i}function o(n,r){this.wrapper="string"==typeof r.el?t.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in r)this.options[i]=r[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(e,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(e,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[a.style.transform]=this.scroller.translateZ,this.wrapperStyle[a.style.transitionDuration]=a.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(){function r(e){return s!==!1&&(""===s?e:s+e.charAt(0).toUpperCase()+e.substr(1))}var i={},o=t.createElement("div").style,s=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],n=0,r=t.length;n<r;n++)if(e=t[n]+"ransform",e in o)return t[n].substr(0,t[n].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(e,t){for(var n in t)e[n]=t[n]},i.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},i.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},i.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},i.momentum=function(e,t,r,i,o,s){var a,u,l=e-t,c=n.abs(l)/r;return s=void 0===s?6e-4:s,a=e+c*c/(2*s)*(l<0?-1:1),u=c/s,a<i?(a=o?i-o/2.5*(c/8):i,l=n.abs(a-e),u=l/c):a>0&&(a=o?o/2.5*(c/8):0,l=n.abs(e)+a,u=l/c),{destination:n.round(a),duration:u}};var a=r("transform");return i.extend(i,{hasTransform:a!==!1,hasPerspective:r("perspective")in o,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:r("transition")in o}),i.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),i.extend(i.style={},{transform:a,transitionTimingFunction:r("transitionTimingFunction"),transitionDuration:r("transitionDuration"),transitionDelay:r("transitionDelay"),transformOrigin:r("transformOrigin")}),i.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)},i.addClass=function(e,t){if(!i.hasClass(e,t)){var n=e.className.split(" ");n.push(t),e.className=n.join(" ")}},i.removeClass=function(e,t){if(i.hasClass(e,t)){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n," ")}},i.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},i.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,r=.4;return 0===e?0:1==e?1:r*n.pow(2,-10*e)*n.sin((e-t/4)*(2*n.PI)/t)+1}}}),i.tap=function(e,n){var r=t.createEvent("Event");r.initEvent(n,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},i.click=function(e){var n,r=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||(n=t.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,e.view,1,r.screenX,r.screenY,r.clientX,r.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n._constructed=!0,r.dispatchEvent(n))},i}();r.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if((1==a.eventType[e.type]||0===e.button)&&this.enabled&&(!this.initiated||a.eventType[e.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,r=e.touches?e.touches[0]:e;this.initiated=a.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this.options.snap||(this.isInTransition=!1,t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y))),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.options.snap||(this.isAnimating=!1),this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=r.pageX,this.pointY=r.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,r,i,o,s=e.touches?e.touches[0]:e,u=s.pageX-this.pointX,l=s.pageY-this.pointY,c=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=u,this.distY+=l,i=n.abs(this.distX),o=n.abs(this.distY),!(c-this.endTime>300&&i<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked="h":o>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}u=this.hasHorizontalScroll?u:0,l=this.hasVerticalScroll?l:0,t=this.x+u,r=this.y+l,(t>this.minScrollX||t<this.maxScrollX)&&(t=this.options.bounce?this.x+u/3:t>this.minScrollX?this.minScrollX:this.maxScrollX),(r>this.minScrollY||r<this.maxScrollY)&&(r=this.options.bounce?this.y+l/3:r>this.minScrollY?this.minScrollY:this.maxScrollY),this.directionX=u>0?-1:u<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,r),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,r,i=(e.changedTouches?e.changedTouches[0]:e,a.getTime()-this.startTime),o=n.round(this.x),s=n.round(this.y),u=n.abs(o-this.startX),l=n.abs(s-this.startY),c=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&a.tap(e,this.options.tap),void(this.options.click&&a.click(e));if(this._events.flick&&i<200&&u<100&&l<100)return void this._execEvent("flick");if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?a.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},r=this.hasVerticalScroll?a.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=t.destination,s=r.destination,c=n.max(t.duration,r.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(o,s);this.currentPage=f,c=this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-f.x),1e3),n.min(n.abs(s-f.y),1e3)),300),o=f.x,s=f.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return o!=this.x||s!=this.y?((o>this.minScrollX||o<this.maxScrollX||s>this.minScrollY||s<this.maxScrollY)&&(h=a.ease.quadratic),void this.scrollTo(o,s,c,h)):void this._execEvent("scrollEnd")}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>this.minScrollX?t=this.minScrollX:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>this.minScrollY?n=this.minScrollY:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.minScrollX=0,this.minScrollY=0,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,r){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,r)},scrollTo:function(e,t,n,r){r=r||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0,!n||this.options.useTransition&&r.style?(this._transitionTimingFunction(r.style),this._transitionTime(n),this._translate(e,t)):this._animate(e,t,n,r.fn)},scrollToElement:function(e,t,r,i,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=a.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,r===!0&&(r=n.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),i===!0&&(i=n.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=r||0,s.top-=i||0,s.left=s.left>this.minScrollX?this.minScrollX:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>this.minScrollY?this.minScrollY:s.top<this.maxScrollY?this.maxScrollY:s.top,t=void 0===t||null===t||"auto"===t?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,o)}},_transitionTime:function(e){if(e=e||0,this.scrollerStyle[a.style.transitionDuration]=e+"ms",!e&&a.isBadAndroid&&(this.scrollerStyle[a.style.transitionDuration]="0.001s"),this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[a.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].updatePosition()},_initEvents:function(t){var n=t?a.removeEvent:a.addEvent,r=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(r,a.prefixPointerEvent("pointermove"),this),n(r,a.prefixPointerEvent("pointercancel"),this),n(r,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,r=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(r=r[a.style.transform].split(")")[0].split(", "),t=+(r[12]||r[4]),n=+(r[13]||r[5])):(t=+r.left.replace(/[^-\d.]/g,""),n=+r.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){function e(e){if(a.indicators)for(var t=a.indicators.length;t--;)e.call(a.indicators[t])}var t,n=this.options.interactiveScrollbars,r="string"!=typeof this.options.scrollbars,s=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(t={el:i("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(t.el),s.push(t)),this.options.scrollX&&(t={el:i("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:r,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(t.el),s.push(t))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var u=s.length;u--;)this.indicators.push(new o(this,s[u]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){e(function(){this.fade()})}),this.on("scrollCancel",function(){e(function(){this.fade()})}),this.on("scrollStart",function(){e(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){e(function(){this.fade(1,!0)})})),this.on("refresh",function(){e(function(){this.refresh()})}),this.on("destroy",function(){
e(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t,r,i,o,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,r=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,r=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,r=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=r=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=r=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,r*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=r,r=0),this.options.snap)return i=this.currentPage.pageX,o=this.currentPage.pageY,t>0?i--:t<0&&i++,r>0?o--:r<0&&o++,void this.goToPage(i,o);i=this.x+n.round(this.hasHorizontalScroll?t:0),o=this.y+n.round(this.hasVerticalScroll?r:0),i>this.minScrollX?i=this.minScrollX:i<this.maxScrollX&&(i=this.maxScrollX),o>this.minScrollY?o=this.minScrollY:o<this.maxScrollY&&(o=this.maxScrollY),this.scrollTo(i,o,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,r,i,o,s,a=0,u=0,l=0,c=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(r=n.round(c/2),i=n.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],e=0,o=0;o>-this.scrollerHeight;)this.pages[a][e]={x:n.max(l,this.maxScrollX),y:n.max(o,this.maxScrollY),width:c,height:h,cx:l-r,cy:o-i},o-=h,e++;l-=c,a++}else for(s=this.options.snap,e=s.length,t=-1;a<e;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(u=0,t++),this.pages[u]||(this.pages[u]=[]),l=n.max(-s[a].offsetLeft,this.maxScrollX),o=n.max(-s[a].offsetTop,this.maxScrollY),r=l-n.round(s[a].offsetWidth/2),i=o-n.round(s[a].offsetHeight/2),this.pages[u][t]={x:l,y:o,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:r,cy:i},l>this.maxScrollX&&u++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300),t=n.abs(this.minScrollX/this.wrapperWidth),r=n.abs(this.minScrollY/this.wrapperHeight),i=n.abs(this.maxScrollX/this.wrapperWidth),o=n.abs(this.maxScrollY/this.wrapperHeight);this.goToPage(n.max(n.min(this.currentPage.pageX+this.directionX,i),t),n.max(n.min(this.currentPage.pageY+this.directionY,o),r),e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var r=0,i=this.pages.length,o=0;if(n.abs(e-this.absStartX)<this.snapThresholdX&&n.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>this.minScrollX?e=this.minScrollX:e<this.maxScrollX&&(e=this.maxScrollX),t>this.minScrollY?t=this.minScrollY:t<this.maxScrollY&&(t=this.maxScrollY);r<i;r++)if(e>=this.pages[r][0].cx){e=this.pages[r][0].x;break}for(i=this.pages[r].length;o<i;o++)if(t>=this.pages[0][o].cy){t=this.pages[0][o].y;break}return r==this.currentPage.pageX&&(r+=this.directionX,r<0?r=0:r>=this.pages.length&&(r=this.pages.length-1),e=this.pages[r][0].x),o==this.currentPage.pageY&&(o+=this.directionY,o<0?o=0:o>=this.pages[0].length&&(o=this.pages[0].length-1),t=this.pages[0][o].y),{x:e,y:t,pageX:r,pageY:o}},goToPage:function(e,t,r,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var o=this.pages[e][t].x,s=this.pages[e][t].y;r=void 0===r?this.options.snapSpeed||n.max(n.max(n.min(n.abs(o-this.x),1e3),n.min(n.abs(s-this.y),1e3)),300):r,this.currentPage={x:o,y:s,pageX:e,pageY:t},this.scrollTo(o,s,r,i)},next:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this.goToPage(n,r,e,t)},prev:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;n--,n<0&&this.hasVerticalScroll&&(n=0,r--),this.goToPage(n,r,e,t)},_initKeys:function(t){var n,r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in r)this.options.keyBindings[n]=this.options.keyBindings[n]||r[n];a.addEvent(e,"keydown",this),this.on("destroy",function(){a.removeEvent(e,"keydown",this)})},_key:function(e){if(this.enabled){var t,r=this.options.snap,i=r?this.currentPage.pageX:this.x,o=r?this.currentPage.pageY:this.y,s=a.getTime(),u=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-u<200?n.min(this.keyAcceleration+l,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=r?1:this.wrapperWidth:o+=r?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=r?1:this.wrapperWidth:o-=r?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=r?this.pages.length-1:this.maxScrollX,o=r?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,o=0;break;case this.options.keyBindings.left:i+=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=r?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=r?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=r?1:5+this.keyAcceleration>>0;break;default:return}if(r)return void this.goToPage(i,o);i>this.minScrollX?(i=this.minScrollX,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),o>this.minScrollY?(o=this.minScrollY,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,o,0),this.keyTime=s}},_animate:function(e,t,n,r){function i(){var f,d,p,m=a.getTime();return m>=h?(o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"))):(m=(m-c)/n,p=r(m),f=(e-u)*p+u,d=(t-l)*p+l,o._translate(f,d),void(o.isAnimating&&s(i)))}var o=this,u=this.x,l=this.y,c=a.getTime(),h=c+n;this.isAnimating=!0,i()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},o.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),a.removeEvent(e,"touchend",this),a.removeEvent(e,a.prefixPointerEvent("pointerup"),this),a.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(e,"touchmove",this),this.options.disablePointer||a.addEvent(e,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,r,i,o=e.touches?e.touches[0]:e;a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,r=this.x+t,i=this.y+n,this._pos(r,i),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),this.scroller.options.snap){var r=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-r.x),1e3),n.min(n.abs(this.scroller.y-r.y),1e3)),300);this.scroller.x==r.x&&this.scroller.y==r.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=r,this.scroller.scrollTo(r.x,r.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0,this.indicatorStyle[a.style.transitionDuration]=e+"ms",!e&&a.isBadAndroid&&(this.indicatorStyle[a.style.transitionDuration]="0.001s")},transitionTimingFunction:function(e){this.indicatorStyle[a.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?n.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?n.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,r=e?0:300;e=e?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},r.utils=a,"undefined"!=typeof module&&module.exports?module.exports=r:e.IScroll=r}(window,document,Math),function(e){function t(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1}function n(e){var t=new Promise(function(t,n){var r=function(i){setTimeout(function(){e&&e.data?t():i>=20?n():r(++i)},50)};r(0)});return t}function r(){p=d?(e.screen.orientation.angle||0)*l:(e.orientation||0)*l}function i(e){h.orientation.data=e;for(var t in h.orientation.callbacks)h.orientation.callbacks[t].call(this)}function o(e){h.motion.data=e;for(var t in h.motion.callbacks)h.motion.callbacks[t].call(this)}if(void 0===e.FULLTILT||null===e.FULLTILT){var s=Math.PI,a=s/2,u=2*s,l=s/180,c=180/s,h={orientation:{active:!1,callbacks:[],data:void 0},motion:{active:!1,callbacks:[],data:void 0}},f=!1,d=!(!e.screen||!e.screen.orientation||void 0===e.screen.orientation.angle||null===e.screen.orientation.angle),p=(d?e.screen.orientation.angle:e.orientation||0)*l,m=a,g=s,v=u/3,y=-a,_={};_.version="0.5.3",_.getDeviceOrientation=function(e){var t=new Promise(function(t,r){var i=new _.DeviceOrientation(e);i.start();var o=new n(h.orientation);o.then(function(){i._alphaAvailable=h.orientation.data.alpha&&null!==h.orientation.data.alpha,i._betaAvailable=h.orientation.data.beta&&null!==h.orientation.data.beta,i._gammaAvailable=h.orientation.data.gamma&&null!==h.orientation.data.gamma,t(i)})["catch"](function(){i.stop(),r("DeviceOrientation is not supported")})});return t},_.getDeviceMotion=function(e){var t=new Promise(function(t,r){var i=new _.DeviceMotion(e);i.start();var o=new n(h.motion);o.then(function(){i._accelerationXAvailable=h.motion.data.acceleration&&h.motion.data.acceleration.x,i._accelerationYAvailable=h.motion.data.acceleration&&h.motion.data.acceleration.y,i._accelerationZAvailable=h.motion.data.acceleration&&h.motion.data.acceleration.z,i._accelerationIncludingGravityXAvailable=h.motion.data.accelerationIncludingGravity&&h.motion.data.accelerationIncludingGravity.x,i._accelerationIncludingGravityYAvailable=h.motion.data.accelerationIncludingGravity&&h.motion.data.accelerationIncludingGravity.y,i._accelerationIncludingGravityZAvailable=h.motion.data.accelerationIncludingGravity&&h.motion.data.accelerationIncludingGravity.z,i._rotationRateAlphaAvailable=h.motion.data.rotationRate&&h.motion.data.rotationRate.alpha,i._rotationRateBetaAvailable=h.motion.data.rotationRate&&h.motion.data.rotationRate.beta,i._rotationRateGammaAvailable=h.motion.data.rotationRate&&h.motion.data.rotationRate.gamma,t(i)})["catch"](function(){i.stop(),r("DeviceMotion is not supported")})});return t},_.Quaternion=function(e,n,r,i){var o;this.set=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=r||1},this.copy=function(e){this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w},this.setFromEuler=function(){var e,t,n,r,i,o,s,a,u,c,h,f;return function(d){return d=d||{},n=(d.alpha||0)*l,e=(d.beta||0)*l,t=(d.gamma||0)*l,o=n/2,r=e/2,i=t/2,s=Math.cos(r),a=Math.cos(i),u=Math.cos(o),c=Math.sin(r),h=Math.sin(i),f=Math.sin(o),this.set(c*a*u-s*h*f,s*h*u+c*a*f,s*a*f+c*h*u,s*a*u-c*h*f),this.normalize(),this}}(),this.setFromRotationMatrix=function(){var e;return function(n){return e=n.elements,this.set(.5*Math.sqrt(1+e[0]-e[4]-e[8])*t(e[7]-e[5]),.5*Math.sqrt(1-e[0]+e[4]-e[8])*t(e[2]-e[6]),.5*Math.sqrt(1-e[0]-e[4]+e[8])*t(e[3]-e[1]),.5*Math.sqrt(1+e[0]+e[4]+e[8])),this}}(),this.multiply=function(e){return o=_.Quaternion.prototype.multiplyQuaternions(this,e),this.copy(o),this},this.rotateX=function(e){return o=_.Quaternion.prototype.rotateByAxisAngle(this,[1,0,0],e),this.copy(o),this},this.rotateY=function(e){return o=_.Quaternion.prototype.rotateByAxisAngle(this,[0,1,0],e),this.copy(o),this},this.rotateZ=function(e){return o=_.Quaternion.prototype.rotateByAxisAngle(this,[0,0,1],e),this.copy(o),this},this.normalize=function(){return _.Quaternion.prototype.normalize(this)},this.set(e,n,r,i)},_.Quaternion.prototype={constructor:_.Quaternion,multiplyQuaternions:function(){var e=new _.Quaternion;return function(t,n){var r=t.x,i=t.y,o=t.z,s=t.w,a=n.x,u=n.y,l=n.z,c=n.w;return e.set(r*c+s*a+i*l-o*u,i*c+s*u+o*a-r*l,o*c+s*l+r*u-i*a,s*c-r*a-i*u-o*l),e}}(),normalize:function(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w);return 0===t?(e.x=0,e.y=0,e.z=0,e.w=1):(t=1/t,e.x*=t,e.y*=t,e.z*=t,e.w*=t),e},rotateByAxisAngle:function(){var e,t,n=new _.Quaternion,r=new _.Quaternion;return function(i,o,s){return e=(s||0)/2,t=Math.sin(e),r.set((o[0]||0)*t,(o[1]||0)*t,(o[2]||0)*t,Math.cos(e)),n=_.Quaternion.prototype.multiplyQuaternions(i,r),_.Quaternion.prototype.normalize(n)}}()},_.RotationMatrix=function(e,t,n,r,i,o,s,a,u){var c;this.elements=new Float32Array(9),this.identity=function(){return this.set(1,0,0,0,1,0,0,0,1),this},this.set=function(e,t,n,r,i,o,s,a,u){this.elements[0]=e||1,this.elements[1]=t||0,this.elements[2]=n||0,this.elements[3]=r||0,this.elements[4]=i||1,this.elements[5]=o||0,this.elements[6]=s||0,this.elements[7]=a||0,this.elements[8]=u||1},this.copy=function(e){this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8]},this.setFromEuler=function(){var e,t,n,r,i,o,s,a,u;return function(c){return c=c||{},n=(c.alpha||0)*l,e=(c.beta||0)*l,t=(c.gamma||0)*l,r=Math.cos(e),i=Math.cos(t),o=Math.cos(n),s=Math.sin(e),a=Math.sin(t),u=Math.sin(n),this.set(o*i-u*s*a,-r*u,i*u*s+o*a,i*u+o*s*a,o*r,u*a-o*i*s,-r*a,s,r*i),this.normalize(),this}}(),this.setFromQuaternion=function(){var e,t,n,r;return function(i){return e=i.w*i.w,t=i.x*i.x,n=i.y*i.y,r=i.z*i.z,this.set(e+t-n-r,2*(i.x*i.y-i.w*i.z),2*(i.x*i.z+i.w*i.y),2*(i.x*i.y+i.w*i.z),e-t+n-r,2*(i.y*i.z-i.w*i.x),2*(i.x*i.z-i.w*i.y),2*(i.y*i.z+i.w*i.x),e-t-n+r),this}}(),this.multiply=function(e){return c=_.RotationMatrix.prototype.multiplyMatrices(this,e),this.copy(c),this},this.rotateX=function(e){return c=_.RotationMatrix.prototype.rotateByAxisAngle(this,[1,0,0],e),this.copy(c),this},this.rotateY=function(e){return c=_.RotationMatrix.prototype.rotateByAxisAngle(this,[0,1,0],e),this.copy(c),this},this.rotateZ=function(e){return c=_.RotationMatrix.prototype.rotateByAxisAngle(this,[0,0,1],e),this.copy(c),this},this.normalize=function(){return _.RotationMatrix.prototype.normalize(this)},this.set(e,t,n,r,i,o,s,a,u)},_.RotationMatrix.prototype={constructor:_.RotationMatrix,multiplyMatrices:function(){var e,t,n=new _.RotationMatrix;return function(r,i){return e=r.elements,t=i.elements,n.set(e[0]*t[0]+e[1]*t[3]+e[2]*t[6],e[0]*t[1]+e[1]*t[4]+e[2]*t[7],e[0]*t[2]+e[1]*t[5]+e[2]*t[8],e[3]*t[0]+e[4]*t[3]+e[5]*t[6],e[3]*t[1]+e[4]*t[4]+e[5]*t[7],e[3]*t[2]+e[4]*t[5]+e[5]*t[8],e[6]*t[0]+e[7]*t[3]+e[8]*t[6],e[6]*t[1]+e[7]*t[4]+e[8]*t[7],e[6]*t[2]+e[7]*t[5]+e[8]*t[8]),n}}(),normalize:function(e){var t=e.elements,n=t[0]*t[4]*t[8]-t[0]*t[5]*t[7]-t[1]*t[3]*t[8]+t[1]*t[5]*t[6]+t[2]*t[3]*t[7]-t[2]*t[4]*t[6];return t[0]/=n,t[1]/=n,t[2]/=n,t[3]/=n,t[4]/=n,t[5]/=n,t[6]/=n,t[7]/=n,t[8]/=n,e.elements=t,e},rotateByAxisAngle:function(){var e,t,n=new _.RotationMatrix,r=new _.RotationMatrix,i=!1;return function(o,s,a){return r.identity(),i=!1,e=Math.sin(a),t=Math.cos(a),1===s[0]&&0===s[1]&&0===s[2]?(i=!0,r.elements[4]=t,r.elements[5]=-e,r.elements[7]=e,r.elements[8]=t):1===s[1]&&0===s[0]&&0===s[2]?(i=!0,r.elements[0]=t,r.elements[2]=e,r.elements[6]=-e,r.elements[8]=t):1===s[2]&&0===s[0]&&0===s[1]&&(i=!0,r.elements[0]=t,r.elements[1]=-e,r.elements[3]=e,r.elements[4]=t),i?(n=_.RotationMatrix.prototype.multiplyMatrices(o,r),n=_.RotationMatrix.prototype.normalize(n)):n=o,n}}()},_.Euler=function(e,t,n){this.set=function(e,t,n){this.alpha=e||0,this.beta=t||0,this.gamma=n||0},this.copy=function(e){this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma},this.setFromRotationMatrix=function(){var e,t,n,r;return function(i){e=i.elements,e[8]>0?(t=Math.atan2(-e[1],e[4]),n=Math.asin(e[7]),r=Math.atan2(-e[6],e[8])):e[8]<0?(t=Math.atan2(e[1],-e[4]),n=-Math.asin(e[7]),n+=n>=0?-s:s,r=Math.atan2(e[6],-e[8])):e[6]>0?(t=Math.atan2(-e[1],e[4]),n=Math.asin(e[7]),r=-a):e[6]<0?(t=Math.atan2(e[1],-e[4]),n=-Math.asin(e[7]),n+=n>=0?-s:s,r=-a):(t=Math.atan2(e[3],e[0]),n=e[7]>0?a:-a,r=0),t<0&&(t+=u),t*=c,n*=c,r*=c,this.set(t,n,r)}}(),this.setFromQuaternion=function(){var e,t,n;return function(r){var i=r.w*r.w,o=r.x*r.x,l=r.y*r.y,h=r.z*r.z,f=i+o+l+h,d=r.w*r.x+r.y*r.z,p=1e-6;if(d>(.5-p)*f)e=2*Math.atan2(r.y,r.w),t=a,n=0;else if(d<(-.5+p)*f)e=-2*Math.atan2(r.y,r.w),t=-a,n=0;else{var m=i-o+l-h,g=2*(r.w*r.z-r.x*r.y),v=i-o-l+h,y=2*(r.w*r.y-r.x*r.z);v>0?(e=Math.atan2(g,m),t=Math.asin(2*d/f),n=Math.atan2(y,v)):(e=Math.atan2(-g,-m),t=-Math.asin(2*d/f),t+=t<0?s:-s,n=Math.atan2(-y,-v))}e<0&&(e+=u),e*=c,t*=c,n*=c,this.set(e,t,n)}}(),this.rotateX=function(e){return _.Euler.prototype.rotateByAxisAngle(this,[1,0,0],e),this},this.rotateY=function(e){return _.Euler.prototype.rotateByAxisAngle(this,[0,1,0],e),this},this.rotateZ=function(e){return _.Euler.prototype.rotateByAxisAngle(this,[0,0,1],e),this},this.set(e,t,n)},_.Euler.prototype={constructor:_.Euler,rotateByAxisAngle:function(){var e=new _.RotationMatrix;return function(t,n,r){return e.setFromEuler(t),e=_.RotationMatrix.prototype.rotateByAxisAngle(e,n,r),t.setFromRotationMatrix(e),t}}()},_.DeviceOrientation=function(t){this.options=t||{};var n=0,r=200,i=0,o=10;if(this.alphaOffsetScreen=0,this.alphaOffsetDevice=void 0,"game"===this.options.type){var s=function(t){return null!==t.alpha&&(this.alphaOffsetDevice=new _.Euler(t.alpha,0,0),this.alphaOffsetDevice.rotateZ(-p),++i>=o)?void e.removeEventListener("deviceorientation",s,!1):void(++n>=r&&e.removeEventListener("deviceorientation",s,!1))}.bind(this);e.addEventListener("deviceorientation",s,!1)}else if("world"===this.options.type){var a=function(t){return t.absolute!==!0&&void 0!==t.webkitCompassAccuracy&&null!==t.webkitCompassAccuracy&&+t.webkitCompassAccuracy>=0&&+t.webkitCompassAccuracy<50&&(this.alphaOffsetDevice=new _.Euler(t.webkitCompassHeading,0,0),this.alphaOffsetDevice.rotateZ(p),this.alphaOffsetScreen=p,++i>=o)?void e.removeEventListener("deviceorientation",a,!1):void(++n>=r&&e.removeEventListener("deviceorientation",a,!1))}.bind(this);e.addEventListener("deviceorientation",a,!1)}},_.DeviceOrientation.prototype={constructor:_.DeviceOrientation,start:function(t){t&&"[object Function]"==Object.prototype.toString.call(t)&&h.orientation.callbacks.push(t),f||(d?e.screen.orientation.addEventListener("change",r,!1):e.addEventListener("orientationchange",r,!1)),h.orientation.active||(e.addEventListener("deviceorientation",i,!1),h.orientation.active=!0)},stop:function(){h.orientation.active&&(e.removeEventListener("deviceorientation",i,!1),h.orientation.active=!1)},listen:function(e){this.start(e)},getFixedFrameQuaternion:function(){var e=new _.Euler,t=new _.RotationMatrix,n=new _.Quaternion;return function(){var r=h.orientation.data||{alpha:0,beta:0,gamma:0},i=r.alpha;return this.alphaOffsetDevice&&(t.setFromEuler(this.alphaOffsetDevice),t.rotateZ(-this.alphaOffsetScreen),e.setFromRotationMatrix(t),e.alpha<0&&(e.alpha+=360),e.alpha%=360,i-=e.alpha),e.set(i,r.beta,r.gamma),n.setFromEuler(e),n}}(),getScreenAdjustedQuaternion:function(){var e;return function(){return e=this.getFixedFrameQuaternion(),e.rotateZ(-p),e}}(),getFixedFrameMatrix:function(){var e=new _.Euler,t=new _.RotationMatrix;return function(){var n=h.orientation.data||{alpha:0,beta:0,gamma:0},r=n.alpha;return this.alphaOffsetDevice&&(t.setFromEuler(this.alphaOffsetDevice),t.rotateZ(-this.alphaOffsetScreen),e.setFromRotationMatrix(t),e.alpha<0&&(e.alpha+=360),e.alpha%=360,r-=e.alpha),e.set(r,n.beta,n.gamma),t.setFromEuler(e),t}}(),getScreenAdjustedMatrix:function(){var e;return function(){return e=this.getFixedFrameMatrix(),e.rotateZ(-p),e}}(),getFixedFrameEuler:function(){var e,t=new _.Euler;return function(){return e=this.getFixedFrameMatrix(),t.setFromRotationMatrix(e),t}}(),getScreenAdjustedEuler:function(){var e,t=new _.Euler;return function(){return e=this.getScreenAdjustedMatrix(),t.setFromRotationMatrix(e),t}}(),isAbsolute:function(){return!(!h.orientation.data||h.orientation.data.absolute!==!0)},getLastRawEventData:function(){return h.orientation.data||{}},_alphaAvailable:!1,_betaAvailable:!1,_gammaAvailable:!1,isAvailable:function(e){switch(e){case this.ALPHA:return this._alphaAvailable;case this.BETA:return this._betaAvailable;case this.GAMMA:return this._gammaAvailable}},ALPHA:"alpha",BETA:"beta",GAMMA:"gamma"},_.DeviceMotion=function(e){this.options=e||{}},_.DeviceMotion.prototype={constructor:_.DeviceMotion,start:function(t){t&&"[object Function]"==Object.prototype.toString.call(t)&&h.motion.callbacks.push(t),f||(d?e.screen.orientation.addEventListener("change",r,!1):e.addEventListener("orientationchange",r,!1)),h.motion.active||(e.addEventListener("devicemotion",o,!1),h.motion.active=!0)},stop:function(){h.motion.active&&(e.removeEventListener("devicemotion",o,!1),h.motion.active=!1)},listen:function(e){this.start(e)},getScreenAdjustedAcceleration:function(){var e=h.motion.data&&h.motion.data.acceleration?h.motion.data.acceleration:{x:0,y:0,z:0},t={};switch(p){case m:t.x=-e.y,t.y=e.x;break;case g:t.x=-e.x,t.y=-e.y;break;case v:case y:t.x=e.y,t.y=-e.x;break;default:t.x=e.x,t.y=e.y}return t.z=e.z,t},getScreenAdjustedAccelerationIncludingGravity:function(){var e=h.motion.data&&h.motion.data.accelerationIncludingGravity?h.motion.data.accelerationIncludingGravity:{x:0,y:0,z:0},t={};switch(p){case m:t.x=-e.y,t.y=e.x;break;case g:t.x=-e.x,t.y=-e.y;break;case v:case y:t.x=e.y,t.y=-e.x;break;default:t.x=e.x,t.y=e.y}return t.z=e.z,t},getScreenAdjustedRotationRate:function(){var e=h.motion.data&&h.motion.data.rotationRate?h.motion.data.rotationRate:{alpha:0,beta:0,gamma:0},t={};switch(p){case m:t.beta=-e.gamma,t.gamma=e.beta;break;case g:t.beta=-e.beta,t.gamma=-e.gamma;break;case v:case y:t.beta=e.gamma,t.gamma=-e.beta;break;default:t.beta=e.beta,t.gamma=e.gamma}return t.alpha=e.alpha,t},getLastRawEventData:function(){return h.motion.data||{}},_accelerationXAvailable:!1,_accelerationYAvailable:!1,_accelerationZAvailable:!1,_accelerationIncludingGravityXAvailable:!1,_accelerationIncludingGravityYAvailable:!1,_accelerationIncludingGravityZAvailable:!1,_rotationRateAlphaAvailable:!1,_rotationRateBetaAvailable:!1,_rotationRateGammaAvailable:!1,isAvailable:function(e){switch(e){case this.ACCELERATION_X:return this._accelerationXAvailable;case this.ACCELERATION_Y:return this._accelerationYAvailable;case this.ACCELERATION_Z:return this._accelerationZAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_X:return this._accelerationIncludingGravityXAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Y:return this._accelerationIncludingGravityYAvailable;case this.ACCELERATION_INCLUDING_GRAVITY_Z:return this._accelerationIncludingGravityZAvailable;case this.ROTATION_RATE_ALPHA:return this._rotationRateAlphaAvailable;case this.ROTATION_RATE_BETA:return this._rotationRateBetaAvailable;case this.ROTATION_RATE_GAMMA:return this._rotationRateGammaAvailable}},ACCELERATION_X:"accelerationX",ACCELERATION_Y:"accelerationY",ACCELERATION_Z:"accelerationZ",ACCELERATION_INCLUDING_GRAVITY_X:"accelerationIncludingGravityX",ACCELERATION_INCLUDING_GRAVITY_Y:"accelerationIncludingGravityY",ACCELERATION_INCLUDING_GRAVITY_Z:"accelerationIncludingGravityZ",ROTATION_RATE_ALPHA:"rotationRateAlpha",ROTATION_RATE_BETA:"rotationRateBeta",ROTATION_RATE_GAMMA:"rotationRateGamma"},e.FULLTILT=_}}(window),function(){function e(e){var t,n=(e.length+8>>6)+1,r=[];for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<24-8*(3&t);return r[t>>2]|=128<<24-8*(3&t),r[16*n-1]=8*e.length,r}function t(e){var t,n="0123456789abcdef",r="";for(t=0;t<4*e.length;t++)r+=n.charAt(e[t>>2]>>8*(3-t%4)+4&15)+n.charAt(e[t>>2]>>8*(3-t%4)&15);return r}function n(e){var t,n,a,u,l,c,h,f,d=[],p=1732584193,m=4023233417,g=2562383102,v=271733878,y=3285377520;for(h=0;h<e.length;h+=16){for(t=p,n=m,a=g,u=v,l=y,f=0;f<80;f++)f<16?d[f]=e[h+f]:d[f]=s(d[f-3]^d[f-8]^d[f-14]^d[f-16],1),c=o(o(s(p,5),r(f,m,g,v)),o(o(y,d[f]),i(f))),y=v,v=g,g=s(m,30),m=p,p=c;p=o(p,t),m=o(m,n),g=o(g,a),v=o(v,u),y=o(y,l)}return[p,m,g,v,y]}function r(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function i(e){return e<20?1518500249:e<40?1859775393:e<60?2400959708:3395469782}function o(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function a(r){return t(n(e(r)))}var u=this;"function"==typeof define?define(function(){return a}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=a),exports.sha1=a):u.sha1=a}.call(this),function(e){"use strict";function t(){function e(n){var i=this;return i instanceof e?(n instanceof e?(i.s=n.s,i.e=n.e,i.c=n.c.slice()):r(i,n),void(i.constructor=e)):void 0===n?t():new e(n);
}return e.prototype=d,e.DP=a,e.RM=u,e.E_NEG=h,e.E_POS=f,e}function n(e,t,n){var r=e.constructor,o=t-(e=new r(e)).e,s=e.c;for(s.length>++t&&i(e,o,r.RM),s[0]?n?o=t:(s=e.c,o=e.e+o+1):++o;s.length<o;s.push(0));return o=e.e,1===n||n&&(t<=o||o<=r.E_NEG)?(e.s<0&&s[0]?"-":"")+(s.length>1?s[0]+"."+s.join("").slice(1):s[0])+(o<0?"e":"e+")+o:e.toString()}function r(e,t){var n,r,i;for(0===t&&1/t<0?t="-0":p.test(t+="")||o(NaN),e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;"0"==t.charAt(r);r++);if(r==(i=t.length))e.c=[e.e=0];else{for(;"0"==t.charAt(--i););for(e.e=n-r-1,e.c=[],n=0;r<=i;e.c[n++]=+t.charAt(r++));}return e}function i(e,t,n,r){var i,s=e.c,a=e.e+t+1;if(1===n?r=s[a]>=5:2===n?r=s[a]>5||5==s[a]&&(r||a<0||s[a+1]!==i||1&s[a-1]):3===n?r=r||s[a]!==i||a<0:(r=!1,0!==n&&o("!Big.RM!")),a<1||!s[0])r?(e.e=-t,e.c=[1]):e.c=[e.e=0];else{if(s.length=a--,r)for(;++s[a]>9;)s[a]=0,a--||(++e.e,s.unshift(1));for(a=s.length;!s[--a];s.pop());}return e}function o(e){var t=new Error(e);throw t.name="BigError",t}var s,a=20,u=1,l=1e6,c=1e6,h=-7,f=21,d={},p=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;d.abs=function(){var e=new this.constructor(this);return e.s=1,e},d.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,o=n.s,s=e.s,a=n.e,u=e.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=u)return a>u^t?1:-1;for(o=-1,s=(a=r.length)<(u=i.length)?a:u;++o<s;)if(r[o]!=i[o])return r[o]>i[o]^t?1:-1;return a==u?0:a>u^t?1:-1},d.div=function(e){var t=this,n=t.constructor,r=t.c,s=(e=new n(e)).c,a=t.s==e.s?1:-1,u=n.DP;if((u!==~~u||u<0||u>l)&&o("!Big.DP!"),!r[0]||!s[0])return r[0]==s[0]&&o(NaN),s[0]||o(a/0),new n(0*a);var c,h,f,d,p,m,g=s.slice(),v=c=s.length,y=r.length,_=r.slice(0,c),b=_.length,w=e,S=w.c=[],x=0,T=u+(w.e=t.e-e.e)+1;for(w.s=a,a=T<0?0:T,g.unshift(0);b++<c;_.push(0));do{for(f=0;f<10;f++){if(c!=(b=_.length))d=c>b?1:-1;else for(p=-1,d=0;++p<c;)if(s[p]!=_[p]){d=s[p]>_[p]?1:-1;break}if(!(d<0))break;for(h=b==c?s:g;b;){if(_[--b]<h[b]){for(p=b;p&&!_[--p];_[p]=9);--_[p],_[b]+=10}_[b]-=h[b]}for(;!_[0];_.shift());}S[x++]=d?f:++f,_[0]&&d?_[b]=r[v]||0:_=[r[v]]}while((v++<y||_[0]!==m)&&a--);return S[0]||1==x||(S.shift(),w.e--),x>T&&i(w,u,n.RM,_[0]!==m),w},d.eq=function(e){return!this.cmp(e)},d.gt=function(e){return this.cmp(e)>0},d.gte=function(e){return this.cmp(e)>-1},d.lt=function(e){return this.cmp(e)<0},d.lte=function(e){return this.cmp(e)<1},d.sub=d.minus=function(e){var t,n,r,i,o=this,s=o.constructor,a=o.s,u=(e=new s(e)).s;if(a!=u)return e.s=-u,o.plus(e);var l=o.c.slice(),c=o.e,h=e.c,f=e.e;if(!l[0]||!h[0])return h[0]?(e.s=-u,e):new s(l[0]?o:0);if(a=c-f){for((i=a<0)?(a=-a,r=l):(f=c,r=h),r.reverse(),u=a;u--;r.push(0));r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=u=0;u<n;u++)if(l[u]!=h[u]){i=l[u]<h[u];break}if(i&&(r=l,l=h,h=r,e.s=-e.s),(u=(n=h.length)-(t=l.length))>0)for(;u--;l[t++]=0);for(u=t;n>a;){if(l[--n]<h[n]){for(t=n;t&&!l[--t];l[t]=9);--l[t],l[n]+=10}l[n]-=h[n]}for(;0===l[--u];l.pop());for(;0===l[0];)l.shift(),--f;return l[0]||(e.s=1,l=[f=0]),e.c=l,e.e=f,e},d.mod=function(e){var t,n=this,r=n.constructor,i=n.s,s=(e=new r(e)).s;return e.c[0]||o(NaN),n.s=e.s=1,t=1==e.cmp(n),n.s=i,e.s=s,t?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=s,this.minus(n.times(e)))},d.add=d.plus=function(e){var t,n=this,r=n.constructor,i=n.s,o=(e=new r(e)).s;if(i!=o)return e.s=-o,n.minus(e);var s=n.e,a=n.c,u=e.e,l=e.c;if(!a[0]||!l[0])return l[0]?e:new r(a[0]?n:0*i);if(a=a.slice(),i=s-u){for(i>0?(u=s,t=l):(i=-i,t=a),t.reverse();i--;t.push(0));t.reverse()}for(a.length-l.length<0&&(t=l,l=a,a=t),i=l.length,o=0;i;)o=(a[--i]=a[i]+l[i]+o)/10|0,a[i]%=10;for(o&&(a.unshift(o),++u),i=a.length;0===a[--i];a.pop());return e.c=a,e.e=u,e},d.pow=function(e){var t=this,n=new t.constructor(1),r=n,i=e<0;for((e!==~~e||e<-c||e>c)&&o("!pow!"),e=i?-e:e;1&e&&(r=r.times(t)),e>>=1,e;)t=t.times(t);return i?n.div(r):r},d.round=function(e,t){var n=this,r=n.constructor;return null==e?e=0:(e!==~~e||e<0||e>l)&&o("!round!"),i(n=new r(n),e,null==t?r.RM:t),n},d.sqrt=function(){var e,t,n,r=this,s=r.constructor,a=r.c,u=r.s,l=r.e,c=new s("0.5");if(!a[0])return new s(r);u<0&&o(NaN),u=Math.sqrt(r.toString()),0===u||u===1/0?(e=a.join(""),e.length+l&1||(e+="0"),t=new s(Math.sqrt(e).toString()),t.e=((l+1)/2|0)-(l<0||1&l)):t=new s(u.toString()),u=t.e+(s.DP+=4);do n=t,t=c.times(n.plus(r.div(n)));while(n.c.slice(0,u).join("")!==t.c.slice(0,u).join(""));return i(t,s.DP-=4,s.RM),t},d.mul=d.times=function(e){var t,n=this,r=n.constructor,i=n.c,o=(e=new r(e)).c,s=i.length,a=o.length,u=n.e,l=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!o[0])return new r(0*e.s);for(e.e=u+l,s<a&&(t=i,i=o,o=t,l=s,s=a,a=l),t=new Array(l=s+a);l--;t[l]=0);for(u=a;u--;){for(a=0,l=s+u;l>u;)a=t[l]+o[u]*i[l-u-1]+a,t[l--]=a%10,a=a/10|0;t[l]=(t[l]+a)%10}for(a&&++e.e,t[0]||t.shift(),u=t.length;!t[--u];t.pop());return e.c=t,e},d.toString=d.valueOf=d.toJSON=function(){var e=this,t=e.constructor,n=e.e,r=e.c.join(""),i=r.length;if(n<=t.E_NEG||n>=t.E_POS)r=r.charAt(0)+(i>1?"."+r.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;r="0"+r);r="0."+r}else if(n>0)if(++n>i)for(n-=i;n--;r+="0");else n<i&&(r=r.slice(0,n)+"."+r.slice(n));else i>1&&(r=r.charAt(0)+"."+r.slice(1));return e.s<0&&e.c[0]?"-"+r:r},d.toExponential=function(e){return null==e?e=this.c.length-1:(e!==~~e||e<0||e>l)&&o("!toExp!"),n(this,e,1)},d.toFixed=function(e){var t,r=this,i=r.constructor,s=i.E_NEG,a=i.E_POS;return i.E_NEG=-(i.E_POS=1/0),null==e?t=r.toString():e===~~e&&e>=0&&e<=l&&(t=n(r,r.e+e),r.s<0&&r.c[0]&&t.indexOf("-")<0&&(t="-"+t)),i.E_NEG=s,i.E_POS=a,t||o("!toFix!"),t},d.toPrecision=function(e){return null==e?this.toString():((e!==~~e||e<1||e>l)&&o("!toPre!"),n(this,e-1,2))},s=t(),"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.Big=s}(this),function(e){"use strict";if(e.DOMTokenList){var t=document.createElement("a").classList,n=DOMTokenList.prototype,r=n.add,i=n.remove,o=n.toggle;t.add("c1","c2");var s=function(e){return function(){var t,n=arguments;for(t=0;t<n.length;t+=1)e.call(this,n[t])}};t.contains("c2")||(n.add=s(r),n.remove=s(i)),t.toggle("c1",!0)||(n.toggle=function(e,t){return void 0===t?o.call(this,e):((t?r:i).call(this,e),!!t)})}}(window),function(e){"use strict";var t=[],n=function(e,n){var r;if(t.indexOf)return t.indexOf.call(e,n);for(r=0;r<e.length;r++)if(e[r]===n)return r;return-1},r=function(e){var t=/[\u0009\u000A\u000C\u000D\u0020]/;if(""===e||t.test(e))throw new Error("Token must not be empty or contain whitespace.")},i=function(e,t){var n,r=this,i=[];if(e&&t&&(r.element=e,r.prop=t,e[t]))for(i=e[t].replace(/^\s+|\s+$/g,"").split(/\s+/),n=0;n<i.length;n++)r[n]=i[n];r.length=i.length};i.prototype={add:function(){var e,n=this,i=arguments;for(e=0;e<i.length;e++)r(i[e]),n.contains(i[e])||t.push.call(n,i[e]);n.element&&(n.element[n.prop]=n)},contains:function(e){return r(e),n(this,e)!==-1},item:function(e){return this[e]||null},remove:function(){var e,i,o=arguments,s=this;for(i=0;i<o.length;i++)r(o[i]),e=n(s,o[i]),e!==-1&&t.splice.call(s,e,1);s.element&&(s.element[s.prop]=s)},toggle:function(e,t){var n=this;return n.contains(e)?!!t||(n.remove(e),!1):t!==!1&&(n.add(e),!0)},toString:function(){return t.join.call(this," ")}},e.DOMTokenList=i}(window),function(){"use strict";"classList"in document.createElement("a")&&!window.QUnit||Object.defineProperty(Element.prototype,"classList",{get:function(){return new DOMTokenList(this,"className")}})}(),function(){"use strict";if(!("relList"in document.createElement("a"))||window.QUnit){var e,t=[HTMLAnchorElement,HTMLAreaElement,HTMLLinkElement],n=function(){return new DOMTokenList(this,"rel")};for(e=0;e<t.length;e++)Object.defineProperty(t[e].prototype,"relList",{get:n})}}(),function(){function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}return e}()({1:[function(require,module,exports){(function(global){!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(e):"function"==typeof define&&define.amd?define(t):t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:this,function(global){"use strict";var _Base64=global.Base64,version="2.4.9",buffer;if("undefined"!=typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)];return r.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[À-ß][-¿]","[à-ï][-¿]{2}","[ð-÷][-¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return fromCharCode((n>>>10)+55296)+fromCharCode((1023&n)+56320);case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),i=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(e){return encode(this,e)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e("js-base64").Base64,i=function(){function e(e,t,n,i){if(this._configuration=n,this._id=e,this._name=t,this._state=i,i&&i.scormEncodedData){var o=JSON.parse(r.decode(i.scormEncodedData));o.slideData&&(this._scormData=o.slideData)}}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state||{}},set:function(e){this._state=e},enumerable:!0,configurable:!0}),e.prototype.renderSlides=function(){var e={id:this._id,data:this._configuration,metadata:{id:this._configuration.id,friedrichType:"Scorm",friedrichId:this._id,index:0,questions:[]},previousAttempt:this._scormData,type:"scorm"};return[e]},e.prototype.reduceState=function(e){return this.state={scormEncodedData:r.encode(JSON.stringify(e))},this.state},e}();n.Scorm=i},{"js-base64":1}],3:[function(e,t,n){"use strict";var r=function(){function e(e,t,n,r){this._configuration=n,this._id=e,this._name=t,this.state=r}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state||{watchedVideo:!1}},set:function(e){this._state=e},enumerable:!0,configurable:!0}),e.prototype.renderSlides=function(){var e={id:this._configuration.id,friedrichType:"Video",friedrichId:this._id},t={id:this._id,data:this._configuration,metadata:e,type:"video"};return t.data.metadata=e,this.state.watchedVideo&&(t.data.showSkipButton=!0),[t]},e.prototype.reduceState=function(e){return this.state={watchedVideo:!0},this.state},e}();n.Video=r},{}],4:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}r(e("./questionPool")),r(e("./Scorm")),r(e("./Video"))},{"./Scorm":2,"./Video":3,"./questionPool":5}],5:[function(e,t,n){"use strict";function r(e){var t=e.metadata.questions,n=_.flatten(t.map(function(e){return e.answers})),r=n.filter(function(e){return e.correct});return r.length}function i(e){return 1===e.answerDetails.length&&null==e.answerDetails[0].answer}function o(e){if(i(e))return e.correct?1:0;var t=e.answerDetails.filter(function(e){return e.answer.correct});return t.length}function s(e){if(i(e))return!!e.correct;var t=r(e);return e.answerDetails.length===t&&_.every(e.answerDetails,function(e){return e.answer.correct})}var a=function(){function e(e,t,n,r){this._configuration=n,this._id=e,this._name=t,this._interactions=[],this.state=r}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state||{slidesAlreadyViewed:[]}},set:function(e){this._state=e},enumerable:!0,configurable:!0}),e.prototype.reduceState=function(e){var t=this.state.slidesAlreadyViewed,n=e.metadata.id;return t.indexOf(n)===-1&&(this.state={slidesAlreadyViewed:t.concat([n])}),this.state},e.prototype.getNbQuestionsToAsk=function(){return this._configuration.showAllSlidesInOrder?this._configuration.content.length:this._configuration.content.length<this._configuration.nbQuestionsToAsk?this._configuration.content.length:this._configuration.nbQuestionsToAsk},e.prototype.renderSlides=function(){var e=this,t=this.getNbQuestionsToAsk(),n=this._configuration.content,r=n,i=function(t){return e.state.slidesAlreadyViewed.indexOf(t.id)>-1},o=function(e){return!i(e)},s=n.filter(i),a=n.filter(o),u=a.length>t?a:a.concat(s);this._configuration.showAllSlidesInOrder||(r=_.shuffle(u).slice(0,t));var l=r.map(function(t,n){return t.challenge_configuration={nb_stars:e._configuration.nbStarsPerSlide,weighting:1},t.game={timer:-1},t.metadata={id:t.id,index:n,friedrichType:"QuestionPool",friedrichId:e._id,nbQuestions:e.getNbQuestionsToAsk(),questions:t.metadata?t.metadata.questions:[]},t});return l},e.prototype.computeScore=function(){var e=this,t={};this._interactions.forEach(function(e){t[e.id]=e});var n=Object.keys(t).map(function(e){return t[e]});if(!this._configuration.scoringMethod||"Slide"===this._configuration.scoringMethod){var a=n.length,u=n.reduce(function(e,t){return e+(s(t)?1:0)},0);return 1*u/a}if("Answer"===this._configuration.scoringMethod){var l=0,c=0;n.forEach(function(e){l+=r(e),c+=o(e)});var h=1*c/l;return h}if("Slide Negative Marking"===this._configuration.scoringMethod){var a=n.length,f=n.reduce(function(e,t){return e+(s(t)?1:-1)},0);return Math.max(0,1*f/a)}if("Answer Negative Marking"===this._configuration.scoringMethod||"Answer Negative Marking II"===this._configuration.scoringMethod){var d=_.reduce(n,function(t,n){var r=i(n),o=_.flatten(n.metadata.questions.map(function(e){return e.answers})),s=_.reduce(o,function(e,t){var i=!!_.find(n.answerDetails,function(e){return e.answer&&e.answer.answerId===t.answerId}),o=r?n.correct:i&&t.correct||!i&&!t.correct;return e+(o?1:-1)},0),a="Answer Negative Marking II"===e._configuration.scoringMethod,u=0===n.answerDetails.length,l=n.answerDetails.length===o.length;return a&&(u||l)?t:o.length>0?t+Math.max(0,s)/o.length:t},0);return 1*d/n.length}},e.prototype.processInteraction=function(e){var t=e.metadata;return t&&t.friedrichId===this._id?(this._interactions.push(e),t.index+1>=t.nbQuestions?[{id:this._id,name:this._name,questionPoolAttempt:!0,score:this.computeScore(),type:"slide",nbQuestions:t.nbQuestions}]:[]):[]},e}();n.QuestionPool=a},{}],6:[function(e,t,n){"use strict";var r=e("./engines"),i={QuestionPool:r.QuestionPool,Scorm:r.Scorm,Video:r.Video};"undefined"!=typeof window&&(window.Friedrich=i),t.exports=i},{"./engines":4}],7:[function(e,t,n){},{}]},{},[6,7]),function(e,t){var n={GyroNorm:t()};"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.GyroNorm=n.GyroNorm}(this,function(){function e(e){return Math.round(e*Math.pow(10,_))/Math.pow(10,_)}function t(){var t={};t=w?p.getScreenAdjustedEuler():p.getFixedFrameEuler();var n=m.getScreenAdjustedAcceleration(),i=m.getScreenAdjustedAccelerationIncludingGravity(),o=m.getScreenAdjustedRotationRate(),s=0;y===r?(s=t.alpha-c,s=s<0?360-Math.abs(s):s):s=t.alpha;var a={"do":{alpha:e(s),beta:e(t.beta),gamma:e(t.gamma),absolute:p.isAbsolute()},dm:{x:e(n.x),y:e(n.y),z:e(n.z),gx:e(i.x),gy:e(i.y),gz:e(i.z),alpha:e(o.alpha),beta:e(o.beta),gamma:e(o.gamma)}};return v&&(a.dm.gx*=h,a.dm.gy*=h,a.dm.gz*=h),a}function n(e){b&&("string"==typeof e&&(e={message:e,code:0}),b(e))}var r="game",i="world",o="deviceorientation",s="acceleration",a="accelerationinludinggravity",u="rotationrate",l=null,c=0,h=0,f=!1,d=!1,p=null,m=null,g=50,v=!0,y=r,_=2,b=null,w=!1,S=function(e){};return S.GAME=r,S.WORLD=i,S.DEVICE_ORIENTATION=o,S.ACCELERATION=s,S.ACCELERATION_INCLUDING_GRAVITY=a,S.ROTATION_RATE=u,S.prototype.init=function(e){e&&e.frequency&&(g=e.frequency),e&&e.gravityNormalized&&(v=e.gravityNormalized),e&&e.orientationBase&&(y=e.orientationBase),e&&"number"==typeof e.decimalCount&&e.decimalCount>=0&&(_=parseInt(e.decimalCount)),e&&e.logger&&(b=e.logger),e&&e.screenAdjusted&&(w=e.screenAdjusted);var t=new FULLTILT.getDeviceOrientation({type:y}).then(function(e){p=e}),n=(new FULLTILT.getDeviceMotion).then(function(e){m=e,h=m.getScreenAdjustedAccelerationIncludingGravity().z>0?-1:1});return Promise.all([t,n]).then(function(){d=!0})},S.prototype.end=function(){try{d=!1,this.stop(),m.stop(),p.stop()}catch(e){n(e)}},S.prototype.start=function(e){return d?(l=setInterval(function(){e(t())},g),void(f=!0)):void n({message:'GyroNorm is not initialized yet. First call the "init()" function.',code:1})},S.prototype.stop=function(){l&&(clearInterval(l),f=!1)},S.prototype.normalizeGravity=function(e){v=!!e},S.prototype.setHeadDirection=function(){return!w&&y!==i&&(c=p.getFixedFrameEuler().alpha,!0)},S.prototype.startLogging=function(e){e&&(b=e)},S.prototype.stopLogging=function(){b=null},S.prototype.isAvailable=function(e){var t=p.getScreenAdjustedEuler(),n=m.getScreenAdjustedAcceleration(),r=m.getScreenAdjustedAccelerationIncludingGravity(),i=m.getScreenAdjustedRotationRate();switch(e){case o:return t.alpha&&null!==t.alpha&&t.beta&&null!==t.beta&&t.gamma&&null!==t.gamma;case s:return n&&n.x&&n.y&&n.z;case a:return r&&r.x&&r.y&&r.z;case u:return i&&i.alpha&&i.beta&&i.gamma;default:return{deviceOrientationAvailable:t.alpha&&null!==t.alpha&&t.beta&&null!==t.beta&&t.gamma&&null!==t.gamma,accelerationAvailable:n&&n.x&&n.y&&n.z,accelerationIncludingGravityAvailable:r&&r.x&&r.y&&r.z,rotationRateAvailable:i&&i.alpha&&i.beta&&i.gamma}}},S.prototype.isRunning=function(){return f},S}),!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.iostap=t()}(this,function(){var e;return e={eventName:"iostap",activeClass:"__active",minActiveMS:50,buffer:20,maxDistance:Math.pow(window.innerHeight*window.innerWidth,.35),allowDefault:function(e){return e.target.nodeName.match(/^(INPUT|TEXTAREA|SELECT)$/)}},{set:function(t){var n,r,i;null==t&&(t={}),i=[];for(n in t)r=t[n],null!=r&&i.push(e[n]=r);return i},initialize:function(t){var n,r,i,o,s,a,u,l,c,h,f,d,p,m,g,v,y,_,b,w;return m=null,d=null,o=!1,r="onpointerdown"in window,i="ontouchstart"in window,_=r?["pointerdown","pointermove","pointerup"]:i?["touchstart","touchmove","touchend"]:["mousedown","mousemove","mouseup"],w=_[0],y=_[1],v=_[2],this.set(t),h=function(e){return"tagName"in e?e:e.parentNode},c=function(e){var t,n,r;for(t=e;t.parentNode&&!(null!=(n=t.dataset)?n.touch:void 0);)t=t.parentNode;return(null!=t&&null!=(r=t.dataset)?r.touch:void 0)?t:e},f=function(e){var t;for(t=!1;e.parentNode&&i&&!r&&!(t=/^(auto|scroll)$/.test("function"==typeof getComputedStyle?getComputedStyle(e).overflow:void 0));)e=e.parentNode;return t&&e},p=function(t){var n,r,i,o,s,a;if(t){for(n=m.el,s=[];n.parentNode&&(n.classList.add(e.activeClass),!n.dataset.nobubble);)s.push(n=n.parentNode);return s}for(o=document.querySelectorAll("."+e.activeClass),a=[],r=0,i=o.length;i>r;r++)n=o[r],a.push(n.classList.remove(e.activeClass));return a},l=function(e){var t;if(!(m||e.target===document.activeElement&&e.target.nodeName.match(/^(INPUT|TEXTAREA)$/)))return window.clearTimeout(d),t=h(e.target),t=c(t),m={el:t,offset:t.getBoundingClientRect(),scrollParent:f(t)},u(e),n(y,u,!1),n(v,a,!1)},u=function(t){var n,r,i,a,u,l,c,h,f,d,g,v,y;if(m)return f=(null!=(d=t.touches)?d[0]:void 0)||t,n=f.clientX,r=f.clientY,g=m.offset,l=g.width,u=g.top,a=g.left,i=g.height,null==(c=m.offset).startX&&(c.startX=n),null==(h=m.offset).startY&&(h.startY=r),null==m.parentScrollY&&(m.parentScrollY=null!=(v=m.scrollParent)?v.scrollTop:void 0),m.parentScrollY!==(null!=(y=m.scrollParent)?y.scrollTop:void 0)?s():(o=n>a-e.buffer&&n<a+l+e.buffer&&r>u-e.buffer&&r<u+i+e.buffer&&Math.abs(n-m.offset.startX)<e.maxDistance&&Math.abs(r-m.offset.startY)<e.maxDistance,p(o))},a=function(t){var n,s,l,c,h,f,_,b,w,S,x;if(m)return g(y,u,!1),g(v,a,!1),o&&(e.allowDefault(t)||(t.preventDefault(),t.stopPropagation()),S=i&&!r?t.changedTouches[0]:t,l=m.el,f=m.scrollParent,c=S.pageX,h=S.pageY,n=S.clientX,s=S.clientY,x=m.offset,_=x.startX,b=x.startY,w=document.createEvent("Event"),w.initEvent(e.eventName,!0,!0),w.detail={pageX:c,pageY:h,clientX:n,clientY:s,startX:_,startY:b},f?l=document.elementFromPoint(S.pageX,S.pageY)||l:l.dispatchEvent(w),window.clearTimeout(d),d=window.setTimeout(function(){return p(!1),f?l.dispatchEvent(w):void 0},e.minActiveMS)),m=null},s=function(){return m?(g(y,u,!1),g(v,a,!1),m=null,p(!1)):void 0},n=function(e,t,n){return null==n&&(n=!1),window.addEventListener(e,t,n)},g=function(e,t,n){return null==n&&(n=!1),window.removeEventListener(e,t,n)},null!=(b=window.Backbone)&&b.on("canceltap",s),n(w,l,!1),i&&n("touchcancel",s,!1),r?n("pointercancel",s,!1):void 0}}}),function(e){"use strict";function t(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=d.normal,this.options.gfm&&(this.options.tables?this.rules=d.tables:this.rules=d.gfm)}function n(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=p.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=p.breaks:this.rules=p.gfm:this.options.pedantic&&(this.rules=p.pedantic)}function r(e){this.options=e||{}}function i(){}function o(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function s(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function u(e,t){return e=e.source,t=t||"",{replace:function(t,n){return n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function l(e,t){return m[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?m[" "+e]=e+"/":m[" "+e]=e.replace(/[^/]*$/,"")),e=m[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}function c(){}function h(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function f(e,n,r){if("undefined"==typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof n){r||(r=n,n=null),n=h({},f.defaults,n||{});var i,a,u=n.highlight,l=0;try{i=t.lex(e,n)}catch(c){return r(c)}a=i.length;var d=function(e){if(e)return n.highlight=u,r(e);var t;try{t=o.parse(i,n)}catch(s){e=s}return n.highlight=u,e?r(e):r(null,t)};if(!u||u.length<3)return d();if(delete n.highlight,!a)return d();for(;l<i.length;l++)!function(e){return"code"!==e.type?--a||d():u(e.text,e.lang,function(t,n){return t?d(t):null==n||n===e.text?--a||d():(e.text=n,e.escaped=!0,void(--a||d()))})}(i[l])}else try{return n&&(n=h({},f.defaults,n)),o.parse(t.lex(e,n),n)}catch(c){if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||f.defaults).silent)return"<p>An error occurred:</p><pre>"+s(c.message+"",!0)+"</pre>";throw c}}var d={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:c,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:c,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:c,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};d._label=/(?:\\[\[\]]|[^\[\]])+/,d._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,d.def=u(d.def).replace("label",d._label).replace("title",d._title).getRegex(),d.bullet=/(?:[*+-]|\d+\.)/,d.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,d.item=u(d.item,"gm").replace(/bull/g,d.bullet).getRegex(),d.list=u(d.list).replace(/bull/g,d.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+d.def.source+")").getRegex(),d._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",d.html=u(d.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,d._tag).getRegex(),d.paragraph=u(d.paragraph).replace("hr",d.hr).replace("heading",d.heading).replace("lheading",d.lheading).replace("tag","<"+d._tag).getRegex(),d.blockquote=u(d.blockquote).replace("paragraph",d.paragraph).getRegex(),d.normal=h({},d),d.gfm=h({},d.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),d.gfm.paragraph=u(d.paragraph).replace("(?!","(?!"+d.gfm.fences.source.replace("\\1","\\2")+"|"+d.list.source.replace("\\1","\\3")+"|").getRegex(),d.tables=h({},d.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),t.rules=d,t.lex=function(e,n){var r=new t(n);return r.lex(e)},t.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},t.prototype.token=function(e,t){e=e.replace(/^ +$/gm,"");for(var n,r,i,o,s,a,u,l,c,h,f;e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},l=0;l<a.align.length;l++)/^ *-+: *$/.test(a.align[l])?a.align[l]="right":/^ *:-+: *$/.test(a.align[l])?a.align[l]="center":/^ *:-+ *$/.test(a.align[l])?a.align[l]="left":a.align[l]=null;for(l=0;l<a.cells.length;l++)a.cells[l]=a.cells[l].split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),o=i[2],f=o.length>1,this.tokens.push({type:"list_start",ordered:f,start:f?+o:""}),i=i[0].match(this.rules.item),n=!1,h=i.length,l=0;l<h;l++)a=i[l],u=a.length,a=a.replace(/^ *([*+-]|\d+\.) +/,""),~a.indexOf("\n ")&&(u-=a.length,a=this.options.pedantic?a.replace(/^ {1,4}/gm,""):a.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&l!==h-1&&(s=d.bullet.exec(i[l+1])[0],o===s||o.length>1&&s.length>1||(e=i.slice(l+1).join("\n")+e,l=h-1)),r=n||/\n\n(?!\s*$)/.test(a),l!==h-1&&(n="\n"===a.charAt(a.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(a,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),c=i[1].toLowerCase(),this.tokens.links[c]||(this.tokens.links[c]={href:i[2],title:i[3]});else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),
a={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},l=0;l<a.align.length;l++)/^ *-+: *$/.test(a.align[l])?a.align[l]="right":/^ *:-+: *$/.test(a.align[l])?a.align[l]="center":/^ *:-+ *$/.test(a.align[l])?a.align[l]="left":a.align[l]=null;for(l=0;l<a.cells.length;l++)a.cells[l]=a.cells[l].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(a)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var p={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:c,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:c,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};p._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,p._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,p.autolink=u(p.autolink).replace("scheme",p._scheme).replace("email",p._email).getRegex(),p._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,p._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,p.link=u(p.link).replace("inside",p._inside).replace("href",p._href).getRegex(),p.reflink=u(p.reflink).replace("inside",p._inside).getRegex(),p.normal=h({},p),p.pedantic=h({},p.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),p.gfm=h({},p.normal,{escape:u(p.escape).replace("])","~|])").getRegex(),url:u(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",p._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:u(p.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),p.breaks=h({},p.gfm,{br:u(p.br).replace("{2,}","*").getRegex(),text:u(p.gfm.text).replace("{2,}","*").getRegex()}),n.rules=p,n.output=function(e,t,r){var i=new n(t,r);return i.output(e)},n.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=s(this.mangle(i[1])),r="mailto:"+n):(n=s(i[1]),r=n),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(e))){if(i=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),e=e.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):s(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(i,t),this.inLink=!1}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+=this.renderer.codespan(s(i[2].trim(),!0));else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=this.renderer.text(s(this.smartypants(i[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],e=e.substring(i[0].length),"@"===i[2]?(n=s(i[0]),r="mailto:"+n):(n=s(i[0]),r="www."===i[1]?"http://"+n:n),o+=this.renderer.link(r,null,n);return o},n.prototype.outputLink=function(e,t){var n=s(t.href),r=t.title?s(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,s(e[1]))},n.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},n.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",r=e.length,i=0;i<r;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var r=this.options.highlight(e,t);null!=r&&r!==e&&(n=!0,e=r)}return t?'<pre><code class="'+this.options.langPrefix+s(t,!0)+'">'+(n?e:s(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:s(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var r=t?"ol":"ul",i=t&&1!==n?' start="'+n+'"':"";return"<"+r+i+">\n"+e+"</"+r+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",r=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return r+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var r=decodeURIComponent(a(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(i){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!g.test(e)&&(e=l(this.options.baseUrl,e));var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},r.prototype.image=function(e,t,n){this.options.baseUrl&&!g.test(e)&&(e=l(this.options.baseUrl,e));var r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},i.prototype.strong=i.prototype.em=i.prototype.codespan=i.prototype.del=i.prototype.text=function(e){return e},i.prototype.link=i.prototype.image=function(e,t,n){return""+n},i.prototype.br=function(){return""},o.parse=function(e,t){var n=new o(t);return n.parse(e)},o.prototype.parse=function(e){this.inline=new n(e.links,this.options),this.inlineText=new n(e.links,h({},this.options,{renderer:new i})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},o.prototype.next=function(){return this.token=this.tokens.pop()},o.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},o.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},o.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,a(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,r,i="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(i+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered,u=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s,u);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var m={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;c.exec=c,f.options=f.setOptions=function(e){return h(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1,baseUrl:null},f.Parser=o,f.parser=o.parse,f.Renderer=r,f.TextRenderer=i,f.Lexer=t,f.lexer=t.lex,f.InlineLexer=n,f.inlineLexer=n.output,f.parse=f,"undefined"!=typeof module&&"object"==typeof exports?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):e.marked=f}(this||("undefined"!=typeof window?window:global)),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Cr.apply(null,arguments)}function t(e){Cr=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Tt(e,t,n,r,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(e){return null==e._pf&&(e._pf=f()),e._pf}function p(e){if(null==e._isValid){var t=d(e),n=kr.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=h(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}function g(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=d(t)),o(t._locale)||(e._locale=t._locale),Pr.length>0)for(n=0;n<Pr.length;n++)r=Pr[n],i=t[r],o(i)||(e[r]=i);return e}function v(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Or===!1&&(Or=!0,e.updateOffset(this),Or=!1)}function y(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function b(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function w(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&b(e[r])!==b(t[r]))&&s++;return s+o}function S(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,n){var r=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],s=0;s<arguments.length;s++){if(i="","object"==typeof arguments[s]){i+="\n["+s+"] ";for(var a in arguments[0])i+=a+": "+arguments[0][a]+", ";i=i.slice(0,-2)}else i=arguments[s];o.push(i)}S(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function T(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Ar[t]||(S(n),Ar[t]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function q(e){var t,n;for(n in e)t=e[n],E(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(e,t){var n,i=c({},e);for(n in t)l(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},c(i[n],e[n]),c(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&r(e[n])&&(i[n]=c({},i[n]));return i}function k(e){null!=e&&this.set(e)}function P(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r}function O(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function j(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)}function I(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)}function R(e,t){var n=e.toLowerCase();Lr[n]=Lr[n+"s"]=Lr[t]=e}function D(e){return"string"==typeof e?Lr[e]||Lr[e.toLowerCase()]:void 0}function F(e){var t,n,r={};for(n in e)l(e,n)&&(t=D(n),t&&(r[t]=e[n]));return r}function N(e,t){Ur[e]=t}function L(e){var t=[];for(var n in e)t.push({unit:n,priority:Ur[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function U(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(Yr[e]=i),t&&(Yr[t[0]]=function(){return U(i.apply(this,arguments),t[1],t[2])}),n&&(Yr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(Br);for(t=0,n=r.length;t<n;t++)Yr[r[t]]?r[t]=Yr[r[t]]:r[t]=H(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=E(r[i])?r[i].call(t,e):r[i];return o}}function Y(e,t){return e.isValid()?(t=V(t,e.localeData()),zr[t]=zr[t]||z(t),zr[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(Hr.lastIndex=0;r>=0&&Hr.test(e);)e=e.replace(Hr,n),Hr.lastIndex=0,r-=1;return e}function X(e,t,n){ui[e]=E(t)?t:function(e,r){return e&&n?n:t}}function W(e,t){return l(ui,e)?ui[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return $(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function $(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function K(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=b(e)}),n=0;n<e.length;n++)li[e[n]]=r}function Z(e,t){K(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function J(e,t,n){null!=t&&l(li,e)&&li[e](t,n._a,n,e)}function Q(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ne(t,n){return function(r){return null!=r?(ie(this,t,r),e.updateOffset(this,n),this):re(this,t)}}function re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function oe(e){return e=D(e),E(this[e])?this[e]():this}function se(e,t){if("object"==typeof e){e=F(e);for(var n=L(e),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit])}else if(e=D(e),E(this[e]))return this[e](t);return this}function ae(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ae(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||wi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function ce(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[wi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function he(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=_i.call(this._shortMonthsParse,s),i!==-1?i:null):(i=_i.call(this._longMonthsParse,s),i!==-1?i:null):"MMM"===t?(i=_i.call(this._shortMonthsParse,s),i!==-1?i:(i=_i.call(this._longMonthsParse,s),i!==-1?i:null)):(i=_i.call(this._longMonthsParse,s),i!==-1?i:(i=_i.call(this._shortMonthsParse,s),i!==-1?i:null))}function fe(e,t,n){var r,i,o;if(this._monthsParseExact)return he.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function de(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=b(t);else if(t=e.localeData().monthsParse(t),!s(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function pe(t){return null!=t?(de(this,t),e.updateOffset(this,!0),this):re(this,"Month")}function me(){return ue(this.year(),this.month())}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Ti),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ve(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ye.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Ei),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ye(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=$(r[t]),i[t]=$(i[t]);for(t=0;t<24;t++)o[t]=$(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function _e(e,t,n,r,i,o,s){var a=new Date(e,t,n,r,i,o,s);return e<100&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function be(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var r=7+t-n,i=(7+be(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Se(e,t,n,r,i){var o,s,a=(7+n-r)%7,u=we(e,r,i),l=1+7*(t-1)+a+u;return l<=0?(o=e-1,s=Q(o)+l):l>Q(e)?(o=e+1,s=l-Q(e)):(o=e,s=l),{year:o,dayOfYear:s}}function xe(e,t,n){var r,i,o=we(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+Te(i,t,n)):s>Te(e.year(),t,n)?(r=s-Te(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Te(e,t,n){var r=we(e,t,n),i=we(e+1,t,n);return(Q(e)-r+i)/7}function Ee(e){return xe(e,this._week.dow,this._week.doy).week}function qe(){return this._week.dow}function Ce(){return this._week.doy}function ke(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Pe(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ae(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Me(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function je(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ie(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Re(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=_i.call(this._weekdaysParse,s),i!==-1?i:null):"ddd"===t?(i=_i.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=_i.call(this._minWeekdaysParse,s),i!==-1?i:null):"dddd"===t?(i=_i.call(this._weekdaysParse,s),i!==-1?i:(i=_i.call(this._shortWeekdaysParse,s),i!==-1?i:(i=_i.call(this._minWeekdaysParse,s),i!==-1?i:null))):"ddd"===t?(i=_i.call(this._shortWeekdaysParse,s),i!==-1?i:(i=_i.call(this._weekdaysParse,s),i!==-1?i:(i=_i.call(this._minWeekdaysParse,s),i!==-1?i:null))):(i=_i.call(this._minWeekdaysParse,s),i!==-1?i:(i=_i.call(this._weekdaysParse,s),i!==-1?i:(i=_i.call(this._shortWeekdaysParse,s),i!==-1?i:null)))}function De(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Re.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Fe(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Le(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ae(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ue(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ai),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Mi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ze(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),s.push(r),a.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(s.sort(e),a.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)a[t]=$(a[t]),u[t]=$(u[t]),l[t]=$(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ye(){return this.hours()%12||12}function Ve(){return this.hours()||24}function Xe(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function We(e,t){return t._meridiemParse}function Ge(e){return"p"===(e+"").toLowerCase().charAt(0)}function $e(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ke(e){return e?e.toLowerCase().replace("_","-"):e}function Ze(e){for(var t,n,r,i,o=0;o<e.length;){for(i=Ke(e[o]).split("-"),t=i.length,n=Ke(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=Je(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(i,n,!0)>=t-1)break;t--}o++}return ji}function Je(e){var t=null;if(!Fi[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ji._abbr;var n=require;n("./locale/"+e),Qe(t)}catch(r){}return Fi[e]}function Qe(e,t){var n;return e&&(n=o(t)?nt(e):et(e,t),n?ji=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ji._abbr}function et(e,t){if(null!==t){var n,r=Di;if(t.abbr=e,null!=Fi[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Fi[e]._config;else if(null!=t.parentLocale)if(null!=Fi[t.parentLocale])r=Fi[t.parentLocale]._config;else{if(n=Je(t.parentLocale),null==n)return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;r=n._config}return Fi[e]=new k(C(r,t)),Ni[e]&&Ni[e].forEach(function(e){et(e.name,e.config)}),Qe(e),Fi[e]}return delete Fi[e],null}function tt(e,t){if(null!=t){var n,r,i=Di;r=Je(e),null!=r&&(i=r._config),t=C(i,t),n=new k(t),n.parentLocale=Fi[e],Fi[e]=n,Qe(e)}else null!=Fi[e]&&(null!=Fi[e].parentLocale?Fi[e]=Fi[e].parentLocale:null!=Fi[e]&&delete Fi[e]);return Fi[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ji;if(!n(e)){if(t=Je(e))return t;e=[e]}return Ze(e)}function rt(){return Mr(Fi)}function it(e){var t,n=e._a;return n&&d(e).overflow===-2&&(t=n[hi]<0||n[hi]>11?hi:n[fi]<1||n[fi]>ue(n[ci],n[hi])?fi:n[di]<0||n[di]>24||24===n[di]&&(0!==n[pi]||0!==n[mi]||0!==n[gi])?di:n[pi]<0||n[pi]>59?pi:n[mi]<0||n[mi]>59?mi:n[gi]<0||n[gi]>999?gi:-1,d(e)._overflowDayOfYear&&(t<ci||t>fi)&&(t=fi),d(e)._overflowWeeks&&t===-1&&(t=vi),d(e)._overflowWeekday&&t===-1&&(t=yi),d(e).overflow=t),e}function ot(e,t,n){return null!=e?e:null!=t?t:n}function st(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function at(e){var t,n,r,i,o,s=[];if(!e._d){for(r=st(e),e._w&&null==e._a[fi]&&null==e._a[hi]&&ut(e),null!=e._dayOfYear&&(o=ot(e._a[ci],r[ci]),(e._dayOfYear>Q(o)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),n=be(o,0,e._dayOfYear),e._a[hi]=n.getUTCMonth(),e._a[fi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[di]&&0===e._a[pi]&&0===e._a[mi]&&0===e._a[gi]&&(e._nextDay=!0,e._a[di]=0),e._d=(e._useUTC?be:_e).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[di]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(d(e).weekdayMismatch=!0)}}function ut(e){var t,n,r,i,o,s,a,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)o=1,s=4,n=ot(t.GG,e._a[ci],xe(Et(),1,4).year),r=ot(t.W,1),i=ot(t.E,1),(i<1||i>7)&&(u=!0);else{o=e._locale._week.dow,s=e._locale._week.doy;var l=xe(Et(),o,s);n=ot(t.gg,e._a[ci],l.year),r=ot(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Te(n,o,s)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(a=Se(n,r,i,o,s),e._a[ci]=a.year,e._dayOfYear=a.dayOfYear)}function lt(e){var t,n,r,i,o,s,a=e._i,u=Li.exec(a)||Ui.exec(a);if(u){for(d(e).iso=!0,t=0,n=Hi.length;t<n;t++)if(Hi[t][1].exec(u[1])){i=Hi[t][0],r=Hi[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=zi.length;t<n;t++)if(zi[t][1].exec(u[3])){o=(u[2]||" ")+zi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!Bi.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),vt(e)}else e._isValid=!1}function ct(e,t,n,r,i,o){var s=[ht(e),xi.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function ht(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function dt(e,t,n){if(e){var r=ki.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function pt(e,t,n){if(e)return Xi[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}function mt(e){var t=Vi.exec(ft(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!dt(t[1],n,e))return;e._a=n,e._tzm=pt(t[8],t[9],t[10]),e._d=be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function gt(t){var n=Yi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(lt(t),void(t._isValid===!1&&(delete t._isValid,mt(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))));
}function vt(t){if(t._f===e.ISO_8601)return void lt(t);if(t._f===e.RFC_2822)return void mt(t);t._a=[],d(t).empty=!0;var n,r,i,o,s,a=""+t._i,u=a.length,l=0;for(i=V(t._f,t._locale).match(Br)||[],n=0;n<i.length;n++)o=i[n],r=(a.match(W(o,t))||[])[0],r&&(s=a.substr(0,a.indexOf(r)),s.length>0&&d(t).unusedInput.push(s),a=a.slice(a.indexOf(r)+r.length),l+=r.length),Yr[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),J(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-l,a.length>0&&d(t).unusedInput.push(a),t._a[di]<=12&&d(t).bigHour===!0&&t._a[di]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[di]=yt(t._locale,t._a[di],t._meridiem),at(t),it(t)}function yt(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function _t(e){var t,n,r,i,o;if(0===e._f.length)return d(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],vt(t),p(t)&&(o+=d(t).charsLeftOver,o+=10*d(t).unusedTokens.length,d(t).score=o,(null==r||o<r)&&(r=o,n=t));c(e,n||t)}function bt(e){if(!e._d){var t=F(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function wt(e){var t=new v(it(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,r=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===r&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),y(t)?new v(it(t)):(a(t)?e._d=t:n(r)?_t(e):r?vt(e):xt(e),p(e)||(e._d=null),e))}function xt(t){var i=t._i;o(i)?t._d=new Date(e.now()):a(i)?t._d=new Date(i.valueOf()):"string"==typeof i?gt(t):n(i)?(t._a=u(i.slice(0),function(e){return parseInt(e,10)}),at(t)):r(i)?bt(t):s(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Tt(e,t,o,s,a){var u={};return o!==!0&&o!==!1||(s=o,o=void 0),(r(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=o,u._i=e,u._f=t,u._strict=s,wt(u)}function Et(e,t,n,r){return Tt(e,t,n,r,!1)}function qt(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Et();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function Ct(){var e=[].slice.call(arguments,0);return qt("isBefore",e)}function kt(){var e=[].slice.call(arguments,0);return qt("isAfter",e)}function Pt(e){for(var t in e)if(_i.call(Ki,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Ki.length;++r)if(e[Ki[r]]){if(n)return!1;parseFloat(e[Ki[r]])!==b(e[Ki[r]])&&(n=!0)}return!0}function Ot(){return this._isValid}function At(){return Kt(NaN)}function Mt(e){var t=F(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,s=t.day||0,a=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=nt(),this._bubble()}function jt(e){return e instanceof Mt}function It(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Rt(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+U(~~(e/60),2)+t+U(~~e%60,2)})}function Dt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Zi)||["-",0,0],o=+(60*i[1])+b(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Ft(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(y(t)||a(t)?t.valueOf():Et(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):Et(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Lt(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Dt(oi,t),null===t)return this}else Math.abs(t)<16&&!r&&(t=60*t);return!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?tn(this,Kt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Nt(this)}function Ut(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bt(e){return this.utcOffset(0,e)}function Ht(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function zt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Dt(ii,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Yt(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=St(e),e._a){var t=e._isUTC?h(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Wt(){return!!this.isValid()&&!this._isUTC}function Gt(){return!!this.isValid()&&this._isUTC}function $t(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Kt(e,t){var n,r,i,o=e,a=null;return jt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=Ji.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[fi])*n,h:b(a[di])*n,m:b(a[pi])*n,s:b(a[mi])*n,ms:b(It(1e3*a[gi]))*n}):(a=Qi.exec(e))?(n="-"===a[1]?-1:("+"===a[1],1),o={y:Zt(a[2],n),M:Zt(a[3],n),w:Zt(a[4],n),d:Zt(a[5],n),h:Zt(a[6],n),m:Zt(a[7],n),s:Zt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Qt(Et(o.from),Et(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Mt(o),jt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ft(t,e),e.isBefore(t)?n=Jt(e,t):(n=Jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Kt(n,r),tn(this,i,e),this}}function tn(t,n,r,i){var o=n._milliseconds,s=It(n._days),a=It(n._months);t.isValid()&&(i=null==i||i,a&&de(t,re(t,"Month")+a*r),s&&ie(t,"Date",re(t,"Date")+s*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&e.updateOffset(t,s||a))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var r=t||Et(),i=Ft(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",s=n&&(E(n[o])?n[o].call(this,r):n[o]);return this.format(s||this.localeData().calendar(o,this,Et(r)))}function on(){return new v(this)}function sn(e,t){var n=y(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&(t=D(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function an(e,t){var n=y(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&(t=D(o(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ln(e,t){var n,r=y(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&(t=D(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function fn(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=Ft(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t)){case"year":o=dn(this,r)/12;break;case"month":o=dn(this,r);break;case"quarter":o=dn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)}function dn(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mn(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Y(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Y(n,"Z")):Y(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",o=t+'[")]';return this.format(n+r+i+o)}function vn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=Y(this,t);return this.localeData().postformat(n)}function yn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Et(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _n(e){return this.from(Et(),e)}function bn(e,t){return this.isValid()&&(y(e)&&e.isValid()||Et(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.to(Et(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function xn(){return this._locale}function Tn(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function En(e){return e=D(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function qn(){return this._d.valueOf()-6e4*(this._offset||0)}function Cn(){return Math.floor(this.valueOf()/1e3)}function kn(){return new Date(this.valueOf())}function Pn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function On(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function An(){return this.isValid()?this.toISOString():null}function Mn(){return p(this)}function jn(){return c({},d(this))}function In(){return d(this).overflow}function Rn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(e,t){B(0,[e,e.length],0,t)}function Fn(e){return Bn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(e){return Bn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ln(){return Te(this.year(),1,4)}function Un(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function Bn(e,t,n,r,i){var o;return null==e?xe(this,r,i).year:(o=Te(e,r,i),t>o&&(t=o),Hn.call(this,e,t,n,r,i))}function Hn(e,t,n,r,i){var o=Se(e,t,n,r,i),s=be(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function zn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Yn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Vn(e,t){t[gi]=b(1e3*("0."+e))}function Xn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Gn(e){return Et(1e3*e)}function $n(){return Et.apply(null,arguments).parseZone()}function Kn(e){return e}function Zn(e,t,n,r){var i=nt(),o=h().set(r,t);return i[n](o,e)}function Jn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return Zn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Zn(e,r,n,"month");return i}function Qn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var i=nt(),o=e?i._week.dow:0;if(null!=n)return Zn(t,(n+o)%7,r,"day");var a,u=[];for(a=0;a<7;a++)u[a]=Zn(t,(a+o)%7,r,"day");return u}function er(e,t){return Jn(e,t,"months")}function tr(e,t){return Jn(e,t,"monthsShort")}function nr(e,t,n){return Qn(e,t,n,"weekdays")}function rr(e,t,n){return Qn(e,t,n,"weekdaysShort")}function ir(e,t,n){return Qn(e,t,n,"weekdaysMin")}function or(){var e=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),e.milliseconds=co(e.milliseconds),e.seconds=co(e.seconds),e.minutes=co(e.minutes),e.hours=co(e.hours),e.months=co(e.months),e.years=co(e.years),this}function sr(e,t,n,r){var i=Kt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ar(e,t){return sr(this,e,t,1)}function ur(e,t){return sr(this,e,t,-1)}function lr(e){return e<0?Math.floor(e):Math.ceil(e)}function cr(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*lr(fr(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=_(o/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,s+=_(n/24),i=_(hr(s)),a+=i,s-=lr(fr(i)),r=_(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function hr(e){return 4800*e/146097}function fr(e){return 146097*e/4800}function dr(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=D(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+hr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(fr(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function pr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12):NaN}function mr(e){return function(){return this.as(e)}}function gr(){return Kt(this)}function vr(e){return e=D(e),this.isValid()?this[e+"s"]():NaN}function yr(e){return function(){return this.isValid()?this._data[e]:NaN}}function _r(){return _(this.days()/7)}function br(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function wr(e,t,n){var r=Kt(e).abs(),i=Co(r.as("s")),o=Co(r.as("m")),s=Co(r.as("h")),a=Co(r.as("d")),u=Co(r.as("M")),l=Co(r.as("y")),c=i<=ko.ss&&["s",i]||i<ko.s&&["ss",i]||o<=1&&["m"]||o<ko.m&&["mm",o]||s<=1&&["h"]||s<ko.h&&["hh",s]||a<=1&&["d"]||a<ko.d&&["dd",a]||u<=1&&["M"]||u<ko.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,br.apply(null,c)}function Sr(e){return void 0===e?Co:"function"==typeof e&&(Co=e,!0)}function xr(e,t){return void 0!==ko[e]&&(void 0===t?ko[e]:(ko[e]=t,"s"===e&&(ko.ss=t-1),!0))}function Tr(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=wr(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Er(e){return(e>0)-(e<0)||+e}function qr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r=Po(this._milliseconds)/1e3,i=Po(this._days),o=Po(this._months);e=_(r/60),t=_(e/60),r%=60,e%=60,n=_(o/12),o%=12;var s=n,a=o,u=i,l=t,c=e,h=r?r.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",p=Er(this._months)!==Er(f)?"-":"",m=Er(this._days)!==Er(f)?"-":"",g=Er(this._milliseconds)!==Er(f)?"-":"";return d+"P"+(s?p+s+"Y":"")+(a?p+a+"M":"")+(u?m+u+"D":"")+(l||c||h?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(h?g+h+"S":"")}var Cr,kr;kr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var Pr=e.momentProperties=[],Or=!1,Ar={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Mr;Mr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var jr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ir={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rr="Invalid date",Dr="%d",Fr=/\d{1,2}/,Nr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Lr={},Ur={},Br=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Hr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zr={},Yr={},Vr=/\d/,Xr=/\d\d/,Wr=/\d{3}/,Gr=/\d{4}/,$r=/[+-]?\d{6}/,Kr=/\d\d?/,Zr=/\d\d\d\d?/,Jr=/\d\d\d\d\d\d?/,Qr=/\d{1,3}/,ei=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ni=/\d+/,ri=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,oi=/Z|[+-]\d\d(?::?\d\d)?/gi,si=/[+-]?\d+(\.\d{1,3})?/,ai=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ui={},li={},ci=0,hi=1,fi=2,di=3,pi=4,mi=5,gi=6,vi=7,yi=8;B("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),R("year","y"),N("year",1),X("Y",ri),X("YY",Kr,Xr),X("YYYY",ei,Gr),X("YYYYY",ti,$r),X("YYYYYY",ti,$r),K(["YYYYY","YYYYYY"],ci),K("YYYY",function(t,n){n[ci]=2===t.length?e.parseTwoDigitYear(t):b(t)}),K("YY",function(t,n){n[ci]=e.parseTwoDigitYear(t)}),K("Y",function(e,t){t[ci]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return b(e)+(b(e)>68?1900:2e3)};var _i,bi=ne("FullYear",!0);_i=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),N("month",8),X("M",Kr),X("MM",Kr,Xr),X("MMM",function(e,t){return t.monthsShortRegex(e)}),X("MMMM",function(e,t){return t.monthsRegex(e)}),K(["M","MM"],function(e,t){t[hi]=b(e)-1}),K(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[hi]=i:d(n).invalidMonth=e});var wi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),xi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ti=ai,Ei=ai;B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),N("week",5),N("isoWeek",5),X("w",Kr),X("ww",Kr,Xr),X("W",Kr),X("WW",Kr,Xr),Z(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=b(e)});var qi={dow:0,doy:6};B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),X("d",Kr),X("e",Kr),X("E",Kr),X("dd",function(e,t){return t.weekdaysMinRegex(e)}),X("ddd",function(e,t){return t.weekdaysShortRegex(e)}),X("dddd",function(e,t){return t.weekdaysRegex(e)}),Z(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),Z(["d","e","E"],function(e,t,n,r){t[r]=b(e)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ki="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Pi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oi=ai,Ai=ai,Mi=ai;B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Ye),B("k",["kk",2],0,Ve),B("hmm",0,0,function(){return""+Ye.apply(this)+U(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Ye.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),R("hour","h"),N("hour",13),X("a",We),X("A",We),X("H",Kr),X("h",Kr),X("k",Kr),X("HH",Kr,Xr),X("hh",Kr,Xr),X("kk",Kr,Xr),X("hmm",Zr),X("hmmss",Jr),X("Hmm",Zr),X("Hmmss",Jr),K(["H","HH"],di),K(["k","kk"],function(e,t,n){var r=b(e);t[di]=24===r?0:r}),K(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),K(["h","hh"],function(e,t,n){t[di]=b(e),d(n).bigHour=!0}),K("hmm",function(e,t,n){var r=e.length-2;t[di]=b(e.substr(0,r)),t[pi]=b(e.substr(r)),d(n).bigHour=!0}),K("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[di]=b(e.substr(0,r)),t[pi]=b(e.substr(r,2)),t[mi]=b(e.substr(i)),d(n).bigHour=!0}),K("Hmm",function(e,t,n){var r=e.length-2;t[di]=b(e.substr(0,r)),t[pi]=b(e.substr(r))}),K("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[di]=b(e.substr(0,r)),t[pi]=b(e.substr(r,2)),t[mi]=b(e.substr(i))});var ji,Ii=/[ap]\.?m?\.?/i,Ri=ne("Hours",!0),Di={calendar:jr,longDateFormat:Ir,invalidDate:Rr,ordinal:Dr,dayOfMonthOrdinalParse:Fr,relativeTime:Nr,months:Si,monthsShort:xi,week:qi,weekdays:Ci,weekdaysMin:Pi,weekdaysShort:ki,meridiemParse:Ii},Fi={},Ni={},Li=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ui=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bi=/Z|[+-]\d\d(?::?\d\d)?/,Hi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],zi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yi=/^\/?Date\((\-?\d+)/i,Vi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Xi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Wi=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Gi=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),$i=function(){return Date.now?Date.now():+new Date},Ki=["year","quarter","month","week","day","hour","minute","second","millisecond"];Rt("Z",":"),Rt("ZZ",""),X("Z",oi),X("ZZ",oi),K(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Dt(oi,e)});var Zi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Ji=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Qi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Kt.fn=Mt.prototype,Kt.invalid=At;var eo=en(1,"add"),to=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var no=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),X("G",ri),X("g",ri),X("GG",Kr,Xr),X("gg",Kr,Xr),X("GGGG",ei,Gr),X("gggg",ei,Gr),X("GGGGG",ti,$r),X("ggggg",ti,$r),Z(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=b(e)}),Z(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),R("quarter","Q"),N("quarter",7),X("Q",Vr),K("Q",function(e,t){t[hi]=3*(b(e)-1)}),B("D",["DD",2],"Do","date"),R("date","D"),N("date",9),X("D",Kr),X("DD",Kr,Xr),X("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),K(["D","DD"],fi),K("Do",function(e,t){t[fi]=b(e.match(Kr)[0])});var ro=ne("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),N("dayOfYear",4),X("DDD",Qr),X("DDDD",Wr),K(["DDD","DDDD"],function(e,t,n){n._dayOfYear=b(e)}),B("m",["mm",2],0,"minute"),R("minute","m"),N("minute",14),X("m",Kr),X("mm",Kr,Xr),K(["m","mm"],pi);var io=ne("Minutes",!1);B("s",["ss",2],0,"second"),R("second","s"),N("second",15),X("s",Kr),X("ss",Kr,Xr),K(["s","ss"],mi);var oo=ne("Seconds",!1);B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),N("millisecond",16),X("S",Qr,Vr),X("SS",Qr,Xr),X("SSS",Qr,Wr);var so;for(so="SSSS";so.length<=9;so+="S")X(so,ni);for(so="S";so.length<=9;so+="S")K(so,Vn);var ao=ne("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var uo=v.prototype;uo.add=eo,uo.calendar=rn,uo.clone=on,uo.diff=fn,uo.endOf=En,uo.format=vn,uo.from=yn,uo.fromNow=_n,uo.to=bn,uo.toNow=wn,uo.get=oe,uo.invalidAt=In,uo.isAfter=sn,uo.isBefore=an,uo.isBetween=un,uo.isSame=ln,uo.isSameOrAfter=cn,uo.isSameOrBefore=hn,uo.isValid=Mn,uo.lang=no,uo.locale=Sn,uo.localeData=xn,uo.max=Gi,uo.min=Wi,uo.parsingFlags=jn,uo.set=se,uo.startOf=Tn,uo.subtract=to,uo.toArray=Pn,uo.toObject=On,uo.toDate=kn,uo.toISOString=mn,uo.inspect=gn,uo.toJSON=An,uo.toString=pn,uo.unix=Cn,uo.valueOf=qn,uo.creationData=Rn,uo.year=bi,uo.isLeapYear=te,uo.weekYear=Fn,uo.isoWeekYear=Nn,uo.quarter=uo.quarters=zn,uo.month=pe,uo.daysInMonth=me,uo.week=uo.weeks=ke,uo.isoWeek=uo.isoWeeks=Pe,uo.weeksInYear=Un,uo.isoWeeksInYear=Ln,uo.date=ro,uo.day=uo.days=Fe,uo.weekday=Ne,uo.isoWeekday=Le,uo.dayOfYear=Yn,uo.hour=uo.hours=Ri,uo.minute=uo.minutes=io,uo.second=uo.seconds=oo,uo.millisecond=uo.milliseconds=ao,uo.utcOffset=Lt,uo.utc=Bt,uo.local=Ht,uo.parseZone=zt,uo.hasAlignedHourOffset=Yt,uo.isDST=Vt,uo.isLocal=Wt,uo.isUtcOffset=Gt,uo.isUtc=$t,uo.isUTC=$t,uo.zoneAbbr=Xn,uo.zoneName=Wn,uo.dates=x("dates accessor is deprecated. Use date instead.",ro),uo.months=x("months accessor is deprecated. Use month instead",pe),uo.years=x("years accessor is deprecated. Use year instead",bi),uo.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ut),uo.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Xt);var lo=k.prototype;lo.calendar=P,lo.longDateFormat=O,lo.invalidDate=A,lo.ordinal=M,lo.preparse=Kn,lo.postformat=Kn,lo.relativeTime=j,lo.pastFuture=I,lo.set=q,lo.months=le,lo.monthsShort=ce,lo.monthsParse=fe,lo.monthsRegex=ve,lo.monthsShortRegex=ge,lo.week=Ee,lo.firstDayOfYear=Ce,lo.firstDayOfWeek=qe,lo.weekdays=Me,lo.weekdaysMin=Ie,lo.weekdaysShort=je,lo.weekdaysParse=De,lo.weekdaysRegex=Ue,lo.weekdaysShortRegex=Be,lo.weekdaysMinRegex=He,lo.isPM=Ge,lo.meridiem=$e,Qe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===b(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",Qe),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",nt);var co=Math.abs,ho=mr("ms"),fo=mr("s"),po=mr("m"),mo=mr("h"),go=mr("d"),vo=mr("w"),yo=mr("M"),_o=mr("y"),bo=yr("milliseconds"),wo=yr("seconds"),So=yr("minutes"),xo=yr("hours"),To=yr("days"),Eo=yr("months"),qo=yr("years"),Co=Math.round,ko={ss:44,s:45,m:45,h:22,d:26,M:11},Po=Math.abs,Oo=Mt.prototype;return Oo.isValid=Ot,Oo.abs=or,Oo.add=ar,Oo.subtract=ur,Oo.as=dr,Oo.asMilliseconds=ho,Oo.asSeconds=fo,Oo.asMinutes=po,Oo.asHours=mo,Oo.asDays=go,Oo.asWeeks=vo,Oo.asMonths=yo,Oo.asYears=_o,Oo.valueOf=pr,Oo._bubble=cr,Oo.clone=gr,Oo.get=vr,Oo.milliseconds=bo,Oo.seconds=wo,Oo.minutes=So,Oo.hours=xo,Oo.days=To,Oo.weeks=_r,Oo.months=Eo,Oo.years=qo,Oo.humanize=Tr,Oo.toISOString=qr,Oo.toString=qr,Oo.toJSON=qr,Oo.locale=Sn,Oo.localeData=xn,Oo.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qr),Oo.lang=no,B("X",0,0,"unix"),B("x",0,0,"valueOf"),X("x",ri),X("X",si),K("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),K("x",function(e,t,n){n._d=new Date(b(e))}),e.version="2.22.1",t(Et),e.fn=uo,e.min=Ct,e.max=kt,e.now=$i,e.utc=h,e.unix=Gn,e.months=er,e.isDate=a,e.locale=Qe,e.invalid=m,e.duration=Kt,e.isMoment=y,e.weekdays=nr,e.parseZone=$n,e.localeData=nt,e.isDuration=jt,e.monthsShort=tr,e.weekdaysMin=ir,e.defineLocale=et,e.updateLocale=tt,e.locales=rt,e.weekdaysShort=rr,e.normalizeUnits=D,e.relativeTimeRounding=Sr,e.relativeTimeThreshold=xr,e.calendarFormat=nn,e.prototype=uo,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,n,r){var i={features:null,bind:function(e,t,n,r){var i=(r?"remove":"add")+"EventListener";t=t.split(" ");for(var o=0;o<t.length;o++)t[o]&&e[i](t[o],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){i.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){i.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){
return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(i.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var r=e.length;r--;)if(e[r][n]===t)return r;return-1},extend:function(e,t,n){for(var r in t)if(t.hasOwnProperty(r)){if(n&&e.hasOwnProperty(r))continue;e[r]=t[r]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(i.features)return i.features;var e=i.createEl(),t=e.style,n="",r={};if(r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!r.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var s=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);s&&s.length>0&&(s=parseInt(s[1],10),s>=1&&s<8&&(r.isOldIOSPhone=!0))}var a=o.match(/Android\s([0-9\.]*)/),u=a?a[1]:0;u=parseFloat(u),u>=1&&(u<4.4&&(r.isOldAndroid=!0),r.androidVersion=u),r.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var l,c,h=["transform","perspective","animationName"],f=["","webkit","Moz","ms","O"],d=0;d<4;d++){n=f[d];for(var p=0;p<3;p++)l=h[p],c=n+(n?l.charAt(0).toUpperCase()+l.slice(1):l),!r[l]&&c in t&&(r[l]=c);n&&!r.raf&&(n=n.toLowerCase(),r.raf=window[n+"RequestAnimationFrame"],r.raf&&(r.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!r.raf){var m=0;r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-m)),r=window.setTimeout(function(){e(t+n)},n);return m=t+n,r},r.caf=function(e){clearTimeout(e)}}return r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i.features=r,r}};i.detectFeatures(),i.features.oldIE&&(i.bind=function(e,t,n,r){t=t.split(" ");for(var i,o=(r?"detach":"attach")+"Event",s=function(){n.handleEvent.call(n)},a=0;a<t.length;a++)if(i=t[a])if("object"==typeof n&&n.handleEvent){if(r){if(!n["oldIE"+i])return!1}else n["oldIE"+i]=s;e[o]("on"+i,n["oldIE"+i])}else e[o]("on"+i,n)});var o=this,s=25,a=3,u={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};i.extend(u,r);var l,c,h,f,d,p,m,g,v,y,_,b,w,S,x,T,E,q,C,k,P,O,A,M,j,I,R,D,F,N,L,U,B,H,z,Y,V,X,W,G,$,K,Z,J,Q,ee,te,ne,re,ie,oe,se,ae,ue,le,ce,he,fe=function(){return{x:0,y:0}},de=fe(),pe=fe(),me=fe(),ge={},ve=0,ye={},_e=fe(),be=0,we=!0,Se=[],xe={},Te=!1,Ee=function(e,t){i.extend(o,t.publicMethods),Se.push(e)},qe=function(e){var t=en();return e>t-1?e-t:e<0?t+e:e},Ce={},ke=function(e,t){return Ce[e]||(Ce[e]=[]),Ce[e].push(t)},Pe=function(e){var t=Ce[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var r=0;r<t.length;r++)t[r].apply(o,n)}},Oe=function(){return(new Date).getTime()},Ae=function(e){le=e,o.bg.style.opacity=e*u.bgOpacity},Me=function(e,t,n,r,i){(!Te||i&&i!==o.currItem)&&(r/=i?i.fitRatio:o.currItem.fitRatio),e[O]=b+t+"px, "+n+"px"+w+" scale("+r+")"},je=function(e){ie&&(e&&(y>o.currItem.fitRatio?Te||(dn(o.currItem,!1,!0),Te=!0):Te&&(dn(o.currItem),Te=!1)),Me(ie,me.x,me.y,y))},Ie=function(e){e.container&&Me(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Re=function(e,t){t[O]=b+e+"px, 0px"+w},De=function(e,t){if(!u.loop&&t){var n=f+(_e.x*ve-e)/_e.x,r=Math.round(e-_t.x);(n<0&&r>0||n>=en()-1&&r<0)&&(e=_t.x+r*u.mainScrollEndFriction)}_t.x=e,Re(e,d)},Fe=function(e,t){var n=bt[e]-ye[e];return pe[e]+de[e]+n-n*(t/_)},Ne=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Le=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ue=null,Be=function(){Ue&&(i.unbind(document,"mousemove",Be),i.addClass(e,"pswp--has_mouse"),u.mouseUsed=!0,Pe("mouseUsed")),Ue=setTimeout(function(){Ue=null},100)},He=function(){i.bind(document,"keydown",o),L.transform&&i.bind(o.scrollWrap,"click",o),u.mouseUsed||i.bind(document,"mousemove",Be),i.bind(window,"resize scroll orientationchange",o),Pe("bindEvents")},ze=function(){i.unbind(window,"resize scroll orientationchange",o),i.unbind(window,"scroll",v.scroll),i.unbind(document,"keydown",o),i.unbind(document,"mousemove",Be),L.transform&&i.unbind(o.scrollWrap,"click",o),W&&i.unbind(window,m,o),clearTimeout(U),Pe("unbindEvents")},Ye=function(e,t){var n=ln(o.currItem,ge,e);return t&&(re=n),n},Ve=function(e){return e||(e=o.currItem),e.initialZoomLevel},Xe=function(e){return e||(e=o.currItem),e.w>0?u.maxSpreadZoom:1},We=function(e,t,n,r){return r===o.currItem.initialZoomLevel?(n[e]=o.currItem.initialPosition[e],!0):(n[e]=Fe(e,r),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ge=function(){if(O){var t=L.perspective&&!M;return b="translate"+(t?"3d(":"("),void(w=L.perspective?", 0px)":")")}O="left",i.addClass(e,"pswp--ie"),Re=function(e,t){t.left=e+"px"},Ie=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,r=t*e.w,i=t*e.h;n.width=r+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},je=function(){if(ie){var e=ie,t=o.currItem,n=t.fitRatio>1?1:t.fitRatio,r=n*t.w,i=n*t.h;e.width=r+"px",e.height=i+"px",e.left=me.x+"px",e.top=me.y+"px"}}},$e=function(e){var t="";u.escKey&&27===e.keyCode?t="close":u.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,o[t]()))},Ke=function(e){e&&(K||$||oe||V)&&(e.preventDefault(),e.stopPropagation())},Ze=function(){o.setScrollOffset(0,i.getScrollY())},Je={},Qe=0,et=function(e){Je[e]&&(Je[e].raf&&I(Je[e].raf),Qe--,delete Je[e])},tt=function(e){Je[e]&&et(e),Je[e]||(Qe++,Je[e]={})},nt=function(){for(var e in Je)Je.hasOwnProperty(e)&&et(e)},rt=function(e,t,n,r,i,o,s){var a,u=Oe();tt(e);var l=function(){if(Je[e]){if(a=Oe()-u,a>=r)return et(e),o(n),void(s&&s());o((n-t)*i(a/r)+t),Je[e].raf=j(l)}};l()},it={shout:Pe,listen:ke,viewportSize:ge,options:u,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return y},getCurrentIndex:function(){return f},isDragging:function(){return W},isZooming:function(){return ee},setScrollOffset:function(e,t){ye.x=e,N=ye.y=t,Pe("updateScrollOffset",ye)},applyZoomPan:function(e,t,n,r){me.x=t,me.y=n,y=e,je(r)},init:function(){if(!l&&!c){var n;o.framework=i,o.template=e,o.bg=i.getChildByClass(e,"pswp__bg"),R=e.className,l=!0,L=i.detectFeatures(),j=L.raf,I=L.caf,O=L.transform,F=L.oldIE,o.scrollWrap=i.getChildByClass(e,"pswp__scroll-wrap"),o.container=i.getChildByClass(o.scrollWrap,"pswp__container"),d=o.container.style,o.itemHolders=T=[{el:o.container.children[0],wrap:0,index:-1},{el:o.container.children[1],wrap:0,index:-1},{el:o.container.children[2],wrap:0,index:-1}],T[0].el.style.display=T[2].el.style.display="none",Ge(),v={resize:o.updateSize,orientationchange:function(){clearTimeout(U),U=setTimeout(function(){ge.x!==o.scrollWrap.clientWidth&&o.updateSize()},500)},scroll:Ze,keydown:$e,click:Ke};var r=L.isOldIOSPhone||L.isOldAndroid||L.isMobileOpera;for(L.animationName&&L.transform&&!r||(u.showAnimationDuration=u.hideAnimationDuration=0),n=0;n<Se.length;n++)o["init"+Se[n]]();if(t){var s=o.ui=new t(o,i);s.init()}Pe("firstUpdate"),f=f||u.index||0,(isNaN(f)||f<0||f>=en())&&(f=0),o.currItem=Qt(f),(L.isOldIOSPhone||L.isOldAndroid)&&(we=!1),e.setAttribute("aria-hidden","false"),u.modal&&(we?e.style.position="fixed":(e.style.position="absolute",e.style.top=i.getScrollY()+"px")),void 0===N&&(Pe("initialLayout"),N=D=i.getScrollY());var h="pswp--open ";for(u.mainClass&&(h+=u.mainClass+" "),u.showHideOpacity&&(h+="pswp--animate_opacity "),h+=M?"pswp--touch":"pswp--notouch",h+=L.animationName?" pswp--css_animation":"",h+=L.svg?" pswp--svg":"",i.addClass(e,h),o.updateSize(),p=-1,be=null,n=0;n<a;n++)Re((n+p)*_e.x,T[n].el.style);F||i.bind(o.scrollWrap,g,o),ke("initialZoomInEnd",function(){o.setContent(T[0],f-1),o.setContent(T[2],f+1),T[0].el.style.display=T[2].el.style.display="block",u.focus&&e.focus(),He()}),o.setContent(T[1],f),o.updateCurrItem(),Pe("afterInit"),we||(S=setInterval(function(){Qe||W||ee||y!==o.currItem.initialZoomLevel||o.updateSize()},1e3)),i.addClass(e,"pswp--visible")}},close:function(){l&&(l=!1,c=!0,Pe("close"),ze(),nn(o.currItem,null,!0,o.destroy))},destroy:function(){Pe("destroy"),$t&&clearTimeout($t),e.setAttribute("aria-hidden","true"),e.className=R,S&&clearInterval(S),i.unbind(o.scrollWrap,g,o),i.unbind(window,"scroll",o),Et(),nt(),Ce=null},panTo:function(e,t,n){n||(e>re.min.x?e=re.min.x:e<re.max.x&&(e=re.max.x),t>re.min.y?t=re.min.y:t<re.max.y&&(t=re.max.y)),me.x=e,me.y=t,je()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){e=qe(e);var t=e-f;be=t,f=e,o.currItem=Qt(f),ve-=t,De(_e.x*ve),nt(),oe=!1,o.updateCurrItem()},next:function(){o.goTo(f+1)},prev:function(){o.goTo(f-1)},updateCurrZoomItem:function(e){if(e&&Pe("beforeChange",0),T[1].el.children.length){var t=T[1].el.children[0];ie=i.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ie=null;re=o.currItem.bounds,_=y=o.currItem.initialZoomLevel,me.x=re.center.x,me.y=re.center.y,e&&Pe("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;e<a;e++)T[e].item&&(T[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==be){var t,n=Math.abs(be);if(!(e&&n<2)){o.currItem=Qt(f),Te=!1,Pe("beforeChange",be),n>=a&&(p+=be+(be>0?-a:a),n=a);for(var r=0;r<n;r++)be>0?(t=T.shift(),T[a-1]=t,p++,Re((p+2)*_e.x,t.el.style),o.setContent(t,f-n+r+1+1)):(t=T.pop(),T.unshift(t),p--,Re(p*_e.x,t.el.style),o.setContent(t,f+n-r-1-1));if(ie&&1===Math.abs(be)){var i=Qt(E);i.initialZoomLevel!==y&&(ln(i,ge),dn(i),Ie(i))}be=0,o.updateCurrZoomItem(),E=f,Pe("afterChange")}}},updateSize:function(t){if(!we&&u.modal){var n=i.getScrollY();if(N!==n&&(e.style.top=n+"px",N=n),!t&&xe.x===window.innerWidth&&xe.y===window.innerHeight)return;xe.x=window.innerWidth,xe.y=window.innerHeight,e.style.height=xe.y+"px"}if(ge.x=o.scrollWrap.clientWidth,ge.y=o.scrollWrap.clientHeight,Ze(),_e.x=ge.x+Math.round(ge.x*u.spacing),_e.y=ge.y,De(_e.x*ve),Pe("beforeResize"),void 0!==p){for(var r,s,l,c=0;c<a;c++)r=T[c],Re((c+p)*_e.x,r.el.style),l=f+c-1,u.loop&&en()>2&&(l=qe(l)),s=Qt(l),s&&(x||s.needsUpdate||!s.bounds)?(o.cleanSlide(s),o.setContent(r,l),1===c&&(o.currItem=s,o.updateCurrZoomItem(!0)),s.needsUpdate=!1):r.index===-1&&l>=0&&o.setContent(r,l),s&&s.container&&(ln(s,ge),dn(s),Ie(s));x=!1}_=y=o.currItem.initialZoomLevel,re=o.currItem.bounds,re&&(me.x=re.center.x,me.y=re.center.y,je(!0)),Pe("resize")},zoomTo:function(e,t,n,r,o){t&&(_=y,bt.x=Math.abs(t.x)-me.x,bt.y=Math.abs(t.y)-me.y,Ne(pe,me));var s=Ye(e,!1),a={};We("x",s,a,e),We("y",s,a,e);var u=y,l={x:me.x,y:me.y};Le(a);var c=function(t){1===t?(y=e,me.x=a.x,me.y=a.y):(y=(e-u)*t+u,me.x=(a.x-l.x)*t+l.x,me.y=(a.y-l.y)*t+l.y),o&&o(t),je(1===t)};n?rt("customZoomTo",0,1,n,r||i.easing.sine.inOut,c):c(1)}},ot=30,st=10,at={},ut={},lt={},ct={},ht={},ft=[],dt={},pt=[],mt={},gt=0,vt=fe(),yt=0,_t=fe(),bt=fe(),wt=fe(),St=function(e,t){return e.x===t.x&&e.y===t.y},xt=function(e,t){return Math.abs(e.x-t.x)<s&&Math.abs(e.y-t.y)<s},Tt=function(e,t){return mt.x=Math.abs(e.x-t.x),mt.y=Math.abs(e.y-t.y),Math.sqrt(mt.x*mt.x+mt.y*mt.y)},Et=function(){Z&&(I(Z),Z=null)},qt=function(){W&&(Z=j(qt),Ht())},Ct=function(){return!("fit"===u.scaleMode&&y===o.currItem.initialZoomLevel)},kt=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:kt(e.parentNode,t)))},Pt={},Ot=function(e,t){return Pt.prevent=!kt(e.target,u.isClickableElement),Pe("preventDragEvent",e,t,Pt),Pt.prevent},At=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Mt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},jt=function(e,t,n){if(e-H>50){var r=pt.length>2?pt.shift():{};r.x=t,r.y=n,pt.push(r),H=e}},It=function(){var e=me.y-o.currItem.initialPosition.y;return 1-Math.abs(e/(ge.y/2))},Rt={},Dt={},Ft=[],Nt=function(e){for(;Ft.length>0;)Ft.pop();return A?(he=0,ft.forEach(function(e){0===he?Ft[0]=e:1===he&&(Ft[1]=e),he++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ft[0]=At(e.touches[0],Rt),e.touches.length>1&&(Ft[1]=At(e.touches[1],Dt))):(Rt.x=e.pageX,Rt.y=e.pageY,Rt.id="",Ft[0]=Rt),Ft},Lt=function(e,t){var n,r,i,s,a=0,l=me[e]+t[e],c=t[e]>0,h=_t.x+t.x,f=_t.x-dt.x;return n=l>re.min[e]||l<re.max[e]?u.panEndFriction:1,l=me[e]+t[e]*n,!u.allowPanToNext&&y!==o.currItem.initialZoomLevel||(ie?"h"!==se||"x"!==e||$||(c?(l>re.min[e]&&(n=u.panEndFriction,a=re.min[e]-l,r=re.min[e]-pe[e]),(r<=0||f<0)&&en()>1?(s=h,f<0&&h>dt.x&&(s=dt.x)):re.min.x!==re.max.x&&(i=l)):(l<re.max[e]&&(n=u.panEndFriction,a=l-re.max[e],r=pe[e]-re.max[e]),(r<=0||f>0)&&en()>1?(s=h,f>0&&h<dt.x&&(s=dt.x)):re.min.x!==re.max.x&&(i=l))):s=h,"x"!==e)?void(oe||J||y>o.currItem.fitRatio&&(me[e]+=t[e]*n)):(void 0!==s&&(De(s,!0),J=s!==dt.x),re.min.x!==re.max.x&&(void 0!==i?me.x=i:J||(me.x+=t.x*n)),void 0!==s)},Ut=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Jt)return void e.preventDefault();if(!X||"mousedown"!==e.type){if(Ot(e,!0)&&e.preventDefault(),Pe("pointerDown"),A){var t=i.arraySearch(ft,e.pointerId,"id");t<0&&(t=ft.length),ft[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Nt(e),r=n.length;Q=null,nt(),W&&1!==r||(W=ae=!0,i.bind(window,m,o),Y=ce=ue=V=J=K=G=$=!1,se=null,Pe("firstTouchStart",n),Ne(pe,me),de.x=de.y=0,Ne(ct,n[0]),Ne(ht,ct),dt.x=_e.x*ve,pt=[{x:ct.x,y:ct.y}],H=B=Oe(),Ye(y,!0),Et(),qt()),!ee&&r>1&&!oe&&!J&&(_=y,$=!1,ee=G=!0,de.y=de.x=0,Ne(pe,me),Ne(at,n[0]),Ne(ut,n[1]),Mt(at,ut,wt),bt.x=Math.abs(wt.x)-me.x,bt.y=Math.abs(wt.y)-me.y,te=ne=Tt(at,ut))}}},Bt=function(e){if(e.preventDefault(),A){var t=i.arraySearch(ft,e.pointerId,"id");if(t>-1){var n=ft[t];n.x=e.pageX,n.y=e.pageY}}if(W){var r=Nt(e);if(se||K||ee)Q=r;else if(_t.x!==_e.x*ve)se="h";else{var o=Math.abs(r[0].x-ct.x)-Math.abs(r[0].y-ct.y);Math.abs(o)>=st&&(se=o>0?"h":"v",Q=r)}}},Ht=function(){if(Q){var e=Q.length;if(0!==e)if(Ne(at,Q[0]),lt.x=at.x-ct.x,lt.y=at.y-ct.y,ee&&e>1){if(ct.x=at.x,ct.y=at.y,!lt.x&&!lt.y&&St(Q[1],ut))return;Ne(ut,Q[1]),$||($=!0,Pe("zoomGestureStarted"));var t=Tt(at,ut),n=Wt(t);n>o.currItem.initialZoomLevel+o.currItem.initialZoomLevel/15&&(ce=!0);var r=1,i=Ve(),s=Xe();if(n<i)if(u.pinchToClose&&!ce&&_<=o.currItem.initialZoomLevel){var a=i-n,l=1-a/(i/1.2);Ae(l),Pe("onPinchClose",l),ue=!0}else r=(i-n)/i,r>1&&(r=1),n=i-r*(i/3);else n>s&&(r=(n-s)/(6*i),r>1&&(r=1),n=s+r*i);r<0&&(r=0),te=t,Mt(at,ut,vt),de.x+=vt.x-wt.x,de.y+=vt.y-wt.y,Ne(wt,vt),me.x=Fe("x",n),me.y=Fe("y",n),Y=n>y,y=n,je()}else{if(!se)return;if(ae&&(ae=!1,Math.abs(lt.x)>=st&&(lt.x-=Q[0].x-ht.x),Math.abs(lt.y)>=st&&(lt.y-=Q[0].y-ht.y)),ct.x=at.x,ct.y=at.y,0===lt.x&&0===lt.y)return;if("v"===se&&u.closeOnVerticalDrag&&!Ct()){de.y+=lt.y,me.y+=lt.y;var c=It();return V=!0,Pe("onVerticalDrag",c),Ae(c),void je()}jt(Oe(),at.x,at.y),K=!0,re=o.currItem.bounds;var h=Lt("x",lt);h||(Lt("y",lt),Le(me),je())}}},zt=function(e){if(L.isOldAndroid){if(X&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(X),X=setTimeout(function(){X=0},600))}Pe("pointerUp"),Ot(e,!1)&&e.preventDefault();var t;if(A){var n=i.arraySearch(ft,e.pointerId,"id");if(n>-1)if(t=ft.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var r={4:"mouse",2:"touch",3:"pen"};t.type=r[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var s,a=Nt(e),l=a.length;if("mouseup"===e.type&&(l=0),2===l)return Q=null,!0;1===l&&Ne(ht,a[0]),0!==l||se||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Pe("touchRelease",e,t));var c=-1;if(0===l&&(W=!1,i.unbind(window,m,o),Et(),ee?c=0:yt!==-1&&(c=Oe()-yt)),yt=1===l?Oe():-1,s=c!==-1&&c<150?"zoom":"swipe",ee&&l<2&&(ee=!1,1===l&&(s="zoomPointerUp"),Pe("zoomGestureEnded")),Q=null,K||$||oe||V)if(nt(),z||(z=Yt()),z.calculateSwipeSpeed("x"),V){var h=It();if(h<u.verticalDragRange)o.close();else{var f=me.y,d=le;rt("verticalDrag",0,1,300,i.easing.cubic.out,function(e){me.y=(o.currItem.initialPosition.y-f)*e+f,Ae((1-d)*e+d),je()}),Pe("onVerticalDrag",1)}}else{if((J||oe)&&0===l){var p=Xt(s,z);if(p)return;s="zoomPointerUp"}if(!oe)return"swipe"!==s?void Gt():void(!J&&y>o.currItem.fitRatio&&Vt(z))}},Yt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(r){pt.length>1?(e=Oe()-H+50,t=pt[pt.length-2][r]):(e=Oe()-B,t=ht[r]),n.lastFlickOffset[r]=ct[r]-t,n.lastFlickDist[r]=Math.abs(n.lastFlickOffset[r]),n.lastFlickDist[r]>20?n.lastFlickSpeed[r]=n.lastFlickOffset[r]/e:n.lastFlickSpeed[r]=0,Math.abs(n.lastFlickSpeed[r])<.1&&(n.lastFlickSpeed[r]=0),n.slowDownRatio[r]=.95,n.slowDownRatioReverse[r]=1-n.slowDownRatio[r],n.speedDecelerationRatio[r]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(me[e]>re.min[e]?n.backAnimDestination[e]=re.min[e]:me[e]<re.max[e]&&(n.backAnimDestination[e]=re.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,rt("bounceZoomPan"+e,me[e],n.backAnimDestination[e],t||300,i.easing.sine.out,function(t){me[e]=t,je()}))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,me[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Je.zoomPan&&(Je.zoomPan.raf=j(n.panAnimLoop),n.now=Oe(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),je(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return me.x=Math.round(me.x),me.y=Math.round(me.y),je(),void et("zoomPan")}};return n},Vt=function(e){return e.calculateSwipeSpeed("y"),re=o.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(tt("zoomPan"),e.lastNow=Oe(),void e.panAnimLoop())},Xt=function(e,t){var n;oe||(gt=f);var r;if("swipe"===e){var s=ct.x-ht.x,a=t.lastFlickDist.x<10;s>ot&&(a||t.lastFlickOffset.x>20)?r=-1:s<-ot&&(a||t.lastFlickOffset.x<-20)&&(r=1)}var l;r&&(f+=r,f<0?(f=u.loop?en()-1:0,l=!0):f>=en()&&(f=u.loop?0:en()-1,l=!0),l&&!u.loop||(be+=r,ve-=r,n=!0));var c,h=_e.x*ve,d=Math.abs(h-_t.x);return n||h>_t.x==t.lastFlickSpeed.x>0?(c=Math.abs(t.lastFlickSpeed.x)>0?d/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),c=Math.max(c,250)):c=333,gt===f&&(n=!1),oe=!0,Pe("mainScrollAnimStart"),rt("mainScroll",_t.x,h,c,i.easing.cubic.out,De,function(){nt(),oe=!1,gt=-1,(n||gt!==f)&&o.updateCurrItem(),Pe("mainScrollAnimComplete")}),n&&o.updateCurrItem(!0),n},Wt=function(e){return 1/ne*e*_},Gt=function(){var e=y,t=Ve(),n=Xe();y<t?e=t:y>n&&(e=n);var r,s=1,a=le;return ue&&!Y&&!ce&&y<t?(o.close(),!0):(ue&&(r=function(e){Ae((s-a)*e+a)}),o.zoomTo(e,0,200,i.easing.cubic.out,r),!0)};Ee("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,r,i){q=e+t,C=e+n,k=e+r,P=i?e+i:""};A=L.pointerEvent,A&&L.touch&&(L.touch=!1),A?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):L.touch?(e("touch","start","move","end","cancel"),M=!0):e("mouse","down","move","up"),m=C+" "+k+" "+P,g=q,A&&!M&&(M=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),o.likelyTouchDevice=M,v[q]=Ut,v[C]=Bt,v[k]=zt,P&&(v[P]=v[k]),L.touch&&(g+=" mousedown",m+=" mousemove mouseup",v.mousedown=v[q],v.mousemove=v[C],v.mouseup=v[k]),M||(u.allowPanToNext=!1)}}});var $t,Kt,Zt,Jt,Qt,en,tn,nn=function(t,n,r,s){$t&&clearTimeout($t),Jt=!0,Zt=!0;var a;t.initialLayout?(a=t.initialLayout,t.initialLayout=null):a=u.getThumbBoundsFn&&u.getThumbBoundsFn(f);var l=r?u.hideAnimationDuration:u.showAnimationDuration,c=function(){et("initialZoom"),r?(o.template.removeAttribute("style"),o.bg.removeAttribute("style")):(Ae(1),n&&(n.style.display="block"),i.addClass(e,"pswp--animated-in"),Pe("initialZoom"+(r?"OutEnd":"InEnd"))),s&&s(),Jt=!1};if(!l||!a||void 0===a.x)return Pe("initialZoom"+(r?"Out":"In")),y=t.initialZoomLevel,Ne(me,t.initialPosition),je(),e.style.opacity=r?0:1,Ae(1),void(l?setTimeout(function(){c()},l):c());var d=function(){var n=h,s=!o.currItem.src||o.currItem.loadError||u.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),r||(y=a.w/t.w,me.x=a.x,me.y=a.y-D,o[s?"template":"bg"].style.opacity=.001,je()),tt("initialZoom"),r&&!n&&i.removeClass(e,"pswp--animated-in"),s&&(r?i[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){i.addClass(e,"pswp--animate_opacity")},30)),$t=setTimeout(function(){if(Pe("initialZoom"+(r?"Out":"In")),r){var o=a.w/t.w,u={x:me.x,y:me.y},h=y,f=le,d=function(t){1===t?(y=o,me.x=a.x,me.y=a.y-N):(y=(o-h)*t+h,me.x=(a.x-u.x)*t+u.x,me.y=(a.y-N-u.y)*t+u.y),je(),s?e.style.opacity=1-t:Ae(f-t*f)};n?rt("initialZoom",0,1,l,i.easing.cubic.out,d,c):(d(1),$t=setTimeout(c,l+20))}else y=t.initialZoomLevel,Ne(me,t.initialPosition),je(),Ae(1),s?e.style.opacity=1:Ae(1),$t=setTimeout(c,l+20)},r?25:90)};d()},rn={},on=[],sn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Kt.length}},an=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},un=function(e,t,n){var r=e.bounds;r.center.x=Math.round((rn.x-t)/2),r.center.y=Math.round((rn.y-n)/2)+e.vGap.top,r.max.x=t>rn.x?Math.round(rn.x-t):r.center.x,r.max.y=n>rn.y?Math.round(rn.y-n)+e.vGap.top:r.center.y,r.min.x=t>rn.x?0:r.center.x,r.min.y=n>rn.y?e.vGap.top:r.center.y},ln=function(e,t,n){if(e.src&&!e.loadError){var r=!n;if(r&&(e.vGap||(e.vGap={top:0,bottom:0}),Pe("parseVerticalMargin",e)),rn.x=t.x,rn.y=t.y-e.vGap.top-e.vGap.bottom,r){var i=rn.x/e.w,o=rn.y/e.h;e.fitRatio=i<o?i:o;var s=u.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=an())}if(!n)return;return un(e,e.w*n,e.h*n),r&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=an(),e.initialPosition=e.bounds.center,e.bounds},cn=function(e,t,n,r,i,s){t.loadError||r&&(t.imageAppended=!0,dn(t,r,t===o.currItem&&Te),n.appendChild(r),s&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},hn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=i.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},fn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=u.errorMsg.replace("%url%",e.src),!0},dn=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var r=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=r+"px",e.placeholder.style.height=i+"px"),t.style.width=r+"px",t.style.height=i+"px"}},pn=function(){if(on.length){for(var e,t=0;t<on.length;t++)e=on[t],e.holder.index===e.index&&cn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);on=[]}};Ee("Controller",{publicMethods:{lazyLoadItem:function(e){e=qe(e);var t=Qt(e);t&&(!t.loaded&&!t.loading||x)&&(Pe("gettingData",e,t),t.src&&hn(t))},initController:function(){i.extend(u,sn,!0),o.items=Kt=n,Qt=o.getItemAt,en=u.getNumItemsFn,tn=u.loop,en()<3&&(u.loop=!1),ke("beforeChange",function(e){var t,n=u.preload,r=null===e||e>=0,i=Math.min(n[0],en()),s=Math.min(n[1],en());for(t=1;t<=(r?s:i);t++)o.lazyLoadItem(f+t);for(t=1;t<=(r?i:s);t++)o.lazyLoadItem(f-t)}),ke("initialLayout",function(){o.currItem.initialLayout=u.getThumbBoundsFn&&u.getThumbBoundsFn(f)}),ke("mainScrollAnimComplete",pn),ke("initialZoomInEnd",pn),ke("destroy",function(){for(var e,t=0;t<Kt.length;t++)e=Kt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);on=null})},getItemAt:function(e){return e>=0&&(void 0!==Kt[e]&&Kt[e])},allowProgressiveImg:function(){return u.forceProgressiveLoading||!M||u.mouseUsed||screen.width>1200},setContent:function(e,t){u.loop&&(t=qe(t));var n=o.getItemAt(e.index);n&&(n.container=null);var r,s=o.getItemAt(t);if(!s)return void(e.el.innerHTML="");Pe("gettingData",t,s),e.index=t,e.item=s;var a=s.container=i.createEl("pswp__zoom-wrap");if(!s.src&&s.html&&(s.html.tagName?a.appendChild(s.html):a.innerHTML=s.html),fn(s),ln(s,ge),!s.src||s.loadError||s.loaded)s.src&&!s.loadError&&(r=i.createEl("pswp__img","img"),r.style.opacity=1,r.src=s.src,dn(s,r),cn(t,s,a,r,!0));else{if(s.loadComplete=function(n){if(l){if(e&&e.index===t){if(fn(n,!0))return n.loadComplete=n.img=null,ln(n,ge),Ie(n),void(e.index===f&&o.updateCurrZoomItem());n.imageAppended?!Jt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):L.transform&&(oe||Jt)?on.push({item:n,baseDiv:a,img:n.img,index:t,holder:e,clearPlaceholder:!0}):cn(t,n,a,n.img,oe||Jt,!0)}n.loadComplete=null,n.img=null,Pe("imageLoadComplete",t,n)}},i.features.transform){var c="pswp__img pswp__img--placeholder";c+=s.msrc?"":" pswp__img--placeholder--blank";var h=i.createEl(c,s.msrc?"img":"");s.msrc&&(h.src=s.msrc),dn(s,h),a.appendChild(h),s.placeholder=h}s.loading||hn(s),o.allowProgressiveImg()&&(!Zt&&L.transform?on.push({item:s,baseDiv:a,img:s.img,index:t,holder:e}):cn(t,s,a,s.img,!0,!0))}Zt||t!==f?Ie(s):(ie=a.style,nn(s,r||s.img)),e.el.innerHTML="",e.el.appendChild(a)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var mn,gn={},vn=function(e,t,n){var r=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};r.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(r)};Ee("Tap",{publicMethods:{initTap:function(){ke("firstTouchStart",o.onTapStart),ke("touchRelease",o.onTapRelease),ke("destroy",function(){gn={},mn=null})},onTapStart:function(e){e.length>1&&(clearTimeout(mn),mn=null)},onTapRelease:function(e,t){if(t&&!K&&!G&&!Qe){var n=t;if(mn&&(clearTimeout(mn),mn=null,xt(n,gn)))return void Pe("doubleTap",n);if("mouse"===t.type)return void vn(e,t,"mouse");var r=e.target.tagName.toUpperCase();if("BUTTON"===r||i.hasClass(e.target,"pswp__single-tap"))return void vn(e,t);Ne(gn,n),mn=setTimeout(function(){vn(e,t),mn=null},300)}}}});var yn;Ee("DesktopZoom",{publicMethods:{initDesktopZoom:function(){F||(M?ke("mouseUsed",function(){o.setupDesktopZoom()}):o.setupDesktopZoom(!0))},setupDesktopZoom:function(t){yn={};var n="wheel mousewheel DOMMouseScroll";ke("bindEvents",function(){i.bind(e,n,o.handleMouseWheel)}),ke("unbindEvents",function(){yn&&i.unbind(e,n,o.handleMouseWheel)}),o.mouseZoomedIn=!1;var r,s=function(){o.mouseZoomedIn&&(i.removeClass(e,"pswp--zoomed-in"),o.mouseZoomedIn=!1),y<1?i.addClass(e,"pswp--zoom-allowed"):i.removeClass(e,"pswp--zoom-allowed"),a()},a=function(){r&&(i.removeClass(e,"pswp--dragging"),r=!1)};ke("resize",s),ke("afterChange",s),ke("pointerDown",function(){o.mouseZoomedIn&&(r=!0,i.addClass(e,"pswp--dragging"))}),ke("pointerUp",a),t||s()},handleMouseWheel:function(e){if(y<=o.currItem.fitRatio)return u.modal&&(!u.closeOnScroll||Qe||W?e.preventDefault():O&&Math.abs(e.deltaY)>2&&(h=!0,o.close())),!0;if(e.stopPropagation(),yn.x=0,"deltaX"in e)1===e.deltaMode?(yn.x=18*e.deltaX,yn.y=18*e.deltaY):(yn.x=e.deltaX,yn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(yn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?yn.y=-.16*e.wheelDeltaY:yn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;yn.y=e.detail}Ye(y,!0);var t=me.x-yn.x,n=me.y-yn.y;(u.modal||t<=re.min.x&&t>=re.max.x&&n<=re.min.y&&n>=re.max.y)&&e.preventDefault(),o.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:ge.x/2+ye.x,y:ge.y/2+ye.y};var n=u.getDoubleTapZoom(!0,o.currItem),r=y===n;o.mouseZoomedIn=!r,o.zoomTo(r?o.currItem.initialZoomLevel:n,t,333),i[(r?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var _n,bn,wn,Sn,xn,Tn,En,qn,Cn,kn,Pn,On,An={history:!0,galleryUID:1},Mn=function(){return Pn.hash.substring(1)},jn=function(){_n&&clearTimeout(_n),wn&&clearTimeout(wn)},In=function(){var e=Mn(),t={};if(e.length<5)return t;var n,r=e.split("&");for(n=0;n<r.length;n++)if(r[n]){var i=r[n].split("=");i.length<2||(t[i[0]]=i[1])}if(u.galleryPIDs){var o=t.pid;for(t.pid=0,n=0;n<Kt.length;n++)if(Kt[n].pid===o){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Rn=function(){if(wn&&clearTimeout(wn),Qe||W)return void(wn=setTimeout(Rn,500));Sn?clearTimeout(bn):Sn=!0;var e=f+1,t=Qt(f);t.hasOwnProperty("pid")&&(e=t.pid);var n=En+"&gid="+u.galleryUID+"&pid="+e;qn||Pn.hash.indexOf(n)===-1&&(kn=!0);var r=Pn.href.split("#")[0]+"#"+n;On?"#"+n!==window.location.hash&&history[qn?"replaceState":"pushState"]("",document.title,r):qn?Pn.replace(r):Pn.hash=n,qn=!0,bn=setTimeout(function(){Sn=!1},60)};Ee("History",{publicMethods:{initHistory:function(){if(i.extend(u,An,!0),u.history){Pn=window.location,kn=!1,Cn=!1,qn=!1,En=Mn(),On="pushState"in history,En.indexOf("gid=")>-1&&(En=En.split("&gid=")[0],En=En.split("?gid=")[0]),ke("afterChange",o.updateURL),ke("unbindEvents",function(){i.unbind(window,"hashchange",o.onHashChange)});var e=function(){Tn=!0,Cn||(kn?history.back():En?Pn.hash=En:On?history.pushState("",document.title,Pn.pathname+Pn.search):Pn.hash=""),jn()};ke("unbindEvents",function(){h&&e()}),ke("destroy",function(){Tn||e()}),ke("firstUpdate",function(){f=In().pid});var t=En.indexOf("pid=");t>-1&&(En=En.substring(0,t),"&"===En.slice(-1)&&(En=En.slice(0,-1))),setTimeout(function(){l&&i.bind(window,"hashchange",o.onHashChange)},40)}},onHashChange:function(){return Mn()===En?(Cn=!0,void o.close()):void(Sn||(xn=!0,o.goTo(In().pid),xn=!1))},updateURL:function(){jn(),xn||(qn?_n=setTimeout(Rn,800):Rn())}}}),i.extend(o,it)};return e}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var n,r,i,o,s,a,u,l,c,h,f,d,p,m,g,v,y,_,b,w=this,S=!1,x=!0,T=!0,E={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",
url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},q=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!c&&D();for(var n,r,i=e.target||e.srcElement,o=i.getAttribute("class")||"",s=0;s<Y.length;s++)n=Y[s],n.onTap&&o.indexOf("pswp__"+n.name)>-1&&(n.onTap(),r=!0);if(r){e.stopPropagation&&e.stopPropagation(),v=!0;var a=t.features.isOldAndroid?600:30;y=setTimeout(function(){v=!1},a)}},C=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},k=function(e,n,r){t[(r?"add":"remove")+"Class"](e,"pswp__"+n)},P=function(){var e=1===g.getNumItemsFn();e!==m&&(k(r,"ui--one-slide",e),m=e)},O=function(){k(u,"share-modal--hidden",T)},A=function(){return T=!T,T?(t.removeClass(u,"pswp__share-modal--fade-in"),setTimeout(function(){T&&O()},300)):(O(),setTimeout(function(){T||t.addClass(u,"pswp__share-modal--fade-in")},30)),T||j(),!1},M=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),T||A(),!1))},j=function(){for(var e,t,n,r,i,o="",s=0;s<g.shareButtons.length;s++)e=g.shareButtons[s],n=g.getImageURLForShare(e),r=g.getPageURLForShare(e),i=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(r)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(i)),o+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(o=g.parseShareButtonOut(e,o));u.children[0].innerHTML=o,u.children[0].onclick=M},I=function(e){for(var n=0;n<g.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+g.closeElClasses[n]))return!0},R=0,D=function(){clearTimeout(b),R=0,c&&w.setIdle(!1)},F=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout(function(){w.setIdle(!0)},g.timeToIdleOutside))},N=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(t.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},L=function(){g.preloaderEl&&(U(!0),h("beforeChange",function(){clearTimeout(p),p=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&U(!1):U(!0)},g.loadingIndicatorDelay)}),h("imageLoadComplete",function(t,n){e.currItem===n&&U(!0)}))},U=function(e){d!==e&&(k(f,"preloader--active",!e),d=e)},B=function(e){var n=e.vGap;if(C()){var s=g.barsSize;if(g.captionEl&&"auto"===s.bottom)if(o||(o=t.createEl("pswp__caption pswp__caption--fake"),o.appendChild(t.createEl("pswp__caption__center")),r.insertBefore(o,i),t.addClass(r,"pswp__ui--fit")),g.addCaptionHTMLFn(e,o,!0)){var a=o.clientHeight;n.bottom=parseInt(a,10)||44}else n.bottom=s.top;else n.bottom="auto"===s.bottom?0:s.bottom;n.top=s.top}else n.top=n.bottom=0},H=function(){g.timeToIdle&&h("mouseUsed",function(){t.bind(document,"mousemove",D),t.bind(document,"mouseout",F),_=setInterval(function(){R++,2===R&&w.setIdle(!0)},g.timeToIdle/2)})},z=function(){h("onVerticalDrag",function(e){x&&e<.95?w.hideControls():!x&&e>=.95&&w.showControls()});var e;h("onPinchClose",function(t){x&&t<.9?(w.hideControls(),e=!0):e&&!x&&t>.9&&w.showControls()}),h("zoomGestureEnded",function(){e=!1,e&&!x&&w.showControls()})},Y=[{name:"caption",option:"captionEl",onInit:function(e){i=e}},{name:"share-modal",option:"shareEl",onInit:function(e){u=e},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(e){a=e},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){s=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){f=e}}],V=function(){var e,n,i,o=function(r){if(r)for(var o=r.length,s=0;s<o;s++){e=r[s],n=e.className;for(var a=0;a<Y.length;a++)i=Y[a],n.indexOf("pswp__"+i.name)>-1&&(g[i.option]?(t.removeClass(e,"pswp__element--disabled"),i.onInit&&i.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};o(r.children);var s=t.getChildByClass(r,"pswp__top-bar");s&&o(s.children)};w.init=function(){t.extend(e.options,E,!0),g=e.options,r=t.getChildByClass(e.scrollWrap,"pswp__ui"),h=e.listen,z(),h("beforeChange",w.update),h("doubleTap",function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),h("preventDragEvent",function(e,t,n){var r=e.target||e.srcElement;r&&r.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(r.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(r.tagName))&&(n.prevent=!1)}),h("bindEvents",function(){t.bind(r,"pswpTap click",q),t.bind(e.scrollWrap,"pswpTap",w.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",w.onMouseOver)}),h("unbindEvents",function(){T||A(),_&&clearInterval(_),t.unbind(document,"mouseout",F),t.unbind(document,"mousemove",D),t.unbind(r,"pswpTap click",q),t.unbind(e.scrollWrap,"pswpTap",w.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",w.onMouseOver),n&&(t.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),h("destroy",function(){g.captionEl&&(o&&r.removeChild(o),t.removeClass(i,"pswp__caption--empty")),u&&(u.children[0].onclick=null),t.removeClass(r,"pswp__ui--over-close"),t.addClass(r,"pswp__ui--hidden"),w.setIdle(!1)}),g.showAnimationDuration||t.removeClass(r,"pswp__ui--hidden"),h("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(r,"pswp__ui--hidden")}),h("initialZoomOut",function(){t.addClass(r,"pswp__ui--hidden")}),h("parseVerticalMargin",B),V(),g.shareEl&&a&&u&&(T=!0),P(),H(),N(),L()},w.setIdle=function(e){c=e,k(r,"ui--idle",e)},w.update=function(){x&&e.currItem?(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,i),k(i,"caption--empty",!e.currItem.title)),S=!0):S=!1,T||A(),P()},w.updateFullscreen=function(r){r&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(s.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(n){n=n||window.event;var r=n.target||n.srcElement;if(!v)if(n.detail&&"mouse"===n.detail.pointerType){if(I(r))return void e.close();t.hasClass(r,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(g.tapToToggleControls&&(x?w.hideControls():w.showControls()),g.tapToClose&&(t.hasClass(r,"pswp__img")||I(r)))return void e.close()},w.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;k(r,"ui--over-close",I(t))},w.hideControls=function(){t.addClass(r,"pswp__ui--hidden"),x=!1},w.showControls=function(){x=!0,S||w.update(),t.removeClass(r,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var t,n=document.documentElement,r="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:r}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+r}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+r}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return l=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=l,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojs=e()}}(function(){var e;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(2),u=r(a),l=e(5),c=r(l),h=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){this.player_.play();var t=this.player_.getChild("controlBar"),n=t&&t.getChild("playToggle");return n?void this.setTimeout(function(){n.focus()},1):void this.player_.focus()},t}(u["default"]);h.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",h),n["default"]=h},{2:2,5:5}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(3),u=r(a),l=e(5),c=r(l),h=e(86),f=r(h),d=e(88),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=(0,d.assign)({className:this.buildCSSClass()},t),"button"!==e&&(f["default"].warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=(0,d.assign)({tabIndex:0},t),n=(0,d.assign)({role:"button"},n)),n=(0,d.assign)({type:"button","aria-live":"polite"},n);var r=c["default"].prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return f["default"].warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(u["default"]);c["default"].registerComponent("Button",p),n["default"]=p},{3:3,5:5,86:86,88:88}],3:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(82),d=r(f),p=e(83),m=r(p),g=e(86),v=i(g),y=e(94),_=i(y),b=e(88),w=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return a(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&v["default"].error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=(0,b.assign)({role:"button","aria-live":"polite"},r),this.tabIndex_=n.tabIndex;var i=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=h.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=n,this.nonIconControl||t.setAttribute("title",n),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("tap",this.handleClick),this.off("click",this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){d.on(_["default"],"keydown",m.bind(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){d.off(_["default"],"keydown",m.bind(this,this.handleKeyPress))},t}(l["default"]);l["default"].registerComponent("ClickableComponent",w),n["default"]=w},{5:5,81:81,82:82,83:83,86:86,88:88,94:94}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(2),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return s.controlText(r&&r.controlText||s.localize("Close")),s}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(u["default"]);c["default"].registerComponent("CloseButton",h),n["default"]=h},{2:2,5:5}],5:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e(95),a=i(s),u=e(81),l=r(u),c=e(83),h=r(c),f=e(85),d=r(f),p=e(82),m=r(p),g=e(86),v=i(g),y=e(91),_=i(y),b=e(87),w=i(b),S=function(){function e(t,n,r){if(o(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=(0,w["default"])({},this.options_),n=this.options_=(0,w["default"])(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+d.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),l.removeElData(this.el_),this.el_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=(0,w["default"])(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return l.createEl(e,t,n)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!t||!n)return e;var r=n[t];if(r&&r[e])return r[e];var i=t.split("-")[0],o=n[i];return o&&o[e]?o[e]:e},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=(0,_["default"])(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=(0,_["default"])(t),n||(n={}),n===!0&&(v["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var s=n.componentClass||o;n.name=o;var a=e.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;i=new a(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&(0,_["default"])(i.name()),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=function(e){var n=e.name,i=e.opts;if(void 0!==r[n]&&(i=r[n]),i!==!1){i===!0&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,s=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||(0,_["default"])(t.name));return n&&!s.isTech(n)}).forEach(i)}},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,n){var r=this;if("string"==typeof e||Array.isArray(e))m.on(this.el_,e,h.bind(this,t));else{var i=e,o=t,s=h.bind(this,n),a=function(){return r.off(i,o,s)};a.guid=s.guid,this.on("dispose",a);var u=function(){return r.off("dispose",a)};u.guid=s.guid,e.nodeName?(m.on(i,o,s),m.on(i,"dispose",u)):"function"==typeof e.on&&(i.on(o,s),i.on("dispose",u))}return this},e.prototype.off=function(e,t,n){if(!e||"string"==typeof e||Array.isArray(e))m.off(this.el_,e,t);else{var r=e,i=t,o=h.bind(this,n);this.off("dispose",o),e.nodeName?(m.off(r,i,o),m.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},e.prototype.one=function(e,t,n){var r=this,i=arguments;if("string"==typeof e||Array.isArray(e))m.one(this.el_,e,h.bind(this,t));else{var o=e,s=t,a=h.bind(this,n),u=function l(){r.off(o,s,l),a.apply(null,i)};u.guid=a.guid,this.on(o,s,u)}return this},e.prototype.trigger=function(e,t){return m.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return l.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return l.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return l.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return l.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return l.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return l.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.getAttribute=function(e){return l.getAttribute(this.el_,e)},e.prototype.setAttribute=function(e,t){return l.setAttribute(this.el_,e,t),this},e.prototype.removeAttribute=function(e){return l.removeAttribute(this.el_,e),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return i!==-1?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+(0,_["default"])(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof a["default"].getComputedStyle){var n=a["default"].getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(t=parseFloat(t),0===t){var r="offset"+(0,_["default"])(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY,s=Math.sqrt(r*r+o*o);s>n&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){if(t=null,i===!0){var o=(new Date).getTime()-e;o<r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=h.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=h.bind(this,e);var n=a["default"].setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){a["default"].clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=h.bind(this,e);var n=a["default"].setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){a["default"].clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,n){if(t){if(t=(0,_["default"])(t),e.components_||(e.components_={}),"Player"===t&&e.components_[t]){var r=e.components_[t];if(r.players&&Object.keys(r.players).length>0&&Object.keys(r.players).map(function(e){return r.players[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return e.components_[t]=n,n}},e.getComponent=function(t){if(t)return t=(0,_["default"])(t),e.components_&&e.components_[t]?e.components_[t]:a["default"]&&a["default"].videojs&&a["default"].videojs[t]?(v["default"].warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),a["default"].videojs[t]):void 0},e.extend=function(t){t=t||{},v["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var n=t.init||t.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};r.prototype=Object.create(this.prototype),r.prototype.constructor=r,r.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(r.prototype[i]=t[i]);return r},e}();S.registerComponent("Component",S),n["default"]=S},{81:81,82:82,83:83,85:85,86:86,87:87,91:91,95:95}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(36),u=r(a),l=e(5),c=r(l),h=e(7),f=r(h),d=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),r.tracks=n.audioTracks&&n.audioTracks();var s=o(this,e.call(this,n,r));return s.el_.setAttribute("aria-label","Audio Menu"),s}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];e.push(new f["default"](this.player_,{track:r,selectable:!0}))}return e},t}(u["default"]);d.prototype.controlText_="Audio Track",c["default"].registerComponent("AudioTrackButton",d),n["default"]=d},{36:36,5:5,7:7}],7:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(48),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=function(e){function t(n,r){o(this,t);var i=r.track,a=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var u=s(this,e.call(this,n,r));if(u.track=i,a){var l=d.bind(u,u.handleTracksChange);a.addEventListener("change",l),u.on("dispose",function(){a.removeEventListener("change",l)})}return u}return a(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(l["default"]);h["default"].registerComponent("AudioTrackMenuItem",p),n["default"]=p},{48:48,5:5,83:83}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a);e(12),e(32),e(33),e(35),e(34),e(10),e(18),e(9),e(38),e(40),e(11),e(25),e(27),e(29),e(24),e(6),e(13),e(21);var l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(u["default"]);l.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},u["default"].registerComponent("ControlBar",l),n["default"]=l},{10:10,11:11,12:12,13:13,18:18,21:21,24:24,25:25,27:27,29:29,32:32,33:33,34:34,35:35,38:38,40:40,5:5,6:6,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(2),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return s.on(n,"fullscreenchange",s.handleFullscreenChange),s}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(u["default"]);h.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",h),n["default"]=h},{2:2,5:5}],10:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(l["default"]);l["default"].registerComponent("LiveDisplay",f),n["default"]=f},{5:5,81:81}],11:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(2),l=i(u),c=e(5),h=i(c),f=e(81),d=r(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"volumechange",i.update),n.tech_&&n.tech_.featuresVolumeControl===!1&&i.addClass("vjs-hidden"),i.on(n,"loadstart",function(){this.update(),n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),i}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){var t=this.player_.volume(),n=3;0===t||this.player_.muted()?n=0:t<.33?n=1:t<.67&&(n=2);var r=this.player_.muted()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r);for(var i=0;i<4;i++)d.removeElClass(this.el_,"vjs-vol-"+i);d.addElClass(this.el_,"vjs-vol-"+n)},t}(l["default"]);p.prototype.controlText_="Mute",h["default"].registerComponent("MuteToggle",p),n["default"]=p},{2:2,5:5,81:81}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(2),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return s.on(n,"play",s.handlePlay),s.on(n,"pause",s.handlePause),s}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(e){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t}(u["default"]);h.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",h),n["default"]=h},{2:2,5:5}],13:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(47),l=i(u),c=e(49),h=i(c),f=e(14),d=i(f),p=e(5),m=i(p),g=e(81),v=r(g),y=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new h["default"](this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new d["default"](this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],i=0;i<n.length;i++)if(n[i]>t){r=n[i];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(l["default"]);y.prototype.controlText_="Playback Rate",m["default"].registerComponent("PlaybackRateMenuButton",y),n["default"]=y},{14:14,47:47,49:49,5:5,81:81}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(48),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t);var s=r.rate,a=parseFloat(s,10);r.label=s,r.selected=1===a,r.selectable=!0;var u=o(this,e.call(this,n,r));return u.label=s,u.rate=a,u.on(n,"ratechange",u.update),u}return s(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(u["default"]);h.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",h),n["default"]=h},{48:48,5:5}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),i=this.partEls_,o=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=o(r,n);for(var s=0;s<t.length;s++){var a=t.start(s),u=t.end(s),l=i[s];l||(l=this.el_.appendChild(h.createEl()),i[s]=l),l.style.left=o(a,r),l.style.width=o(u-a,r)}for(var c=i.length;c>t.length;c--)this.el_.removeChild(i[c-1]);i.length=t.length},t}(l["default"]);l["default"].registerComponent("LoadProgressBar",f),n["default"]=f},{5:5,81:81}],16:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(83),d=r(f),p=e(84),m=i(p),g=e(80),v=i(g),y=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltip=h.createEl("div",{className:"vjs-time-tooltip"}),i.el().appendChild(i.tooltip),i.addClass("vjs-keep-tooltips-inside")),i.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",d.throttle(d.bind(i,i.handleMouseMove),25))}),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),n=this.calculateDistance(e)*t,r=e.pageX-h.findElPosition(this.el().parentNode).left;this.update(n,r)},t.prototype.update=function(e,t){var n=(0,m["default"])(e,this.player_.duration());if(this.el().style.left=t+"px",this.el().setAttribute("data-current-time",n),this.keepTooltipsInside){var r=this.clampPosition_(t),i=t-r+1,o=parseFloat((0,v["default"])(this.tooltip,"width")),s=o/2;this.tooltip.innerHTML=n,this.tooltip.style.right="-"+(s-i)+"px"}},t.prototype.calculateDistance=function(e){return h.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat((0,v["default"])(this.player().el(),"width")),n=parseFloat((0,v["default"])(this.tooltip,"width")),r=n/2,i=e;return e<r?i=Math.ceil(r):e>t-r&&(i=Math.floor(t-r)),i},t}(l["default"]);l["default"].registerComponent("MouseTimeDisplay",y),n["default"]=y},{5:5,80:80,81:81,83:83,84:84}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(83),h=r(c),f=e(84),d=i(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(h.bind(i,i.updateDataAttr)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&i.addClass("vjs-keep-tooltips-inside"),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d["default"])(t,this.player_.duration()))},t}(l["default"]);l["default"].registerComponent("PlayProgressBar",p),n["default"]=p},{5:5,83:83,84:84}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a);e(19),e(16);var l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t}(u["default"]);l.prototype.options_={children:["seekBar"]},u["default"].registerComponent("ProgressControl",l),n["default"]=l},{16:16,19:19,5:5}],19:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(57),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=e(84),m=i(p),g=e(80),v=i(g);e(15),e(17),e(20);var y=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateProgress),i.on(n,"ended",i.updateProgress),n.ready(d.bind(i,i.updateProgress)),r.playerOptions&&r.playerOptions.controlBar&&r.playerOptions.controlBar.progressControl&&r.playerOptions.controlBar.progressControl.keepTooltipsInside&&(i.keepTooltipsInside=r.playerOptions.controlBar.progressControl.keepTooltipsInside),i.keepTooltipsInside&&(i.tooltipProgressBar=i.addChild("TooltipProgressBar")),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.updateProgress=function(e){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var t=parseFloat((0,v["default"])(this.player().el(),"width")),n=parseFloat((0,v["default"])(this.tooltipProgressBar.tooltip,"width")),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(t-n/2)+"px",r.minWidth=Math.ceil(n/2)+"px",r.right="-"+n/2+"px"}},t.prototype.updateAriaAttributes=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),e.setAttribute("aria-valuetext",(0,m["default"])(t,this.player_.duration()))},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(l["default"]);y.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},y.prototype.playerEvent="timeupdate",h["default"].registerComponent("SeekBar",y),n["default"]=y},{15:15,17:17,20:20,5:5,57:57,80:80,83:83,84:84}],20:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(83),h=r(c),f=e(84),d=i(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.updateDataAttr(),i.on(n,"timeupdate",i.updateDataAttr),n.ready(h.bind(i,i.updateDataAttr)),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=(0,d["default"])(t,this.player_.duration());this.el_.setAttribute("data-current-time",n),this.tooltip.innerHTML=n},t}(l["default"]);l["default"].registerComponent("TooltipProgressBar",p),n["default"]=p},{5:5,83:83,84:84}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(22),u=r(a),l=e(5),c=r(l),h=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(u["default"]);c["default"].registerComponent("CustomControlSpacer",h),n["default"]=h},{22:22,5:5}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(u["default"]);u["default"].registerComponent("Spacer",l),n["default"]=l},{5:5}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(31),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1;var s=o(this,e.call(this,n,r));return s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+r.kind+" settings dialog"),s}return s(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(u["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",h),n["default"]=h},{31:31,5:5}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(30),u=r(a),l=e(5),c=r(l),h=e(23),f=r(h),d=function(e){function t(n,r,s){i(this,t);var a=o(this,e.call(this,n,r,s));return a.el_.setAttribute("aria-label","Captions Menu"),a}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new f["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(u["default"]);d.prototype.kind_="captions",d.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",d),n["default"]=d},{23:23,30:30,5:5}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(30),u=r(a),l=e(5),c=r(l),h=e(26),f=r(h),d=e(91),p=r(d),m=function(e){function t(n,r,s){i(this,t);var a=o(this,e.call(this,n,r,s));return a.el_.setAttribute("aria-label","Chapters Menu"),a}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,p["default"])(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new f["default"](this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(u["default"]);m.prototype.kind_="chapters",m.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",m),n["default"]=m},{26:26,30:30,5:5,91:91}],26:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(48),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=function(e){function t(n,r){o(this,t);var i=r.track,a=r.cue,u=n.currentTime();r.selectable=!0,r.label=a.text,r.selected=a.startTime<=u&&u<a.endTime;var l=s(this,e.call(this,n,r));return l.track=i,l.cue=a,i.addEventListener("cuechange",d.bind(l,l.update)),l}return a(t,e),
t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(l["default"]);h["default"].registerComponent("ChaptersTrackMenuItem",p),n["default"]=p},{48:48,5:5,83:83}],27:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(30),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=function(e){function t(n,r,i){o(this,t);var a=s(this,e.call(this,n,r,i));a.el_.setAttribute("aria-label","Descriptions Menu");var u=n.textTracks();if(u){var l=d.bind(a,a.handleTracksChange);u.addEventListener("change",l),a.on("dispose",function(){u.removeEventListener("change",l)})}return a}return a(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind!==this.kind_&&"showing"===o.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(l["default"]);p.prototype.kind_="descriptions",p.prototype.controlText_="Descriptions",h["default"].registerComponent("DescriptionsButton",p),n["default"]=p},{30:30,5:5,83:83}],28:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(31),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r){i(this,t),r.track={player:n,kind:r.kind,label:r.kind+" off","default":!1,mode:"disabled"},r.selectable=!0;var s=o(this,e.call(this,n,r));return s.selected(!0),s}return s(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,i=t.length;r<i;r++){var o=t[r];if(o.kind===this.track.kind&&"showing"===o.mode){n=!1;break}}this.selected(n)},t}(u["default"]);c["default"].registerComponent("OffTextTrackMenuItem",h),n["default"]=h},{31:31,5:5}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(30),u=r(a),l=e(5),c=r(l),h=function(e){function t(n,r,s){i(this,t);var a=o(this,e.call(this,n,r,s));return a.el_.setAttribute("aria-label","Subtitles Menu"),a}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);h.prototype.kind_="subtitles",h.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",h),n["default"]=h},{30:30,5:5}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(36),u=r(a),l=e(5),c=r(l),h=e(31),f=r(h),d=e(28),p=r(d),m=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,t),r.tracks=n.textTracks(),o(this,e.call(this,n,r))}return s(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.push(new p["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var t=this.player_.textTracks();if(!t)return e;for(var n=0;n<t.length;n++){var r=t[n];r.kind===this.kind_&&e.push(new f["default"](this.player_,{track:r,selectable:!0}))}return e},t}(u["default"]);c["default"].registerComponent("TextTrackButton",m),n["default"]=m},{28:28,31:31,36:36,5:5}],31:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=e(48),c=i(l),h=e(5),f=i(h),d=e(83),p=r(d),m=e(95),g=i(m),v=e(94),y=i(v),_=function(e){function t(n,r){o(this,t);var i=r.track,a=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i["default"]||"showing"===i.mode;var l=s(this,e.call(this,n,r));if(l.track=i,a){var c=p.bind(l,l.handleTracksChange);a.addEventListener("change",c),l.on("dispose",function(){a.removeEventListener("change",c)})}if(a&&void 0===a.onchange){var h=void 0;l.on(["tap","click"],function(){if("object"!==u(g["default"].Event))try{h=new g["default"].Event("change")}catch(e){}h||(h=y["default"].createEvent("Event"),h.initEvent("change",!0,!0)),a.dispatchEvent(h)})}return l}return a(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o===this.track?o.mode="showing":o.mode="disabled")}},t.prototype.handleTracksChange=function(e){this.selected("showing"===this.track.mode)},t}(c["default"]);f["default"].registerComponent("TextTrackMenuItem",_),n["default"]=_},{48:48,5:5,83:83,94:94,95:95}],32:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(84),d=i(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),n=this.localize("Current Time"),r=(0,d["default"])(t,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r)},t}(l["default"]);l["default"].registerComponent("CurrentTimeDisplay",p),n["default"]=p},{5:5,81:81,84:84}],33:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(84),d=i(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"durationchange",i.updateContent),i.on(n,"timeupdate",i.updateContent),i.on(n,"loadedmetadata",i.updateContent),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){var t=this.player_.duration();if(t&&this.duration_!==t){this.duration_=t;var n=this.localize("Duration Time"),r=(0,d["default"])(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+n+"</span> "+r}},t}(l["default"]);l["default"].registerComponent("DurationDisplay",p),n["default"]=p},{5:5,81:81,84:84}],34:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(84),d=i(f),p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"timeupdate",i.updateContent),i.on(n,"durationchange",i.updateContent),i}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(e){if(this.player_.duration()){var t=this.localize("Remaining Time"),n=(0,d["default"])(this.player_.remainingTime());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+n)}},t}(l["default"]);l["default"].registerComponent("RemainingTimeDisplay",p),n["default"]=p},{5:5,81:81,84:84}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(u["default"]);u["default"].registerComponent("TimeDivider",l),n["default"]=l},{5:5}],36:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(47),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=function(e){function t(n,r){o(this,t);var i=r.tracks,a=s(this,e.call(this,n,r));if(a.items.length<=1&&a.hide(),!i)return s(a);var u=d.bind(a,a.update);return i.addEventListener("removetrack",u),i.addEventListener("addtrack",u),a.player_.on("dispose",function(){i.removeEventListener("removetrack",u),i.removeEventListener("addtrack",u)}),a}return a(t,e),t}(l["default"]);h["default"].registerComponent("TrackButton",p),n["default"]=p},{47:47,5:5,83:83}],37:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(57),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f);e(39);var p=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.on(n,"volumechange",i.updateARIAAttributes),n.ready(d.bind(i,i.updateARIAAttributes)),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t}(l["default"]);p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",h["default"].registerComponent("VolumeBar",p),n["default"]=p},{39:39,5:5,57:57,83:83}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a);e(37);var l=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return n.tech_&&n.tech_.featuresVolumeControl===!1&&s.addClass("vjs-hidden"),s.on(n,"loadstart",function(){n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),s}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(u["default"]);l.prototype.options_={children:["volumeBar"]},u["default"].registerComponent("VolumeControl",l),n["default"]=l},{37:37,5:5}],39:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(u["default"]);u["default"].registerComponent("VolumeLevel",l),n["default"]=l},{5:5}],40:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(83),l=i(u),c=e(5),h=r(c),f=e(54),d=r(f),p=e(53),m=r(p),g=e(11),v=r(g),y=e(37),_=r(y),b=function(e){function t(n){function r(){n.tech_&&n.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.inline?i.vertical=!1:i.vertical=!0),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical;var a=s(this,e.call(this,n,i));return a.on(n,"volumechange",a.volumeUpdate),a.on(n,"loadstart",a.volumeUpdate),r.call(a),a.on(n,"loadstart",r),a.on(a.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),a.on(a.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),a.on(a.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),a.on(a.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),a}return a(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new d["default"](this.player_,{contentElType:"div"}),t=new _["default"](this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(t){v["default"].prototype.handleClick.call(this),e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],l.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(e){this.on(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(e){this.off(["mousemove","touchmove"],l.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(m["default"]);b.prototype.volumeUpdate=v["default"].prototype.update,b.prototype.controlText_="Mute",h["default"].registerComponent("VolumeMenuButton",b),n["default"]=b},{11:11,37:37,5:5,53:53,54:54,83:83}],41:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=e(50),c=r(l),h=e(87),f=r(h),d=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return s.on(n,"error",s.open),s}return s(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(c["default"]);d.prototype.options_=(0,f["default"])(c["default"].prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),u["default"].registerComponent("ErrorDisplay",d),n["default"]=d},{5:5,50:50,87:87}],42:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0;var i=e(82),o=r(i),s=function(){};s.prototype.allowedEvents_={},s.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.on(this,e,t),this.addEventListener=n},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(e,t){o.off(this,e,t)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},o.one(this,e,t),this.addEventListener=n},s.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=o.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),o.trigger(this,e)},s.prototype.dispatchEvent=s.prototype.trigger,n["default"]=s},{82:82}],43:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e(86),s=r(o),a=e(88),u=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":i(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};(0,a.isObject)(t)?("function"==typeof t.init&&(s["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),u(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};n["default"]=l},{86:86,88:88}],44:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;for(var i=e(94),o=r(i),s={},a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=a[0],l=void 0,c=0;c<a.length;c++)if(a[c][1]in o["default"]){l=a[c];break}if(l)for(var h=0;h<l.length;h++)s[u[h]]=l[h];n["default"]=s},{94:94}],45:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return s(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(u["default"]);u["default"].registerComponent("LoadingSpinner",l),n["default"]=l},{5:5}],46:[function(e,t,n){"use strict";function r(e){return e instanceof r?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:(0,i.isObject)(e)&&("number"==typeof e.code&&(this.code=e.code),(0,i.assign)(this,e)),void(this.message||(this.message=r.defaultMessages[this.code]||"")))}n.__esModule=!0;var i=e(88);r.prototype.code=0,r.prototype.message="",r.prototype.status=null,r.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],r.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<r.errorTypes.length;o++)r[r.errorTypes[o]]=o,r.prototype[r.errorTypes[o]]=o;n["default"]=r},{88:88}],47:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(3),l=i(u),c=e(5),h=i(c),f=e(49),d=i(f),p=e(81),m=r(p),g=e(83),v=r(g),y=e(91),_=i(y),b=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t);var i=s(this,e.call(this,n,r));return i.update(),i.enabled_=!0,i.el_.setAttribute("aria-haspopup","true"),i.el_.setAttribute("role","menuitem"),i.on("keydown",i.handleSubmenuKeyPress),i}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new d["default"](this.player_);if(this.hideThreshold_=0,this.options_.title){var t=m.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_["default"])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),m.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",v.bind(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),
t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t}(l["default"]);h["default"].registerComponent("MenuButton",b),n["default"]=b},{3:3,49:49,5:5,81:81,83:83,91:91}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(3),u=r(a),l=e(5),c=r(l),h=e(88),f=function(e){function t(n,r){i(this,t);var s=o(this,e.call(this,n,r));return s.selectable=r.selectable,s.selected(r.selected),s.selectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitem"),s}return s(t,e),t.prototype.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",(0,h.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(u["default"]);c["default"].registerComponent("MenuItem",f),n["default"]=f},{3:3,5:5,88:88}],49:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(83),d=r(f),p=e(82),m=r(p),g=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(e){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=h.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.setAttribute("role","presentation"),n.appendChild(this.contentEl_),m.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(l["default"]);l["default"].registerComponent("Menu",g),n["default"]=g},{5:5,81:81,82:82,83:83}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(81),l=i(u),c=e(83),h=i(c),f=e(5),d=r(f),p="vjs-modal-dialog",m=27,g=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=l.createEl("div",{className:p+"-content"},{role:"document"}),i.descEl_=l.createEl("p",{className:p+"-description vjs-offscreen",id:i.el().getAttribute("aria-describedby")}),l.textContent(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return p+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===m&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",h.bind(this,this.handleKeyPress)),e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",h.bind(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function n(e){if("boolean"==typeof e){var n=this.closeable_=!!e,t=this.getChild("closeButton");if(n&&!t){var r=this.contentEl_;this.contentEl_=this.el_,t=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(t,"close",this.close)}!n&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),l.insertContent(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),l.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t}(d["default"]);g.prototype.options_={temporary:!0},d["default"].registerComponent("ModalDialog",g),n["default"]=g},{5:5,81:81,83:83}],51:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(94),h=i(c),f=e(95),d=i(f),p=e(82),m=r(p),g=e(81),v=r(g),y=e(83),_=r(y),b=e(85),w=r(b),S=e(78),x=r(S),T=e(86),E=i(T),q=e(91),C=i(q),k=e(90),P=e(79),O=e(89),A=r(O),M=e(44),j=i(M),I=e(46),R=i(I),D=e(97),F=i(D),N=e(88),L=e(87),U=i(L),B=e(69),H=i(B),z=e(50),Y=i(z),V=e(62),X=i(V),W=e(63),G=i(W),$=e(76),K=i($);e(61),e(59),e(55),e(68),e(45),e(1),e(4),e(8),e(41),e(71),e(60);var Z=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],J=function(e){function t(n,r,i){if(o(this,t),n.id=n.id||"vjs_video_"+w.newGUID(),r=(0,N.assign)(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&(r.language=a.getAttribute("lang"))}else for(var u=n;u&&1===u.nodeType;){if(v.getElAttributes(u).hasOwnProperty("lang")){r.language=u.getAttribute("lang");break}u=u.parentNode}var l=s(this,e.call(this,null,r,i));if(!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=n,l.tagAttributes=n&&v.getElAttributes(n),l.language(l.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach(function(e){c[e.toLowerCase()]=r.languages[e]}),l.languages_=c}else l.languages_=t.prototype.options_.languages;l.cache_={},l.poster_=r.poster||"",l.controls_=!!r.controls,n.controls=!1,l.scrubbing_=!1,l.el_=l.createEl();var h=(0,U["default"])(l.options_);if(r.plugins){var f=r.plugins;Object.getOwnPropertyNames(f).forEach(function(e){"function"==typeof this[e]?this[e](f[e]):E["default"].error("Unable to find plugin:",e)},l)}return l.options_.playerOptions=h,l.initChildren(),l.isAudio("audio"===n.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label","audio player"):l.el_.setAttribute("aria-label","video player"),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),x.IS_IOS||l.addClass("vjs-workinghover"),t.players[l.id_]=l,l.userActive(!0),l.reportUserActivity(),l.listenForUserActivity_(),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l}return a(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=r?this.el_=t.parentNode:this.el_=e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=v.getElAttributes(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),d["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=A.createStyleElement("vjs-styles-dimensions");var o=v.$(".vjs-styles-defaults"),s=v.$("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=t.getElementsByTagName("a"),u=0;u<a.length;u++){var l=a.item(u);v.addElClass(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),v.insertElFirst(t,n),this.children_.unshift(t),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)this[n]=void 0;else{var r=parseFloat(t);if(isNaN(r))return E["default"].error('Improper value "'+t+'" supplied for for '+e),this;this[n]=r}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(d["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,s=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var a=o.split(":"),u=a[1]/a[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/u:this.videoWidth()||300,i=void 0!==this.height_?this.height_:r*u,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),A.setTextContent(this.styleEl_,"\n      ."+s+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_(),"Html5"!==e&&this.tag&&(X["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=(0,N.assign)({source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+e+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[e.toLowerCase()]);this.tag&&(r.tag=this.tag),t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src);var i=X["default"].getTech(e);i||(i=l["default"].getComponent(e)),this.tech_=new i(r),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),H["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),Z.forEach(function(e){n.on(n.tech_,e,n["handleTech"+(0,C["default"])(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||v.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=H["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw d["default"].alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){(0,E["default"])("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(E["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(n){throw(0,E["default"])(n),n}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?(0,E["default"])("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?((0,E["default"])("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):(0,E["default"])(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){return void 0!==e?(this.techCall_("setCurrentTime",e),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(e=parseFloat(e)||0,e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function n(){var n=this.techGet_("buffered");return n&&n.length||(n=(0,k.createTimeRange)(0,0)),n},t.prototype.bufferedPercent=function(){return(0,P.bufferedPercent)(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(this.techCall_("setMuted",e),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=j["default"];return this.isFullscreen(!0),e.requestFullscreen?(m.on(h["default"],e.fullscreenchange,_.bind(this,function t(n){this.isFullscreen(h["default"][e.fullscreenElement]),this.isFullscreen()===!1&&m.off(h["default"],e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=j["default"];return this.isFullscreen(!1),e.requestFullscreen?h["default"][e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=h["default"].documentElement.style.overflow,m.on(h["default"],"keydown",_.bind(this,this.fullWindowOnEscKey)),h["default"].documentElement.style.overflow="hidden",v.addElClass(h["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,m.off(h["default"],"keydown",this.fullWindowOnEscKey),h["default"].documentElement.style.overflow=this.docOrigOverflow,v.removeElClass(h["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=(0,C["default"])(r[n]),o=X["default"].getTech(i);if(o||(o=l["default"].getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else E["default"].error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(C["default"]).map(function(e){return[e,X["default"].getTech(e)||l["default"].getComponent(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(E["default"].error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=void 0,o=function(e){return function(t,n){return e(n,t)}},s=function(e,n){var r=e[0],i=e[1];if(i.canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return i=this.options_.sourceOrder?r(e,n,o(s)):r(n,e,s),i||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=X["default"].getTech(this.techName_);return t||(t=l["default"].getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[this.techName_.toLowerCase()])?this.sourceList_([e]):(this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?(t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source),this.cache_.sources=e):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_((0,C["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){var e={},t=this.currentSrc();return t&&(e.src=t),this.cache_.source||e},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new R["default"](e),this.addClass("vjs-error"),E["default"].error("(CODE:"+this.error_.code+" "+R["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){return void 0!==e?(e=!!e,e!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=_.bind(this,this.reportUserActivity),i=function(e){
e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},s=function(t){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",s),this.on("keydown",r),this.on("keyup",r);var a=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var e=this.options_.inactivityTimeout;e>0&&(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new K["default"],this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new G["default"],this.audioTracks_)},t.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=String(e).toLowerCase(),this)},t.prototype.languages=function(){return(0,U["default"])(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=(0,U["default"])(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=(0,U["default"])(r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new Y["default"](this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=v.getElAttributes(e),r=n["data-setup"];if(v.hasElClass(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=(0,F["default"])(r||"{}"),o=i[0],s=i[1];o&&E["default"].error(o),(0,N.assign)(n,s)}if((0,N.assign)(t,n),e.hasChildNodes())for(var a=e.childNodes,u=0,l=a.length;u<l;u++){var c=a[u],h=c.nodeName.toLowerCase();"source"===h?t.sources.push(v.getElAttributes(c)):"track"===h&&t.tracks.push(v.getElAttributes(c))}return t},t.prototype.flexNotSupported_=function(){var e=h["default"].createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(l["default"]);J.players={};var Q=d["default"].navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Q&&(Q.languages&&Q.languages[0]||Q.userLanguage||Q.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){J.prototype[e]=function(){return this.techGet_(e)}}),Z.forEach(function(e){J.prototype["handleTech"+(0,C["default"])(e)+"_"]=function(){return this.trigger(e)}}),l["default"].registerComponent("Player",J),n["default"]=J},{1:1,4:4,41:41,44:44,45:45,46:46,5:5,50:50,55:55,59:59,60:60,61:61,62:62,63:63,68:68,69:69,71:71,76:76,78:78,79:79,8:8,81:81,82:82,83:83,85:85,86:86,87:87,88:88,89:89,90:90,91:91,94:94,95:95,97:97}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0;var i=e(51),o=r(i),s=function(e,t){o["default"].prototype[e]=t};n["default"]=s},{51:51}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(3),u=r(a),l=e(5),c=r(l),h=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t);var s=o(this,e.call(this,n,r));return s.update(),s}return s(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t}(u["default"]);c["default"].registerComponent("PopupButton",h),n["default"]=h},{3:3,5:5}],54:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(83),d=r(f),p=e(82),m=r(p),g=function(e){function t(){return o(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",d.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=h.createEl(t,{className:"vjs-menu-content"});var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),m.on(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t}(l["default"]);l["default"].registerComponent("Popup",g),n["default"]=g},{5:5,81:81,82:82,83:83}],55:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(3),l=i(u),c=e(5),h=i(c),f=e(83),d=r(f),p=e(81),m=r(p),g=e(78),v=r(g),y=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.update(),n.on("posterchange",d.bind(i,i.update)),i}return a(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=m.createEl("div",{className:"vjs-poster",tabIndex:-1});return v.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=m.createEl("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(l["default"]);h["default"].registerComponent("PosterImage",y),n["default"]=y},{3:3,5:5,78:78,81:81,83:83}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){t&&(m=t),d["default"].setTimeout(g,e)}n.__esModule=!0,n.hasLoaded=n.autoSetupTimeout=n.autoSetup=void 0;var s=e(81),a=i(s),u=e(82),l=i(u),c=e(94),h=r(c),f=e(95),d=r(f),p=!1,m=void 0,g=function(){if(a.isReal()){var e=h["default"].getElementsByTagName("video"),t=h["default"].getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var s=0,u=t.length;s<u;s++)n.push(t[s]);if(n&&n.length>0)for(var l=0,c=n.length;l<c;l++){var f=n[l];if(!f||!f.getAttribute){o(1);break}if(void 0===f.player){var d=f.getAttribute("data-setup");null!==d&&m(f)}}else p||o(1)}};a.isReal()&&"complete"===h["default"].readyState?p=!0:l.one(d["default"],"load",function(){p=!0});var v=function(){return p};n.autoSetup=g,n.autoSetupTimeout=o,n.hasLoaded=v},{81:81,82:82,94:94,95:95}],57:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(5),l=i(u),c=e(81),h=r(c),f=e(88),d=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.on(n,i.playerEvent,i.update),i}return a(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=(0,f.assign)({tabIndex:0},n),r=(0,f.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),h.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;h.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=n:t.el().style.width=n}}},t.prototype.calculateDistance=function(e){var t=h.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},t}(l["default"]);l["default"].registerComponent("Slider",d),n["default"]=d},{5:5,81:81,88:88}],58:[function(e,t,n){"use strict";function r(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var n=e.search(/&(?!\w+=)/),r=void 0;return n!==-1?r=n+1:(n=r=e.lastIndexOf("/")+1,0===n&&(n=r=e.length)),t.connection=e.substring(0,n),t.stream=e.substring(r,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t,n){var r=e.rtmpSourceHandler.canPlayType(t.type);return r?r:e.isStreamingSrc(t.src)?"maybe":""},e.rtmpSourceHandler.handleSource=function(t,n,r){var i=e.streamToParts(t.src);n.setRtmpConnection(i.connection),n.setRtmpStream(i.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e}n.__esModule=!0,n["default"]=r},{}],59:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.charAt(0).toUpperCase()+e.slice(1);q["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}function l(e){q[e]=function(){return this.el_.vjs_getProperty(e)}}n.__esModule=!0;for(var c=e(62),h=i(c),f=e(81),d=r(f),p=e(92),m=r(p),g=e(90),v=e(58),y=i(v),_=e(5),b=i(_),w=e(95),S=i(w),x=e(88),T=S["default"].navigator,E=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return n.source&&i.ready(function(){this.setSource(n.source)},!0),n.startTime&&i.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),S["default"].videojs=S["default"].videojs||{},S["default"].videojs.Flash=S["default"].videojs.Flash||{},S["default"].videojs.Flash.onReady=t.onReady,S["default"].videojs.Flash.onEvent=t.onEvent,S["default"].videojs.Flash.onError=t.onError,i.on("seeked",function(){this.lastSeekTarget_=void 0}),i}return a(t,e),t.prototype.createEl=function(){var e=this.options_;if(!e.swf){var n="5.3.0";e.swf="//vjs.zencdn.net/swf/"+n+"/video-js.swf"}var r=e.techId,i=(0,x.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),o=(0,x.assign)({wmode:"opaque",bgcolor:"#000000"},e.params),s=(0,x.assign)({id:r,name:r,"class":"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,i,o,s),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){var t=this;e=m.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()&&this.setTimeout(function(){return t.play()},0)},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var n=this.seekable();n.length&&(t=t>n.start(0)?t:n.start(0),t=t<n.end(n.length-1)?t:n.end(n.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function n(){if(0===this.readyState())return NaN;var n=this.el_.vjs_getProperty("duration");return n>=0?n:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?(0,g.createTimeRange)():(0,g.createTimeRange)(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?(0,g.createTimeRange)():(0,g.createTimeRange)(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(h["default"]),q=E.prototype,C="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),P=0;P<C.length;P++)l(C[P]),u(C[P]);for(var O=0;O<k.length;O++)l(k[O]);E.isSupported=function(){return E.version()[0]>=10},h["default"].withSourceHandlers(E),E.nativeSourceHandler={},E.nativeSourceHandler.canPlayType=function(e){return e in E.formats?"maybe":""},E.nativeSourceHandler.canHandleSource=function(e,t){function n(e){var t=m.getFileExtension(e);return t?"video/"+t:""}var r=void 0;return r=e.type?e.type.replace(/;.*/,"").toLowerCase():n(e.src),E.nativeSourceHandler.canPlayType(r)},E.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},E.nativeSourceHandler.dispose=function(){},E.registerSourceHandler(E.nativeSourceHandler),E.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},E.onReady=function(e){var t=d.getEl(e),n=t&&t.tech;n&&n.el()&&E.checkReady(n)},E.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){E.checkReady(e)},50))},E.onEvent=function(e,t){var n=d.getEl(e).tech,r=Array.prototype.slice.call(arguments,2);n.setTimeout(function(){n.trigger(t,r)},1)},E.onError=function(e,t){var n=d.getEl(e).tech;return"srcnotfound"===t?n.error(4):void n.error("FLASH: "+t)},E.version=function(){var e="0,0,0";try{e=new S["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(t){try{T.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(e=(T.plugins["Shockwave Flash 2.0"]||T.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(n){}}return e.split(",")},E.embed=function(e,t,n,r){var i=E.getEmbedCode(e,t,n,r),o=d.createEl("div",{innerHTML:i}).childNodes[0];return o},E.getEmbedCode=function(e,t,n,r){var i='<object type="application/x-shockwave-flash" ',o="",s="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){o+=e+"="+t[e]+"&amp;"}),n=(0,x.assign)({movie:e,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(e){s+='<param name="'+e+'" value="'+n[e]+'" />'}),r=(0,x.assign)({data:e,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(e){a+=e+'="'+r[e]+'" '}),""+i+a+">"+s+"</object>"},(0,y["default"])(E),b["default"].registerComponent("Flash",E),h["default"].registerTech("Flash",E),n["default"]=E},{5:5,58:58,62:62,81:81,88:88,90:90,92:92,95:95}],60:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),c=e(62),h=i(c),f=e(5),d=i(f),p=e(81),m=r(p),g=e(92),v=r(g),y=e(83),_=r(y),b=e(86),w=i(b),S=e(98),x=i(S),T=e(78),E=r(T),q=e(94),C=i(q),k=e(95),P=i(k),O=e(88),A=e(87),M=i(A),j=e(91),I=i(j),R=function(e){function t(n,r){s(this,t);var i=a(this,e.call(this,n,r)),o=n.source,u=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var c=i.el_.childNodes,h=c.length,f=[];h--;){var d=c[h],p=d.nodeName.toLowerCase();"track"===p&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(d),i.remoteTextTracks().addTrack_(d.track),u||i.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(d.src)||(u=!0)):f.push(d))}for(var m=0;m<f.length;m++)i.el_.removeChild(f[m])}var g=["audio","video"];return g.forEach(function(e){var t=i.el()[e+"Tracks"],n=i[e+"Tracks"](),r=(0,I["default"])(e);i["featuresNative"+r+"Tracks"]&&t&&t.addEventListener&&(i["handle"+r+"TrackChange_"]=function(e){n.trigger({type:"change",target:n,currentTarget:n,srcElement:n})},i["handle"+r+"TrackAdd_"]=function(e){return n.addTrack(e.track)},i["handle"+r+"TrackRemove_"]=function(e){return n.removeTrack(e.track)},t.addEventListener("change",i["handle"+r+"TrackChange_"]),t.addEventListener("addtrack",i["handle"+r+"TrackAdd_"]),t.addEventListener("removetrack",i["handle"+r+"TrackRemove_"]),i["removeOld"+r+"Tracks_"]=function(e){return i.removeOldTracks_(n,t)},i.on("loadstart",i["removeOld"+r+"Tracks_"]))}),i.featuresNativeTextTracks&&(u&&w["default"].warn((0,x["default"])(l)),i.handleTextTrackChange_=_.bind(i,i.handleTextTrackChange),i.handleTextTrackAdd_=_.bind(i,i.handleTextTrackAdd),i.handleTextTrackRemove_=_.bind(i,i.handleTextTrackRemove),i.proxyNativeTextTracks_()),(E.TOUCH_ENABLED||E.IS_IPHONE||E.IS_NATIVE_ANDROID)&&n.nativeControlsForTouch===!0&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return u(t,e),t.prototype.dispose=function(){var n=this;["audio","video","text"].forEach(function(e){var t=(0,I["default"])(e),r=n.el_[e+"Tracks"];r&&r.removeEventListener&&(r.removeEventListener("change",n["handle"+t+"TrackChange_"]),r.removeEventListener("addtrack",n["handle"+t+"TrackAdd_"]),r.removeEventListener("removetrack",n["handle"+t+"TrackRemove_"])),r&&n.off("loadstart",n["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=C["default"].createElement("video");var r=this.options_.tag&&m.getElAttributes(this.options_.tag),i=(0,M["default"])({},r);E.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete i.controls,m.setElAttributes(e,(0,O.assign)(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}for(var o=["autoplay","preload","loop","muted"],s=o.length-1;s>=0;s--){var a=o[s],u={};"undefined"!=typeof this.options_[a]&&(u[a]=this.options_[a]),m.setElAttributes(e,u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(e){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var n=[];if(t){for(var r=0;r<e.length;r++){for(var i=e[r],o=!1,s=0;s<t.length;s++)if(t[s]===i){o=!0;break}o||n.push(i)}for(var a=0;a<n.length;a++){var u=n[a];e.removeTrack_(u)}}},t.prototype.removeOldTextTracks_=function(e){var t=this.textTracks(),n=this.el().textTracks;this.removeOldTracks_(t,n)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){(0,w["default"])(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&E.IS_ANDROID&&E.IS_CHROME&&0===this.el_.currentTime){var t=function n(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",n))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0})};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=P["default"].navigator&&P["default"].navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=C["default"].createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t}(h["default"]);if(m.isReal()){R.TEST_VID=C["default"].createElement("video");var D=C["default"].createElement("track");D.kind="captions",D.srclang="en",D.label="English",R.TEST_VID.appendChild(D)}R.isSupported=function(){try{R.TEST_VID.volume=.5}catch(e){return!1}return!(!R.TEST_VID||!R.TEST_VID.canPlayType)},R.canControlVolume=function(){try{var e=R.TEST_VID.volume;return R.TEST_VID.volume=e/2+.1,e!==R.TEST_VID.volume}catch(t){return!1}},R.canControlPlaybackRate=function(){if(E.IS_ANDROID&&E.IS_CHROME)return!1;try{var e=R.TEST_VID.playbackRate;return R.TEST_VID.playbackRate=e/2+.1,e!==R.TEST_VID.playbackRate}catch(t){return!1}},R.supportsNativeTextTracks=function(){return E.IS_ANY_SAFARI},R.supportsNativeVideoTracks=function(){return!(!R.TEST_VID||!R.TEST_VID.videoTracks)},R.supportsNativeAudioTracks=function(){return!(!R.TEST_VID||!R.TEST_VID.audioTracks)},R.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],R.prototype.featuresVolumeControl=R.canControlVolume(),R.prototype.featuresPlaybackRate=R.canControlPlaybackRate(),R.prototype.movingMediaElementInDOM=!E.IS_IOS,R.prototype.featuresFullscreenResize=!0,R.prototype.featuresProgressEvents=!0,R.prototype.featuresTimeupdateEvents=!0,R.prototype.featuresNativeTextTracks=R.supportsNativeTextTracks(),R.prototype.featuresNativeVideoTracks=R.supportsNativeVideoTracks(),R.prototype.featuresNativeAudioTracks=R.supportsNativeAudioTracks();var F=R.TEST_VID&&R.TEST_VID.constructor.prototype.canPlayType,N=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,L=/^video\/mp4/i;R.patchCanPlayType=function(){E.ANDROID_VERSION>=4&&!E.IS_FIREFOX?R.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&N.test(e)?"maybe":F.call(this,e);
}:E.IS_OLD_ANDROID&&(R.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&L.test(e)?"maybe":F.call(this,e)})},R.unpatchCanPlayType=function(){var e=R.TEST_VID.constructor.prototype.canPlayType;return R.TEST_VID.constructor.prototype.canPlayType=F,e},R.patchCanPlayType(),R.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},R.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},["paused","currentTime","buffered","volume","muted","poster","preload","autoplay","controls","loop","error","seeking","seekable","ended","defaultMuted","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){R.prototype[e]=function(){return this.el_[e]}}),["volume","muted","src","poster","preload","autoplay","loop","playbackRate"].forEach(function(e){R.prototype["set"+(0,I["default"])(e)]=function(t){this.el_[e]=t}}),["pause","load"].forEach(function(e){R.prototype[e]=function(){return this.el_[e]()}}),h["default"].withSourceHandlers(R),R.nativeSourceHandler={},R.nativeSourceHandler.canPlayType=function(e){try{return R.TEST_VID.canPlayType(e)}catch(t){return""}},R.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return R.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=v.getFileExtension(e.src);return R.nativeSourceHandler.canPlayType("video/"+n)}return""},R.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},R.nativeSourceHandler.dispose=function(){},R.registerSourceHandler(R.nativeSourceHandler),d["default"].registerComponent("Html5",R),h["default"].registerTech("Html5",R),n["default"]=R},{5:5,62:62,78:78,81:81,83:83,86:86,87:87,88:88,91:91,92:92,94:94,95:95,98:98}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var a=e(5),u=r(a),l=e(62),c=r(l),h=e(91),f=r(h),d=function(e){function t(n,r,s){i(this,t);var a=o(this,e.call(this,n,r,s));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var l=0,h=r.playerOptions.techOrder;l<h.length;l++){var d=(0,f["default"])(h[l]),p=c["default"].getTech(d);if(d||(p=u["default"].getComponent(d)),p&&p.isSupported()){n.loadTech_(d);break}}return a}return s(t,e),t}(u["default"]);u["default"].registerComponent("MediaLoader",d),n["default"]=d},{5:5,62:62,91:91}],62:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var s=new y["default"](i);return o.addTrack_(s),s}n.__esModule=!0;var l=e(5),c=i(l),h=e(66),f=i(h),d=e(65),p=i(d),m=e(87),g=i(m),v=e(72),y=i(v),_=e(70),b=i(_),w=e(76),S=i(w),x=e(63),T=i(x),E=e(83),q=r(E),C=e(86),k=i(C),P=e(90),O=e(79),A=e(46),M=i(A),j=e(95),I=i(j),R=e(94),D=i(R),F=e(88),N=function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,n),e.reportTouchActivity=!1;var i=s(this,t.call(this,null,e,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),i.textTracks_=e.textTracks,i.videoTracks_=e.videoTracks,i.audioTracks_=e.audioTracks,i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){e["native"+t+"Tracks"]===!1&&(i["featuresNative"+t+"Tracks"]=!1)}),e.nativeCaptions===!1&&(i.featuresNativeTextTracks=!1),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new b["default"],i.initTextTrackListeners(),i.initTrackListeners(),e.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return a(n,t),n.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},n.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},n.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(q.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},n.prototype.onDurationChange=function(e){this.duration_=this.duration()},n.prototype.buffered=function(){return(0,P.createTimeRange)(0,0)},n.prototype.bufferedPercent=function(){return(0,O.bufferedPercent)(this.buffered(),this.duration_)},n.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},n.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},n.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},n.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},n.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},n.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack_(i)}})},n.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},n.prototype.reset=function(){},n.prototype.error=function(e){return void 0!==e&&(this.error_=new M["default"](e),this.trigger("error")),this.error_},n.prototype.played=function(){return this.hasStarted_?(0,P.createTimeRange)(0,0):(0,P.createTimeRange)()},n.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},n.prototype.initTextTrackListeners=function(){var e=q.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",q.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},n.prototype.initTrackListeners=function(){var e=this,t=["video","audio"];t.forEach(function(t){var n=function(){e.trigger(t+"trackchange")},r=e[t+"Tracks"]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),e.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},n.prototype.addWebVttScript_=function(){var t=this;if(!I["default"].WebVTT)if(D["default"].body.contains(this.el())){var n=e(105);if(!this.options_["vtt.js"]&&(0,F.isPlain)(n)&&Object.keys(n).length>0)return void this.trigger("vttjsloaded");var r=D["default"].createElement("script");r.src=this.options_["vtt.js"]||"https://cdn.rawgit.com/gkatsev/vtt.js/vjs-v0.12.1/dist/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),I["default"].WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},n.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){var n=this.remoteTextTracks(),r=function(e){return t.addTrack_(e.track)},i=function(e){return t.removeTrack_(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},s=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};s(),t.addEventListener("change",s),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",s);for(var e=0;e<t.length;e++){var a=t[e];a.removeEventListener("cuechange",o)}})}},n.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new S["default"],this.videoTracks_},n.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new T["default"],this.audioTracks_},n.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new b["default"],this.textTracks_},n.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new b["default"],this.remoteTextTracks_},n.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},n.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return u(this,e,t,n)},n.prototype.createRemoteTextTrack=function(e){var t=(0,g["default"])(e,{tech:this});return new f["default"](t)},n.prototype.addRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=this.createRemoteTextTrack(e);return t!==!0&&t!==!1&&(k["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack_(n.track),t!==!0&&this.autoRemoteTextTracks_.addTrack_(n.track),n},n.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e),this.autoRemoteTextTracks_.removeTrack_(e)},n.prototype.setPoster=function(){},n.prototype.canPlayType=function(){return""},n.isTech=function(e){return e.prototype instanceof n||e instanceof n||e===n},n.registerTech=function(e,t){if(n.techs_||(n.techs_={}),!n.isTech(t))throw new Error("Tech "+e+" must be a Tech");return n.techs_[e]=t,t},n.getTech=function(e){return n.techs_&&n.techs_[e]?n.techs_[e]:I["default"]&&I["default"].videojs&&I["default"].videojs[e]?(k["default"].warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),I["default"].videojs[e]):void 0},n}(c["default"]);N.prototype.textTracks_,N.prototype.audioTracks_,N.prototype.videoTracks_,N.prototype.featuresVolumeControl=!0,N.prototype.featuresFullscreenResize=!1,N.prototype.featuresPlaybackRate=!1,N.prototype.featuresProgressEvents=!1,N.prototype.featuresTimeupdateEvents=!1,N.prototype.featuresNativeTextTracks=!1,N.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=void 0,o=0;o<r.length;o++)if(i=r[o].canHandleSource(t,n))return r[o];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);return n||(e.nativeSourceHandler?n=e.nativeSourceHandler:k["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},c["default"].registerComponent("Tech",N),c["default"].registerComponent("MediaTechController",N),N.registerTech("Tech",N),n["default"]=N},{105:105,46:46,5:5,63:63,65:65,66:66,70:70,72:72,76:76,79:79,83:83,86:86,87:87,88:88,90:90,94:94,95:95}],63:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(74),l=i(u),c=e(78),h=r(c),f=e(94),d=i(f),p=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].enabled=!1)},m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var a=void 0,u=i.length-1;u>=0;u--)if(i[u].enabled){p(i,i[u]);break}if(h.IS_IE8){a=d["default"].createElement("custom");for(var c in l["default"].prototype)"constructor"!==c&&(a[c]=l["default"].prototype[c]);for(var f in t.prototype)"constructor"!==f&&(a[f]=t.prototype[f])}return a=n=s(this,e.call(this,i,a)),a.changing_=!1,r=a,s(n,r)}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.enabled&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,p(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=m},{74:74,78:78,94:94}],64:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(73),l=e(75),c=i(l),h=e(87),f=i(h),d=e(78),p=r(d),m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var a=(0,f["default"])(i,{kind:u.AudioTrackKind[i.kind]||""}),l=n=s(this,e.call(this,a)),c=!1;if(p.IS_IE8)for(var h in t.prototype)"constructor"!==h&&(l[h]=t.prototype[h]);return Object.defineProperty(l,"enabled",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("enabledchange"))}}),a.enabled&&(l.enabled=a.enabled),l.loaded_=!0,r=l,s(n,r)}return a(t,e),t}(c["default"]);n["default"]=m},{73:73,75:75,78:78,87:87}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e(78),a=i(s),u=e(94),l=r(u),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);var n=this;if(a.IS_IE8){n=l["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,s=t.length;i<s;i++)n.addTrackElement_(t[i]);if(a.IS_IE8)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();n["default"]=c},{78:78,94:94}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(78),l=i(u),c=e(94),h=r(c),f=e(42),d=r(f),p=e(72),m=r(p),g=0,v=1,y=2,_=3,b=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var r=s(this,e.call(this)),i=void 0,a=r;if(l.IS_IE8){a=h["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(a[u]=t.prototype[u])}var c=new m["default"](n);if(a.kind=c.kind,a.src=c.src,a.srclang=c.language,a.label=c.label,a["default"]=c["default"],Object.defineProperty(a,"readyState",{get:function(){return i}}),Object.defineProperty(a,"track",{get:function(){return c}}),i=g,c.addEventListener("loadeddata",function(){i=y,a.trigger({type:"load",target:a})}),l.IS_IE8){var f;return f=a,s(r,f)}return r}return a(t,e),t}(d["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=g,b.LOADING=v,b.LOADED=y,b.ERROR=_,n["default"]=b},{42:42,72:72,78:78,94:94}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e(78),a=i(s),u=e(94),l=r(u),c=function(){function e(t){o(this,e);var n=this;if(a.IS_IE8){n=l["default"].createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),a.IS_IE8)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}();n["default"]=c},{78:78,94:94}],68:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function l(e,t,n){try{e.style[t]=n}catch(r){return}}n.__esModule=!0;var c=e(5),h=i(c),f=e(83),d=r(f),p=e(95),m=i(p),g="#222",v="#ccc",y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},_=function(e){function t(n,r,i){o(this,t);var a=s(this,e.call(this,n,r,i));return n.on("loadstart",d.bind(a,a.toggleDisplay)),n.on("texttrackchange",d.bind(a,a.updateDisplay)),n.ready(d.bind(a,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);var r={captions:1,subtitles:1},i=this.player_.textTracks(),o=void 0,s=void 0;if(i){for(var a=0;a<i.length;a++){var u=i[a];u["default"]&&("descriptions"!==u.kind||o?u.kind in r&&!s&&(s=u):o=u)}s?s.mode="showing":o&&(o.mode="showing")}})),a}return a(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof m["default"].WebVTT&&m["default"].WebVTT.processCues(m["default"],[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))}},t.prototype.updateForTrack=function(e){if("function"==typeof m["default"].WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);m["default"].WebVTT.processCues(m["default"],n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var s=o.displayState;if(t.color&&(s.firstChild.style.color=t.color),t.textOpacity&&l(s.firstChild,"color",u(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(s.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&l(s.firstChild,"backgroundColor",u(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?l(s,"backgroundColor",u(t.windowColor,t.windowOpacity)):s.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px "+g+", 2px 2px 4px "+g+", 2px 2px 5px "+g:"raised"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px "+g+", 2px 2px "+g+", 3px 3px "+g:"depressed"===t.edgeStyle?s.firstChild.style.textShadow="1px 1px "+v+", 0 1px "+v+", -1px -1px "+g+", 0 -1px "+g:"uniform"===t.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px "+g+", 0 0 4px "+g+", 0 0 4px "+g+", 0 0 4px "+g)),t.fontPercent&&1!==t.fontPercent){var a=m["default"].parseFloat(s.style.fontSize);s.style.fontSize=a*t.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=y[t.fontFamily])}}}},t}(h["default"]);h["default"].registerComponent("TextTrackDisplay",_),n["default"]=_},{5:5,83:83,95:95}],69:[function(e,t,n){"use strict";n.__esModule=!0;var r=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},i=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),i=Array.prototype.map.call(t,function(e){var t=r(e.track);return e.src&&(t.src=e.src),t});return i.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(r))},o=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()};n["default"]={textTracksToJson:i,jsonToTextTracks:o,trackToJson_:r}},{}],70:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(74),l=i(u),c=e(83),h=r(c),f=e(78),d=r(f),p=e(94),m=i(p),g=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);var a=void 0;if(d.IS_IE8){a=m["default"].createElement("custom");for(var u in l["default"].prototype)"constructor"!==u&&(a[u]=l["default"].prototype[u]);for(var c in t.prototype)"constructor"!==c&&(a[c]=t.prototype[c])}return a=n=s(this,e.call(this,i,a)),r=a,s(n,r)}return a(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",h.bind(this,function(){this.trigger("change")}))},t}(l["default"]);n["default"]=g},{74:74,78:78,83:83,94:94}],71:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function l(e,t){var n=e.options[e.options.selectedIndex].value;return u(n,t)}function c(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(u(e.options[r].value,n)===t){e.selectedIndex=r;break}}n.__esModule=!0;var h=e(95),f=i(h),d=e(5),p=i(d),m=e(81),g=e(83),v=r(g),y=e(88),_=r(y),b=e(86),w=i(b),S="vjs-text-track-settings",x=["#000","Black"],T=["#00F","Blue"],E=["#0FF","Cyan"],q=["#0F0","Green"],C=["#F0F","Magenta"],k=["#F00","Red"],P=["#FFF","White"],O=["#FF0","Yellow"],A=["1","Opaque"],M=["0.5","Semi-Transparent"],j=["0","Transparent"],I={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[x,P,k,q,T,O,C,E]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[A,M,j]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[P,x,k,q,T,O,C,E]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",
id:"captions-foreground-opacity-%s",label:"Transparency",options:[A,M]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[j,M,A]}};I.windowColor.options=I.backgroundColor.options;var R=function(e){function t(n,r){o(this,t);var i=s(this,e.call(this,n,r));return i.setDefaults(),i.hide(),i.updateDisplay=v.bind(i,i.updateDisplay),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.hide()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),_.each(I,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return a(t,e),t.prototype.createElSelect_=function(e){var t=this,n=I[e],r=n.id.replace("%s",this.id_);return[(0,m.createEl)("label",{className:"vjs-label",textContent:n.label},{"for":r}),(0,m.createEl)("select",{id:r},void 0,n.options.map(function(e){return(0,m.createEl)("option",{textContent:t.localize(e[1]),value:e[0]})}))]},t.prototype.createElFgColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Text")}),t=this.createElSelect_("color"),n=(0,m.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElBgColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Background")}),t=this.createElSelect_("backgroundColor"),n=(0,m.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElWinColor_=function(){var e=(0,m.createEl)("legend",{textContent:this.localize("Window")}),t=this.createElSelect_("windowColor"),n=(0,m.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,m.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[e].concat(t,n))},t.prototype.createElColors_=function(){return(0,m.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},t.prototype.createElFont_=function(){var e=(0,m.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),t=(0,m.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),n=(0,m.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,m.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[e,t,n])},t.prototype.createElControls_=function(){var e=(0,m.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),t=(0,m.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,m.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[e,t])},t.prototype.createEl=function(){var e=(0,m.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),t=(0,m.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),n=(0,m.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),r=(0,m.createEl)("div",void 0,{role:"document"},[t,n,e]);return(0,m.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":t.id,"aria-describedby":n.id},r)},t.prototype.getValues=function(){var e=this;return _.reduce(I,function(t,n,r){var i=l(e.$(n.selector),n.parser);return void 0!==i&&(t[r]=i),t},{})},t.prototype.setValues=function(e){var t=this;_.each(I,function(n,r){c(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;_.each(I,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(f["default"].localStorage.getItem(S))}catch(t){w["default"].warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?f["default"].localStorage.setItem(S,JSON.stringify(e)):f["default"].localStorage.removeItem(S)}catch(t){w["default"].warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t}(p["default"]);p["default"].registerComponent("TextTrackSettings",R),n["default"]=R},{5:5,81:81,83:83,86:86,88:88,95:95}],72:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(67),l=i(u),c=e(83),h=r(c),f=e(73),d=e(86),p=i(d),m=e(95),g=i(m),v=e(75),y=i(v),_=e(92),b=e(99),w=i(b),S=e(87),x=i(S),T=e(78),E=r(T),q=function(e,t){var n=new g["default"].WebVTT.Parser(g["default"],g["default"].vttjs,g["default"].WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(g["default"].console&&g["default"].console.groupCollapsed&&g["default"].console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return p["default"].error(e)}),g["default"].console&&g["default"].console.groupEnd&&g["default"].console.groupEnd()),n.flush()},C=function(e,t){var n={uri:e},r=(0,_.isCrossOrigin)(e);r&&(n.cors=r),(0,w["default"])(n,h.bind(this,function(e,n,r){if(e)return p["default"].error(e,n);if(t.loaded_=!0,"function"!=typeof g["default"].WebVTT){if(t.tech_){var i=function(){return q(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){p["default"].error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else q(r,t)}))},k=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,t),!i.tech)throw new Error("A tech was not provided.");var a=(0,x["default"])(i,{kind:f.TextTrackKind[i.kind]||"subtitles",language:i.language||i.srclang||""}),u=f.TextTrackMode[a.mode]||"disabled",c=a["default"];"metadata"!==a.kind&&"chapters"!==a.kind||(u="hidden");var d=n=s(this,e.call(this,a));if(d.tech_=a.tech,E.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(d[p]=t.prototype[p]);d.cues_=[],d.activeCues_=[];var m=new l["default"](d.cues_),g=new l["default"](d.activeCues_),v=!1,y=h.bind(d,function(){this.activeCues,v&&(this.trigger("cuechange"),v=!1)});return"disabled"!==u&&d.tech_.ready(function(){d.tech_.on("timeupdate",y)},!0),Object.defineProperty(d,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(d,"mode",{get:function(){return u},set:function(e){var t=this;f.TextTrackMode[e]&&(u=e,"showing"===u&&this.tech_.ready(function(){t.tech_.on("timeupdate",y)},!0),this.trigger("modechange"))}}),Object.defineProperty(d,"cues",{get:function(){return this.loaded_?m:null},set:function(){}}),Object.defineProperty(d,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(v=!1,t.length!==this.activeCues_.length)v=!0;else for(var o=0;o<t.length;o++)this.activeCues_.indexOf(t[o])===-1&&(v=!0);return this.activeCues_=t,g.setCues_(this.activeCues_),g},set:function(){}}),a.src?(d.src=a.src,C(a.src,d)):d.loaded_=!0,r=d,s(n,r)}return a(t,e),t.prototype.addCue=function(e){var t=e;if(g["default"].vttjs&&!(e instanceof g["default"].vttjs.VTTCue)){t=new g["default"].vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id}var r=this.tech_.textTracks();if(r)for(var i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,n=0,r=this.cues_.length;n<r;n++){var i=this.cues_[n];i===e&&(this.cues_.splice(n,1),t=!0)}t&&this.cues.setCues_(this.cues_)},t}(y["default"]);k.prototype.allowedEvents_={cuechange:"cuechange"},n["default"]=k},{67:67,73:73,75:75,78:78,83:83,86:86,87:87,92:92,95:95,99:99}],73:[function(e,t,n){"use strict";n.__esModule=!0;n.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},n.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],74:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(42),l=i(u),c=e(78),h=r(c),f=e(94),d=i(f),p=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t);var a=s(this,e.call(this));if(!i&&(i=a,h.IS_IE8)){i=d["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(i[u]=t.prototype[u])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var l=0;l<r.length;l++)i.addTrack_(r[l]);return n=i,s(a,n)}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(l["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var m in p.prototype.allowedEvents_)p.prototype["on"+m]=null;n["default"]=p},{42:42,78:78,94:94}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(78),l=i(u),c=e(94),h=r(c),f=e(85),d=i(f),p=e(42),m=r(p),g=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var i=s(this,e.call(this)),a=i;if(l.IS_IE8){a=h["default"].createElement("custom");for(var u in t.prototype)"constructor"!==u&&(a[u]=t.prototype[u])}var c={id:r.id||"vjs_track_"+d.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""},f=function(e){Object.defineProperty(a,e,{get:function(){return c[e]},set:function(){}})};for(var p in c)f(p);return n=a,s(i,n)}return a(t,e),t}(m["default"]);n["default"]=g},{42:42,78:78,85:85,94:94}],76:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(74),l=i(u),c=e(78),h=r(c),f=e(94),d=i(f),p=function(e,t){for(var n=0;n<e.length;n++)t.id!==e[n].id&&(e[n].selected=!1)},m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);for(var a=void 0,u=i.length-1;u>=0;u--)if(i[u].selected){p(i,i[u]);break}if(h.IS_IE8){a=d["default"].createElement("custom");for(var c in l["default"].prototype)"constructor"!==c&&(a[c]=l["default"].prototype[c]);for(var f in t.prototype)"constructor"!==f&&(a[f]=t.prototype[f])}return a=n=s(this,e.call(this,i,a)),a.changing_=!1,Object.defineProperty(a,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=a,s(n,r)}return a(t,e),t.prototype.addTrack_=function(t){var n=this;t.selected&&p(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,p(n,t),n.changing_=!1,n.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(l["default"]);n["default"]=m},{74:74,78:78,94:94}],77:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e(73),l=e(75),c=i(l),h=e(87),f=i(h),d=e(78),p=r(d),m=function(e){function t(){var n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t);var a=(0,f["default"])(i,{kind:u.VideoTrackKind[i.kind]||""}),l=n=s(this,e.call(this,a)),c=!1;if(p.IS_IE8)for(var h in t.prototype)"constructor"!==h&&(l[h]=t.prototype[h]);return Object.defineProperty(l,"selected",{get:function(){return c},set:function(e){"boolean"==typeof e&&e!==c&&(c=e,this.trigger("selectedchange"))}}),a.selected&&(l.selected=a.selected),r=l,s(n,r)}return a(t,e),t}(c["default"]);n["default"]=m},{73:73,75:75,78:78,87:87}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}n.__esModule=!0,n.BACKGROUND_SIZE_SUPPORTED=n.TOUCH_ENABLED=n.IS_ANY_SAFARI=n.IS_SAFARI=n.IE_VERSION=n.IS_IE8=n.IS_CHROME=n.IS_EDGE=n.IS_FIREFOX=n.IS_NATIVE_ANDROID=n.IS_OLD_ANDROID=n.ANDROID_VERSION=n.IS_ANDROID=n.IOS_VERSION=n.IS_IOS=n.IS_IPOD=n.IS_IPHONE=n.IS_IPAD=void 0;var o=e(81),s=i(o),a=e(95),u=r(a),l=u["default"].navigator&&u["default"].navigator.userAgent||"",c=/AppleWebKit\/([\d.]+)/i.exec(l),h=c?parseFloat(c.pop()):null,f=n.IS_IPAD=/iPad/i.test(l),d=n.IS_IPHONE=/iPhone/i.test(l)&&!f,p=n.IS_IPOD=/iPod/i.test(l),m=n.IS_IOS=d||f||p,g=(n.IOS_VERSION=function(){var e=l.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),n.IS_ANDROID=/Android/i.test(l)),v=n.ANDROID_VERSION=function(){var e=l.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),y=(n.IS_OLD_ANDROID=g&&/webkit/i.test(l)&&v<2.3,n.IS_NATIVE_ANDROID=g&&v<5&&h<537,n.IS_FIREFOX=/Firefox/i.test(l),n.IS_EDGE=/Edge/i.test(l)),_=n.IS_CHROME=!y&&/Chrome/i.test(l),b=(n.IS_IE8=/MSIE\s8\.0/.test(l),n.IE_VERSION=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(l)),n.IS_SAFARI=/Safari/i.test(l)&&!_&&!g&&!y);n.IS_ANY_SAFARI=b||m,n.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in u["default"]||u["default"].DocumentTouch&&u["default"].document instanceof u["default"].DocumentTouch),n.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in u["default"].document.createElement("video").style},{81:81,95:95}],79:[function(e,t,n){"use strict";function r(e,t){var n=0,r=void 0,o=void 0;if(!t)return 0;e&&e.length||(e=(0,i.createTimeRange)(0,0));for(var s=0;s<e.length;s++)r=e.start(s),o=e.end(s),o>t&&(o=t),n+=o-r;return n/t}n.__esModule=!0,n.bufferedPercent=r;var i=e(90)},{90:90}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!e||!t)return"";if("function"==typeof s["default"].getComputedStyle){var n=s["default"].getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}n.__esModule=!0,n["default"]=i;var o=e(95),s=r(o)},{95:95}],81:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e.raw=t,e}function s(e){return"string"==typeof e&&/\S/.test(e)}function a(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function u(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function l(){return L["default"]===B["default"].document&&"undefined"!=typeof L["default"].createElement}function c(e){return(0,G.isObject)(e)&&1===e.nodeType}function h(e){return function(t,n){if(!s(t))return L["default"][e](null);s(n)&&(n=L["default"].querySelector(n));var r=c(n)?n:L["default"];return r[e]&&r[e](t)}}function f(e){return 0===e.indexOf("#")&&(e=e.slice(1)),L["default"].getElementById(e)}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i=L["default"].createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(V["default"].warn((0,W["default"])(F,e,n)),i.setAttribute(e,n)):"textContent"===e?p(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&R(i,r),i}function p(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function m(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function g(e){var t=e[K];return t||(t=e[K]=z.newGUID()),$[t]||($[t]={}),$[t]}function v(e){var t=e[K];return!!t&&!!Object.getOwnPropertyNames($[t]).length}function y(e){var t=e[K];if(t){delete $[t];try{delete e[K]}catch(n){e.removeAttribute?e.removeAttribute(K):e[K]=null}}}function _(e,t){return a(t),e.classList?e.classList.contains(t):u(t).test(e.className)}function b(e,t){return e.classList?e.classList.add(t):_(e,t)||(e.className=(e.className+" "+t).trim()),e}function w(e,t){return e.classList?e.classList.remove(t):(a(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function S(e,t,n){var r=_(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?b(e,t):w(e,t),e}function x(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function T(e){var t={},n=",autoplay,controls,loop,muted,default,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,s=r[i].value;"boolean"!=typeof e[o]&&n.indexOf(","+o+",")===-1||(s=null!==s),t[o]=s}return t}function E(e,t){return e.getAttribute(t)}function q(e,t,n){e.setAttribute(t,n)}function C(e,t){e.removeAttribute(t)}function k(){L["default"].body.focus(),L["default"].onselectstart=function(){return!1}}function P(){L["default"].onselectstart=function(){return!0}}function O(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=L["default"].documentElement,r=L["default"].body,i=n.clientLeft||r.clientLeft||0,o=B["default"].pageXOffset||r.scrollLeft,s=t.left+o-i,a=n.clientTop||r.clientTop||0,u=B["default"].pageYOffset||r.scrollTop,l=t.top+u-a;return{left:Math.round(s),top:Math.round(l)}}function A(e,t){var n={},r=O(e),i=e.offsetWidth,o=e.offsetHeight,s=r.top,a=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(s-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-a)/i)),n}function M(e){return(0,G.isObject)(e)&&3===e.nodeType}function j(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function I(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),c(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?L["default"].createTextNode(e):void 0}).filter(function(e){return e})}function R(e,t){return I(t).forEach(function(t){return e.appendChild(t)}),e}function D(e,t){return R(j(e),t)}n.__esModule=!0,n.$$=n.$=void 0;var F=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);n.isReal=l,n.isEl=c,n.getEl=f,n.createEl=d,n.textContent=p,n.insertElFirst=m,n.getElData=g,n.hasElData=v,n.removeElData=y,n.hasElClass=_,n.addElClass=b,n.removeElClass=w,n.toggleElClass=S,n.setElAttributes=x,n.getElAttributes=T,n.getAttribute=E,n.setAttribute=q,n.removeAttribute=C,n.blockTextSelection=k,n.unblockTextSelection=P,n.findElPosition=O,n.getPointerPosition=A,n.isTextNode=M,n.emptyEl=j,n.normalizeContent=I,n.appendContent=R,n.insertContent=D;var N=e(94),L=i(N),U=e(95),B=i(U),H=e(85),z=r(H),Y=e(86),V=i(Y),X=e(98),W=i(X),G=e(88),$={},K="vdata"+(new Date).getTime();n.$=h("querySelector"),n.$$=h("querySelectorAll")},{85:85,86:86,88:88,94:94,95:95,98:98}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e,t){var n=d.getElData(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&d.removeElData(e)}function s(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function a(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||_["default"].event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||w["default"]),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var o=w["default"].documentElement,s=w["default"].body;e.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function u(e,t,n){if(Array.isArray(t))return s(u,e,t,n);var r=d.getElData(e);r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=m.newGUID()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=a(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),s=0,u=o.length;s<u&&!t.isImmediatePropagationStopped();s++)try{o[s].call(e,t,n)}catch(l){v["default"].error(l)}}}),1===r.handlers[t].length&&(e.addEventListener?e.addEventListener(t,r.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+t,r.dispatcher))}function l(e,t,n){if(d.hasElData(e)){var r=d.getElData(e);if(r.handlers){if(Array.isArray(t))return s(l,e,t,n);var i=function(t){r.handlers[t]=[],o(e,t)};if(t){var a=r.handlers[t];if(a){if(!n)return void i(t);if(n.guid)for(var u=0;u<a.length;u++)a[u].guid===n.guid&&a.splice(u--,1);o(e,t)}}else for(var c in r.handlers)i(c)}}}function c(e,t,n){var r=d.hasElData(e)?d.getElData(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=a(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)c.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=d.getElData(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function h(e,t,n){if(Array.isArray(t))return s(h,e,t,n);var r=function i(){l(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||m.newGUID(),u(e,t,r)}n.__esModule=!0,n.fixEvent=a,n.on=u,n.off=l,n.trigger=c,n.one=h;var f=e(81),d=i(f),p=e(85),m=i(p),g=e(86),v=r(g),y=e(95),_=r(y),b=e(94),w=r(b)},{81:81,85:85,86:86,94:94,95:95}],83:[function(e,t,n){"use strict";n.__esModule=!0,n.throttle=n.bind=void 0;var r=e(85);n.bind=function(e,t,n){t.guid||(t.guid=(0,r.newGUID)());var i=function(){return t.apply(e,arguments)};return i.guid=n?n+"_"+t.guid:t.guid,i},n.throttle=function(e,t){var n=Date.now(),r=function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r}},{85:85}],84:[function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||s>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}n.__esModule=!0,n["default"]=r},{}],85:[function(e,t,n){"use strict";function r(){return i++}n.__esModule=!0,n.newGUID=r;var i=1},{}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.logByType=void 0;var i=e(95),o=r(i),s=e(78),a=e(88),u=void 0,l=n.logByType=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!s.IE_VERSION&&s.IE_VERSION<11;"log"!==e&&t.unshift(e.toUpperCase()+":"),u.history.push(t),t.unshift("VIDEOJS:");var r=o["default"].console&&o["default"].console[e];r&&(n&&(t=t.map(function(e){if((0,a.isObject)(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),r.apply?r[Array.isArray(t)?"apply":"call"](o["default"].console,t):r(t))};u=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];l("log",t)},u.history=[],u.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("error",t)},u.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l("warn",t)},n["default"]=u},{78:78,88:88,95:95}],87:[function(e,t,n){"use strict";function r(){for(var e={},t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t&&(0,i.each)(t,function(t,n){return(0,i.isPlain)(t)?((0,i.isPlain)(e[n])||(e[n]={}),void(e[n]=r(e[n],t))):void(e[n]=t)})}),e}n.__esModule=!0,n["default"]=r;var i=e(88)},{88:88}],88:[function(e,t,n){"use strict";function r(e,t){c(e).forEach(function(n){return t(e[n],n)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(e).reduce(function(n,r){return t(n,e[r],r)},n)}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&r(t,function(t,n){e[n]=t})}),e)}function s(e){return!!e&&"object"===("undefined"==typeof e?"undefined":u(e))}function a(e){return s(e)&&"[object Object]"===l.call(e)&&e.constructor===Object}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.each=r,n.reduce=i,n.assign=o,n.isObject=s,n.isPlain=a;var l=Object.prototype.toString,c=function(e){return s(e)?Object.keys(e):[]}},{}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.setTextContent=n.createStyleElement=void 0;var i=e(94),o=r(i);n.createStyleElement=function(e){var t=o["default"].createElement("style");return t.className=e,t},n.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{94:94}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+n+").");
}function o(e,t,n,r){return void 0===r&&(l["default"].warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),r=0),i(e,r,n.length-1),n[r][t]}function s(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function a(e,t){return Array.isArray(e)?s(e):void 0===e||void 0===t?s():s([[e,t]])}n.__esModule=!0,n.createTimeRange=void 0,n.createTimeRanges=a;var u=e(86),l=r(u);n.createTimeRange=a},{86:86}],91:[function(e,t,n){"use strict";function r(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}n.__esModule=!0,n["default"]=r},{}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.isCrossOrigin=n.getFileExtension=n.getAbsoluteURL=n.parseUrl=void 0;var i=e(94),o=r(i),s=e(95),a=r(s),u=n.parseUrl=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=o["default"].createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=o["default"].createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(i));for(var s={},a=0;a<t.length;a++)s[t[a]]=n[t[a]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),r&&o["default"].body.removeChild(i),s};n.getAbsoluteURL=function(e){if(!e.match(/^https?:\/\//)){var t=o["default"].createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},n.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},n.isCrossOrigin=function(e){var t=a["default"].location,n=u(e),r=":"===n.protocol?t.protocol:n.protocol,i=r+n.host!==t.protocol+t.host;return i}},{94:94,95:95}],93:[function(t,n,r){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n){var r=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),s.getPlayers()[e])return t&&U["default"].warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&s.getPlayers()[e].ready(n),s.getPlayers()[e];r=H.getEl(e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||x["default"].players[r.playerId])return r.player||x["default"].players[r.playerId];t=t||{},s.hooks("beforesetup").forEach(function(e){var n=e(r,(0,C["default"])(t));return!(0,W.isObject)(n)||Array.isArray(n)?void U["default"].error("please return an object in beforesetup hooks"):void(t=(0,C["default"])(t,n))});var i=v["default"].getComponent("Player"),o=new i(r,t,n);return s.hooks("setup").forEach(function(e){return e(o)}),o}r.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=t(95),l=o(u),c=t(94),h=o(c),f=t(56),d=i(f),p=t(89),m=i(p),g=t(5),v=o(g),y=t(42),_=o(y),b=t(82),w=i(b),S=t(51),x=o(S),T=t(52),E=o(T),q=t(87),C=o(q),k=t(83),P=i(k),O=t(72),A=o(O),M=t(64),j=o(M),I=t(77),R=o(I),D=t(90),F=t(84),N=o(F),L=t(86),U=o(L),B=t(81),H=i(B),z=t(78),Y=i(z),V=t(92),X=i(V),W=t(88),G=t(80),$=o(G),K=t(43),Z=o(K),J=t(99),Q=o(J),ee=t(62),te=o(ee);if("undefined"==typeof HTMLVideoElement&&H.isReal()&&(h["default"].createElement("video"),h["default"].createElement("audio"),h["default"].createElement("track")),s.hooks_={},s.hooks=function(e,t){return s.hooks_[e]=s.hooks_[e]||[],t&&(s.hooks_[e]=s.hooks_[e].concat(t)),s.hooks_[e]},s.hook=function(e,t){s.hooks(e,t)},s.removeHook=function(e,t){var n=s.hooks(e).indexOf(t);return!(n<=-1)&&(s.hooks_[e]=s.hooks_[e].slice(),s.hooks_[e].splice(n,1),!0)},l["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0&&H.isReal()){var ne=H.$(".vjs-styles-defaults");if(!ne){ne=m.createStyleElement("vjs-styles-defaults");var re=H.$("head");re&&re.insertBefore(ne,re.firstChild),m.setTextContent(ne,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}d.autoSetupTimeout(1,s),s.VERSION="5.18.4",s.options=x["default"].prototype.options_,s.getPlayers=function(){return x["default"].players},s.players=x["default"].players,s.getComponent=v["default"].getComponent,s.registerComponent=function(e,t){te["default"].isTech(t)&&U["default"].warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),v["default"].registerComponent.call(v["default"],e,t)},s.getTech=te["default"].getTech,s.registerTech=te["default"].registerTech,s.browser=Y,s.TOUCH_ENABLED=Y.TOUCH_ENABLED,s.extend=Z["default"],s.mergeOptions=C["default"],s.bind=P.bind,s.plugin=E["default"],s.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),s.options.languages=(0,C["default"])(s.options.languages,(n={},n[e]=t,n)),s.options.languages[e]},s.log=U["default"],s.createTimeRange=s.createTimeRanges=D.createTimeRanges,s.formatTime=N["default"],s.parseUrl=X.parseUrl,s.isCrossOrigin=X.isCrossOrigin,s.EventTarget=_["default"],s.on=w.on,s.one=w.one,s.off=w.off,s.trigger=w.trigger,s.xhr=Q["default"],s.TextTrack=A["default"],s.AudioTrack=j["default"],s.VideoTrack=R["default"],s.isEl=H.isEl,s.isTextNode=H.isTextNode,s.createEl=H.createEl,s.hasClass=H.hasElClass,s.addClass=H.addElClass,s.removeClass=H.removeElClass,s.toggleClass=H.toggleElClass,s.setAttributes=H.setElAttributes,s.getAttributes=H.getElAttributes,s.emptyEl=H.emptyEl,s.appendContent=H.appendContent,s.insertContent=H.insertContent,s.computedStyle=$["default"],"function"==typeof e&&e.amd?e("videojs",[],function(){return s}):"object"===("undefined"==typeof r?"undefined":a(r))&&"object"===("undefined"==typeof n?"undefined":a(n))&&(n.exports=s),r["default"]=s},{42:42,43:43,5:5,51:51,52:52,56:56,62:62,64:64,72:72,77:77,78:78,80:80,81:81,82:82,83:83,84:84,86:86,87:87,88:88,89:89,90:90,92:92,94:94,95:95,99:99}],94:[function(e,t,n){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},i=e(96);if("undefined"!=typeof document)t.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{96:96}],95:[function(e,t,n){(function(e){"undefined"!=typeof window?t.exports=window:"undefined"!=typeof e?t.exports=e:"undefined"!=typeof self?t.exports=self:t.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],96:[function(e,t,n){},{}],97:[function(e,t,n){function r(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}t.exports=r},{}],98:[function(e,t,n){function r(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},{}],99:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<e.length;n++)t(e[n])}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,n){var r=e;return h(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=d(t,{uri:e}),r.callback=n,r}function s(e,t,n){return t=o(e,t,n),a(t)}function a(e){function t(){4===c.readyState&&setTimeout(o,0)}function n(){var e=void 0;if(e=c.response?c.response:c.responseText||u(c),b)try{e=JSON.parse(e)}catch(t){}return e}function r(e){return clearTimeout(p),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,l(e,w)}function o(){if(!d){var t;clearTimeout(p),t=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var r=w,i=null;return 0!==t?(r={body:n(),statusCode:t,method:g,headers:{},url:m,rawRequest:c},c.getAllResponseHeaders&&(r.headers=f(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),l(i,r,r.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var a=!1,l=function(t,n,r){a||(a=!0,e.callback(t,n,r))},c=e.xhr||null;c||(c=e.cors||e.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var h,d,p,m=c.url=e.uri||e.url,g=c.method=e.method||"GET",v=e.body||e.data,y=c.headers=e.headers||{},_=!!e.sync,b=!1,w={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:c};if("json"in e&&e.json!==!1&&(b=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(e.json===!0?v:e.json))),c.onreadystatechange=t,c.onload=o,c.onerror=r,c.onprogress=function(){},c.onabort=function(){d=!0},c.ontimeout=r,c.open(g,m,!_,e.username,e.password),_||(c.withCredentials=!!e.withCredentials),!_&&e.timeout>0&&(p=setTimeout(function(){if(!d){d=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),c.setRequestHeader)for(h in y)y.hasOwnProperty(h)&&c.setRequestHeader(h,y[h]);else if(e.headers&&!i(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(v||null),c}function u(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function l(){}var c=e(95),h=e(100),f=e(103),d=e(104);t.exports=s,s.XMLHttpRequest=c.XMLHttpRequest||l,s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:c.XDomainRequest,r(["get","put","post","patch","head","delete"],function(e){s["delete"===e?"del":e]=function(t,n,r){return n=o(t,n,r),n.method=e.toUpperCase(),a(n)}})},{100:100,103:103,104:104,95:95}],100:[function(e,t,n){function r(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var i=Object.prototype.toString},{}],101:[function(e,t,n){function r(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"==typeof e?o(e,t,n):s(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function s(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var a=e(100);t.exports=r;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{100:100}],102:[function(e,t,n){function r(e){return e.replace(/^\s*|\s*$/g,"")}n=t.exports=r,n.left=function(e){return e.replace(/^\s*/,"")},n.right=function(e){return e.replace(/\s*$/,"")}},{}],103:[function(e,t,n){var r=e(102),i=e(101),o=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return i(r(e).split("\n"),function(e){var n=e.indexOf(":"),i=r(e.slice(0,n)).toLowerCase(),s=r(e.slice(n+1));"undefined"==typeof t[i]?t[i]=s:o(t[i])?t[i].push(s):t[i]=[t[i],s]}),t}},{101:101,102:102}],104:[function(e,t,n){function r(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e}t.exports=r;var i=Object.prototype.hasOwnProperty},{}],105:[function(e,t,n){var r=t.exports={WebVTT:e(106).WebVTT,VTTCue:e(107).VTTCue,VTTRegion:e(109).VTTRegion};window.vttjs=r,window.WebVTT=r.WebVTT;var i=r.VTTCue,o=r.VTTRegion,s=window.VTTCue,a=window.VTTRegion;r.shim=function(){window.VTTCue=i,window.VTTRegion=o},r.restore=function(){window.VTTCue=s,window.VTTRegion=a},window.VTTCue||r.shim()},{106:106,107:107,109:109}],106:[function(e,t,n){!function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function n(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=m(null)}function i(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var s=i[o].split(n);if(2===s.length){var a=s[0],u=s[1];t(a,u)}}}function o(e,o,s){function a(){var r=n(e);if(null===r)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function u(e,t){var n=new r;i(e,function(e,t){switch(e){case"region":for(var r=s.length-1;r>=0;r--)if(s[r].id===t){n.set(e,s[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];n.integer(e,o),n.percent(e,o)?n.set("snapToLines",!1):null,n.alt(e,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),n.percent(e,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function l(){e=e.replace(/^\s+/,"")}var c=e;if(l(),o.startTime=a(),l(),"-->"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),l(),o.endTime=a(),l(),u(e,o)}function s(e,t){function r(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function i(e){return g[e]}function o(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],i);return e}function s(e,t){return!_[t.localName]||_[t.localName]===e.localName}function a(t,n){var r=v[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=y[t];return o&&n&&(i[o]=n.trim()),i}for(var u,l=e.document.createElement("div"),c=l,h=[];null!==(u=r());)if("<"!==u[0])c.appendChild(e.document.createTextNode(o(u)));else{if("/"===u[1]){h.length&&h[h.length-1]===u.substr(2).replace(">","")&&(h.pop(),c=c.parentNode);continue}var f,d=n(u.substr(1,u.length-2));if(d){f=e.document.createProcessingInstruction("timestamp",d),c.appendChild(f);continue}var p=u.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(f=a(p[1],p[3]),!f)continue;if(!s(c,f))continue;p[2]&&(f.className=p[2].substr(1).replace("."," ")),h.push(p[1]),c.appendChild(f),c=f}return l}function a(e){for(var t=0;t<b.length;t++){var n=b[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var s=0;s<o.length;s++)if(r=o.charCodeAt(s),a(r))return"rtl";return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return++r*-1}function c(){}function h(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),c.call(this),this.cue=t,this.cueDiv=s(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=u(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function f(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var s=(s=e.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();e=e.div.getBoundingClientRect(),t=s?Math.max(s[0]&&s[0].height||0,e.height/s.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function d(e,t,n,r){function i(e,t){for(var i,o=new f(e),s=1,a=0;a<t.length;a++){for(;e.overlapsOppositeAxis(n,t[a])||e.within(n)&&e.overlapsAny(r);)e.move(t[a]);if(e.within(n))return e;var u=e.intersectPercentage(n);s>u&&(i=new f(e),s=u),e=new f(o)}return i||o}var o=new f(t),s=t.cue,a=l(s),u=[];if(s.snapToLines){var c;switch(s.vertical){case"":u=["+y","-y"],c="height";break;case"rl":u=["+x","-x"],c="width";break;case"lr":u=["-x","+x"],c="width"}var h=o.lineHeight,d=h*Math.round(a),p=n[c]+h,m=u[0];Math.abs(d)>p&&(d=d<0?-1:1,d*=Math.ceil(p/h)*h),a<0&&(d+=""===s.vertical?n.height:n.width,u=u.reverse()),o.move(m,d)}else{var g=o.lineHeight/n.height*100;switch(s.lineAlign){case"middle":a-=g/2;break;case"end":a-=g}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}u=["+y","-x","+x","-y"],o=new f(t)}var v=i(o,u);t.move(v.toCSSCompatValues(n))}function p(){}var m=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=m(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var g={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={v:"title",lang:"lang"},_={rt:"ruby"},b=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];c.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},c.prototype.formatStyle=function(e,t){return 0===e?0:e+t},h.prototype=m(c.prototype),h.prototype.constructor=h,f.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},f.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},f.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},f.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},f.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},f.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},f.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},f.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i},p.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},p.convertCueToDOMTree=function(e,t){return e&&t?s(e,t):null};var w=.05,S="sans-serif",x="1.5%";p.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=x,n.appendChild(i),r(t)){var o=[],s=f.getSimpleBoxPosition(i),a=Math.round(s.height*w*100)/100,u={font:a+"px "+S};!function(){for(var n,r,a=0;a<t.length;a++)r=t[a],n=new h(e,r,u),i.appendChild(n.div),d(e,n,s,o),r.displayState=n.div,o.push(f.getSimpleBoxPosition(n))}()}else for(var l=0;l<t.length;l++)i.appendChild(t[l].displayState)},p.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},p.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function n(){for(var e=u.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,u.buffer=e.substr(t),n}function s(e){var t=new r;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(u.vttjs.VTTRegion||u.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),u.onregion&&u.onregion(n),u.regionList.push({id:t.get("id"),region:n})}}function a(e){i(e,function(e,t){switch(e){case"Region":s(t)}},/:/)}var u=this;e&&(u.buffer+=u.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===u.state){if(!/\r\n|\n/.test(u.buffer))return this;l=n();var c=l.match(/^WEBVTT([ \t].*)?$/);if(!c||!c[0])throw new t(t.Errors.BadSignature);u.state="HEADER"}for(var h=!1;u.buffer;){if(!/\r\n|\n/.test(u.buffer))return this;switch(h?h=!1:l=n(),u.state){case"HEADER":/:/.test(l)?a(l):l||(u.state="ID");continue;case"NOTE":l||(u.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){u.state="NOTE";break}if(!l)continue;if(u.cue=new(u.vttjs.VTTCue||u.window.VTTCue)(0,0,""),u.state="CUE",l.indexOf("-->")===-1){u.cue.id=l;continue}case"CUE":try{o(l,u.cue,u.regionList)}catch(f){u.reportOrThrowError(f),u.cue=null,u.state="BADCUE";continue}u.state="CUETEXT";continue;case"CUETEXT":var d=l.indexOf("-->")!==-1;if(!l||d&&(h=!0)){u.oncue&&u.oncue(u.cue),u.cue=null,u.state="ID";continue}u.cue.text&&(u.cue.text+="\n"),u.cue.text+=l;continue;case"BADCUE":l||(u.state="ID");continue}}}catch(f){u.reportOrThrowError(f),"CUETEXT"===u.state&&u.cue&&u.oncue&&u.oncue(u.cue),u.cue=null,u.state="INITIAL"===u.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(n){e.reportOrThrowError(n)}return e.onflush&&e.onflush(),this}},e.WebVTT=p}(this,this.vttjs||{})},{}],107:[function(e,t,n){"undefined"!=typeof t&&t.exports&&(this.VTTCue=this.VTTCue||e(108).VTTCue),function(e){e.VTTCue.prototype.toJSON=function(){var e={},t=this;return Object.keys(this).forEach(function(n){"getCueAsHTML"!==n&&"hasBeenReset"!==n&&"displayState"!==n&&(e[n]=t[n])}),e},e.VTTCue.create=function(t){if(!t.hasOwnProperty("startTime")||!t.hasOwnProperty("endTime")||!t.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var n=new e.VTTCue(t.startTime,t.endTime,t.text);for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTCue.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{108:108}],108:[function(e,t,n){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=a[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=u[e.toLowerCase()];return!!t&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function o(e,t,o){var a=this,u=/MSIE\s8\.0/.test(navigator.userAgent),l={};u?a=document.createElement("custom"):l.enumerable=!0,a.hasBeenReset=!1;var c="",h=!1,f=e,d=t,p=o,m=null,g="",v=!0,y="auto",_="start",b=50,w="middle",S=50,x="middle";if(Object.defineProperty(a,"id",i({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(a,"pauseOnExit",i({},l,{get:function(){return h},set:function(e){h=!!e}})),Object.defineProperty(a,"startTime",i({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},l,{get:function(){return p},set:function(e){p=""+e,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},l,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},l,{get:function(){return g},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},l,{get:function(){return y},set:function(e){if("number"!=typeof e&&e!==s)throw new SyntaxError("An invalid number or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},l,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},l,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},l,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},l,{get:function(){return S},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},l,{get:function(){return x},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");x=t,this.hasBeenReset=!0}})),a.displayState=void 0,u)return a}var s="auto",a={"":!0,lr:!0,rl:!0},u={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{})},{}],109:[function(e,t,n){"undefined"!=typeof t&&t.exports&&(this.VTTRegion=e(110).VTTRegion),function(e){e.VTTRegion.create=function(t){var n=new e.VTTRegion;for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.VTTRegion.fromJSON=function(e){return this.create(JSON.parse(e))}}(this)},{110:110}],110:[function(e,t,n){!function(e,t){function n(e){if("string"!=typeof e)return!1;var t=o[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){return"number"==typeof e&&e>=0&&e<=100}function i(){var e=100,t=3,i=0,o=100,s=0,a=100,u="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!r(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!r(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!r(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!r(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},
viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!r(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return u},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");u=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{})},{}]},{},[93])(93)}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.written=t()}(this,function(){var e,t,n,r,i,o,s,a,u,l,c,h,f,d,p,m,g,v,y,_,b,w,S,x,T,E,q;return s={EN:{noncaps:/^(an|and|as|at|be|but|by|has|in|if|nor|of|off|on|or|out|per|the|to|up|was)$/,cardinals:{written:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"]},ordinals:{written:["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth"],rule:/((1{0,1}[123])|(\d))\b/,suffixes:{1:"st",2:"nd",3:"rd",n:"th"}}}},t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n=function(e,n){var r,i;return null==n&&(n=s.EN.noncaps),"[object RegExp]"!==Object.prototype.toString.call(n)&&(n=s[n].noncaps),function(){var o,s,a,u;for(a=e.split(/\s/g),u=[],r=o=0,s=a.length;o<s;r=++o)i=a[r],r>0&&n.test(i)?u.push(i):u.push(t(i));return u}().join(" ")},a=function(e,t,n){return""+e+t+(n||e)},i=function(e,t){var n;return null==t&&(t=""),function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)n=e[t],n&&"string"==typeof n&&i.push(n);return i}().join(t)},o=function(e){return e.replace(/\s+/g," ")},r=/[-_\s]+|(!?[A-Z][a-z]*)/g,e=function(e){var n,o;return i(function(){var i,s,a,u;for(a=e.split(r),u=[],n=i=0,s=a.length;i<s;n=++i)o=a[n],o&&(0===n?u.push(o):u.push(t(o)));return u}()),e.replace(/[\s_-]+(\w)/g,function(e,t){return t.toUpperCase()})},f=function(e,t){return(t?"-":"")+i(e.split(r),"-").toLowerCase()},x=function(e){return i(e.split(r),"_").toLowerCase()},h=function(e){return i(e.split(r)," ")},T=function(e,t,n){var r,i,o;return null==t&&(t="span"),null==n&&(n={}),r=function(){var e;e=[];for(i in n)o=n[i],o&&("boolean"==typeof o&&(o=i),"function"==typeof o.join&&(o=o.join(" ")),e.push(" "+i+'="'+o+'"'));return e}(),a("<"+t+r.join("")+">",e,"</"+t+">")},g=function(e,t,n){var r,i,o,s,a,u;return null==n&&(n={}),s=n.more||"more",r=n.amp||"and",n.key&&(e=function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)a=e[t],"object"==typeof a&&i.push(a[n.key]);return i}()),n.wrap&&(e=function(){var t,r,i;for(i=[],t=0,r=e.length;t<r;t++)u=e[t],i.push(T(u,n.wrap));return i}()),t<(o=e.length)&&(i=o-t,n.quantify&&(s=b(s,i,{numberless:!0})),n.written&&(i=q(i,n.lang)),e=e.slice(0,t),e=e.concat(i+" "+s)),e.slice(0,-1).join(", ").concat(1===e.length?"":" "+r+" ",e.slice(-1))},d=function(e,t,n){return null==e&&(e=""),null==t&&(t=10),null==n&&(n="­"),e.replace(/(^|[^>])+(?=$|\<)/g,function(e){return e.replace(new RegExp("(\\w{"+(t-1)+"})(\\w)","g"),function(e,t,r){return t+n+r})})},b=function(e,t,n){var r,i,o,s,a,u,l,c;return s=null!=n?n:{},i=s.numberless,c=s.written,r=s.lang,o=s.plural,"string"!=typeof e&&(a=[e,t],t=a[0],e=a[1]),t=null!=(u=t.length)?u:t,l=1===t?e:o||e+"s",c&&(t=q(t,r)),t=i?"":t+" ",t+l},q=function(e,t,n){var r,i;return null==t&&(t="EN"),null==n&&(n="m"),(r=null!=(i=s[t])?i.cardinals.written[e-1]:void 0)?r[n]&&r[n]||r:e},w=function(e,t){var n,r,i;return r=function(){switch(t){case"s":case"single":return["‘","’"];case"a":case"angle":case"g":case"guillemets":return["«","»"];case"!":return["¡","!"];case"?":return["¿","?"];default:return["“","”"]}}(),n=r[0],i=r[1],a(n,e,i)},p=function(e,t,n){var r,i,o,a,u,l,c;return null==t&&(t={}),null==n&&(n="m"),i=s[t.lang||"EN"].ordinals,u=i.suffixes,o=i.rule,c=i.written,r=e.toString().match(o)[0],null!=t.written&&(l=c[+e-1])?l[n]||l:(a=u[r]||u.n,a=a[n]||a,t.wrap&&!l&&("boolean"==typeof t.wrap&&(t.wrap="sup"),a=T(a,t.wrap)),e+a)},v=function(e,t,n,r){var i,o,s;return null==t&&(t=","),null==n&&(n=0),null==r&&(r="."),"number"==typeof t&&(n=t),e=m(e),n>0&&(e=e.toFixed(n)),r&&(e=e.toString().replace(".",r)),s=e.toString().split(r),o=s[0],i=s[1],[o.replace(/\B(?=(\d{3})+(?!\d))/g,t),i].filter(function(e){return null!=e}).join(r)},_=function(e,t){var n,r,i,o,s,a,u,l;return"object"==typeof t&&(a=t,t=a.currency,l=a.wrap,n=a.decimals,r=a.delimiter,i=a.dot),null==t&&(t="$"),null==n&&(n=2),null==i&&(i="."),e=v(e,r,n,i),l&&(u=e.split(i),s=u[0],o=u[1],e=s+T(o,l)),t+e},y=function(e,t,n){var r;return null==e&&(e=0),null==t&&(t=1),null==n&&(n=0),r=e/t*100||0,r.toFixed(n)+"%"},m=function(e){return"string"==typeof e&&(e=e.replace(/[^\d\.]+/g,"")/("%"===e.slice(-1)?100:1)),e<=1/0?e:-1},u=function(e,t){return Array.apply(0,{length:t-e+1}).map(function(t,n){return n+e})},c=function(e){var t,n,r,i;for(null==e&&(e={}),i=u(161,255).concat(u(338,402)).concat(u(8211,8230)).concat([8240,8364,8482]),n=0,r=i.length;n<r;n++)t=i[n],e[t]=String.fromCharCode(t);return e},l=function(e){return a("&#",e.charCodeAt(0),";")},S=function(e,t){return s[t]=e},E={camelCase:e,capitalize:t,capitalizeAll:n,cleanJoin:i,collapse:o,count:b,dasherize:f,dashify:f,enclose:a,glyph:l,glyphs:c,humanCase:h,hyphenate:d,hyphenCase:f,numerate:b,ordinal:p,parseNumber:m,prettyList:g,prettyNumber:v,prettyPrice:_,prettyPercent:y,quantify:b,quote:w,setLanguage:S,slugify:x,snakeCase:x,titleCase:n,underscore:x,wrapInTag:T,writtenNumber:q}});var pipwerks={};if(pipwerks.UTILS={},pipwerks.debug={isActive:!0},pipwerks.SCORM={version:null,handleCompletionStatus:!0,handleExitMode:!0,API:{handle:null,isFound:!1},connection:{isActive:!1},data:{completionStatus:null,exitStatus:null},debug:{}},pipwerks.SCORM.isAvailable=function(){return!0},pipwerks.SCORM.API.find=function(e){for(var t=null,n=0,r=500,i="SCORM.API.find",o=pipwerks.UTILS.trace,s=pipwerks.SCORM;!e.API&&!e.API_1484_11&&e.parent&&e.parent!=e&&n<=r;)n++,e=e.parent;if(s.version)switch(s.version){case"2004":e.API_1484_11?t=e.API_1484_11:o(i+": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.");break;case"1.2":e.API?t=e.API:o(i+": SCORM version 1.2 was specified by user, but API cannot be found.")}else e.API_1484_11?(s.version="2004",t=e.API_1484_11):e.API&&(s.version="1.2",t=e.API);return t?(o(i+": API found. Version: "+s.version),o("API: "+t)):o(i+": Error finding API. \nFind attempts: "+n+". \nFind attempt limit: "+r),t},pipwerks.SCORM.API.get=function(){var e=null,t=window,n=pipwerks.SCORM,r=n.API.find,i=pipwerks.UTILS.trace;return e=r(t),!e&&t.parent&&t.parent!=t&&(e=r(t.parent)),!e&&t.top&&t.top.opener&&(e=r(t.top.opener)),!e&&t.top&&t.top.opener&&t.top.opener.document&&(e=r(t.top.opener.document)),e?n.API.isFound=!0:i("API.get failed: Can't find the API!"),e},pipwerks.SCORM.API.getHandle=function(){var e=pipwerks.SCORM.API;return e.handle||e.isFound||(e.handle=e.get()),e.handle},pipwerks.SCORM.connection.initialize=function(e){e=e||{};var t=!1,n=pipwerks.SCORM,r=n.data.completionStatus,i=pipwerks.UTILS.trace,o=pipwerks.UTILS.StringToBoolean,s=n.debug,a="SCORM.connection.initialize ";if(e.preventLogoutOnExit&&(n.handleExitMode=!1),i("connection.initialize called."),n.connection.isActive)i(a+"aborted: Connection already active.");else{var u=n.API.getHandle(),l=0;if(u){switch(n.version){case"1.2":t=o(u.LMSInitialize(""));break;case"2004":t=o(u.Initialize(""))}if(t)if(l=s.getCode(),null!==l&&0===l){if(n.connection.isActive=!0,n.handleCompletionStatus&&(r=n.status("get"))){switch(r){case"not attempted":n.status("set","incomplete");break;case"unknown":n.status("set","incomplete")}n.save()}}else t=!1,i(a+"failed. \nError code: "+l+" \nError info: "+s.getInfo(l));else l=s.getCode(),i(null!==l&&0!==l?a+"failed. \nError code: "+l+" \nError info: "+s.getInfo(l):a+"failed: No response from server.")}else i(a+"failed: API is null.")}return t},pipwerks.SCORM.connection.terminate=function(){var e=!1,t=pipwerks.SCORM,n=t.data.exitStatus,r=t.data.completionStatus,i=pipwerks.UTILS.trace,o=pipwerks.UTILS.StringToBoolean,s=t.debug,a="SCORM.connection.terminate ";if(t.connection.isActive){var u=t.API.getHandle(),l=0;if(u){if(t.handleExitMode&&!n)if("completed"!==r&&"passed"!==r)switch(t.version){case"1.2":e=t.set("cmi.core.exit","suspend");break;case"2004":e=t.set("cmi.exit","suspend")}else switch(t.version){case"1.2":e=t.set("cmi.core.exit","logout");break;case"2004":e=t.set("cmi.exit","normal")}if(e=t.save()){switch(t.version){case"1.2":e=o(u.LMSFinish(""));break;case"2004":e=o(u.Terminate(""))}e?t.connection.isActive=!1:(l=s.getCode(),i(a+"failed. \nError code: "+l+" \nError info: "+s.getInfo(l)))}}else i(a+"failed: API is null.")}else i(a+"aborted: Connection already terminated.");return e},pipwerks.SCORM.data.get=function(e){var t=null,n=pipwerks.SCORM,r=pipwerks.UTILS.trace,i=n.debug,o="SCORM.data.get('"+e+"') ";if(n.connection.isActive){var s=n.API.getHandle(),a=0;if(s){switch(n.version){case"1.2":t=s.LMSGetValue(e);break;case"2004":t=s.GetValue(e)}if(a=i.getCode(),""!==t||0===a)switch(e){case"cmi.core.lesson_status":case"cmi.completion_status":n.data.completionStatus=t;break;case"cmi.core.exit":case"cmi.exit":n.data.exitStatus=t}else r(o+"failed. \nError code: "+a+"\nError info: "+i.getInfo(a))}else r(o+"failed: API is null.")}else r(o+"failed: API connection is inactive.");return r(o+" value: "+t),String(t)},pipwerks.SCORM.data.set=function(e,t){var n=!1,r=pipwerks.SCORM,i=pipwerks.UTILS.trace,o=pipwerks.UTILS.StringToBoolean,s=r.debug,a="SCORM.data.set('"+e+"') ";if(r.connection.isActive){var u=r.API.getHandle(),l=0;if(u){switch(r.version){case"1.2":n=o(u.LMSSetValue(e,t));break;case"2004":n=o(u.SetValue(e,t))}n?"cmi.core.lesson_status"!==e&&"cmi.completion_status"!==e||(r.data.completionStatus=t):(l=s.getCode(),i(a+"failed. \nError code: "+l+". \nError info: "+s.getInfo(l)))}else i(a+"failed: API is null.")}else i(a+"failed: API connection is inactive.");return i(a+" value: "+t),n},pipwerks.SCORM.data.save=function(){var e=!1,t=pipwerks.SCORM,n=pipwerks.UTILS.trace,r=pipwerks.UTILS.StringToBoolean,i="SCORM.data.save failed";if(t.connection.isActive){var o=t.API.getHandle();if(o)switch(t.version){case"1.2":e=r(o.LMSCommit(""));break;case"2004":e=r(o.Commit(""))}else n(i+": API is null.")}else n(i+": API connection is inactive.");return e},pipwerks.SCORM.status=function(e,t){var n=!1,r=pipwerks.SCORM,i=pipwerks.UTILS.trace,o="SCORM.getStatus failed",s="";if(null!==e){switch(r.version){case"1.2":s="cmi.core.lesson_status";break;case"2004":s="cmi.completion_status"}switch(e){case"get":n=r.data.get(s);break;case"set":null!==t?n=r.data.set(s,t):(n=!1,i(o+": status was not specified."));break;default:n=!1,i(o+": no valid action was specified.")}}else i(o+": action was not specified.");return n},pipwerks.SCORM.debug.getCode=function(){var e=pipwerks.SCORM,t=e.API.getHandle(),n=pipwerks.UTILS.trace,r=0;if(t)switch(e.version){case"1.2":r=parseInt(t.LMSGetLastError(),10);break;case"2004":r=parseInt(t.GetLastError(),10)}else n("SCORM.debug.getCode failed: API is null.");return r},pipwerks.SCORM.debug.getInfo=function(e){var t=pipwerks.SCORM,n=t.API.getHandle(),r=pipwerks.UTILS.trace,i="";if(n)switch(t.version){case"1.2":i=n.LMSGetErrorString(e.toString());break;case"2004":i=n.GetErrorString(e.toString())}else r("SCORM.debug.getInfo failed: API is null.");return String(i)},pipwerks.SCORM.debug.getDiagnosticInfo=function(e){var t=pipwerks.SCORM,n=t.API.getHandle(),r=pipwerks.UTILS.trace,i="";if(n)switch(t.version){case"1.2":i=n.LMSGetDiagnostic(e);break;case"2004":i=n.GetDiagnostic(e)}else r("SCORM.debug.getDiagnosticInfo failed: API is null.");return String(i)},pipwerks.SCORM.init=pipwerks.SCORM.connection.initialize,pipwerks.SCORM.get=pipwerks.SCORM.data.get,pipwerks.SCORM.set=pipwerks.SCORM.data.set,pipwerks.SCORM.save=pipwerks.SCORM.data.save,pipwerks.SCORM.quit=pipwerks.SCORM.connection.terminate,pipwerks.UTILS.StringToBoolean=function(e){var t=typeof e;switch(t){case"object":case"string":return/(true|1)/i.test(e);case"number":return!!e;case"boolean":return e;case"undefined":return null;default:return!1}},pipwerks.UTILS.trace=function(e){pipwerks.debug.isActive&&window.console&&window.console.log&&window.console.log(e)},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(Object(r)),o=0,s=i.length;o<s;o++){var a=i[o],u=Object.getOwnPropertyDescriptor(r,a);void 0!==u&&u.enumerable&&(t[a]=r[a])}}}return t}}),"undefined"==typeof eventjs)var eventjs={};if(function(e){"use strict";e.modifyEventListener=!1,e.modifySelectors=!1,e.configure=function(t){isFinite(t.modifyEventListener)&&(e.modifyEventListener=t.modifyEventListener),isFinite(t.modifySelectors)&&(e.modifySelectors=t.modifySelectors),d===!1&&e.modifyEventListener&&p(),m===!1&&e.modifySelectors&&g()},e.add=function(e,t,r,i){return n(e,t,r,i,"add")},e.remove=function(e,t,r,i){return n(e,t,r,i,"remove")},e.returnFalse=function(e){return!1},e.stop=function(e){e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.cancelBubbleCount=0)},e.prevent=function(e){e&&(e.preventDefault?e.preventDefault():e.preventManipulation?e.preventManipulation():e.returnValue=!1)},e.cancel=function(t){e.stop(t),e.prevent(t)},e.blur=function(){var e=document.activeElement;if(e){var t=document.activeElement.nodeName;"INPUT"!==t&&"TEXTAREA"!==t&&"true"!==e.contentEditable||e.blur&&e.blur()}},e.getEventSupport=function(e,t){if("string"==typeof e&&(t=e,e=window),t="on"+t,t in e)return!0;if(e.setAttribute||(e=document.createElement("div")),e.setAttribute&&e.removeAttribute){e.setAttribute(t,"");var n="function"==typeof e[t];return"undefined"!=typeof e[t]&&(e[t]=null),e.removeAttribute(t),n}};var t=function(e){if(!e||"object"!=typeof e)return e;var n=new e.constructor;for(var r in e)e[r]&&"object"==typeof e[r]?n[r]=t(e[r]):n[r]=e[r];return n},n=function(o,s,l,d,p,m){if(d=d||{},"[object Object]"===String(o)){var g=o;if(o=g.target,delete g.target,!g.type||!g.listener){for(var v in g){var y=g[v];"function"!=typeof y&&(d[v]=y)}var _={};for(var b in g){var v=b.split(","),w=g[b],S={};for(var x in d)S[x]=d[x];if("function"==typeof w)var l=w;else{if("function"!=typeof w.listener)continue;var l=w.listener;for(var x in w)"function"!=typeof w[x]&&(S[x]=w[x])}for(var T=0;T<v.length;T++)_[b]=eventjs.add(o,v[T],l,S,p)}return _}s=g.type,delete g.type,l=g.listener,delete g.listener;for(var b in g)d[b]=g[b]}if(o&&s&&l){if("string"==typeof o&&"ready"===s){if(!window.eventjs_stallOnReady){var E=(new Date).getTime(),q=d.timeout,C=d.interval||1e3/60,k=window.setInterval(function(){(new Date).getTime()-E>q&&window.clearInterval(k),document.querySelector(o)&&(window.clearInterval(k),setTimeout(function(){l()},1))},C);return}s="load",o=window}if("string"==typeof o){if(o=document.querySelectorAll(o),0===o.length)return i("Missing target on listener!",arguments);1===o.length&&(o=o[0])}var P,O={};if(o.length>0&&o!==window){for(var A=0,M=o.length;A<M;A++)P=n(o[A],s,l,t(d),p),P&&(O[A]=P);return r(O)}if("string"==typeof s&&(s=s.toLowerCase(),s.indexOf(" ")!==-1?s=s.split(" "):s.indexOf(",")!==-1&&(s=s.split(","))),"string"!=typeof s){if("number"==typeof s.length)for(var j=0,I=s.length;j<I;j++)P=n(o,s[j],l,t(d),p),P&&(O[s[j]]=P);else for(var b in s)P="function"==typeof s[b]?n(o,b,s[b],t(d),p):n(o,b,s[b].listener,t(s[b]),p),P&&(O[b]=P);return r(O)}if(0===s.indexOf("on")&&(s=s.substr(2)),"object"!=typeof o)return i("Target is not defined!",arguments);if("function"!=typeof l)return i("Listener is not a function!",arguments);var R=d.useCapture||!1,D=c(o)+"."+c(l)+"."+(R?1:0);if(e.Gesture&&e.Gesture._gestureHandlers[s]){if(D=s+D,"remove"===p){if(!u[D])return;u[D].remove(),delete u[D]}else if("add"===p){if(u[D])return u[D].add(),u[D];if(d.useCall&&!e.modifyEventListener){var F=l;l=function(e,t){for(var n in t)e[n]=t[n];return F.call(o,e)}}d.gesture=s,d.target=o,d.listener=l,d.fromOverwrite=m,u[D]=e.proxy[s](d)}return u[D]}for(var N,L=a(s),T=0;T<L.length;T++)if(s=L[T],N=s+"."+D,"remove"===p){if(!u[N])continue;o[f](s,l,R),delete u[N]}else if("add"===p){if(u[N])return u[N];o[h](s,l,R),u[N]={id:N,type:s,target:o,listener:l,remove:function(){for(var t=0;t<L.length;t++)e.remove(o,L[t],l,d)}}}return u[N]}},r=function(e){return{remove:function(){for(var t in e)e[t].remove()},add:function(){for(var t in e)e[t].add()}}},i=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.error&&console.error(e,t)},o={msPointer:["MSPointerDown","MSPointerMove","MSPointerUp"],touch:["touchstart","touchmove","touchend"],mouse:["mousedown","mousemove","mouseup"]},s={MSPointerDown:0,MSPointerMove:1,MSPointerUp:2,touchstart:0,touchmove:1,touchend:2,mousedown:0,mousemove:1,mouseup:2},a=(function(){e.supports={},window.navigator.msPointerEnabled&&(e.supports.msPointer=!0),e.getEventSupport("touchstart")&&(e.supports.touch=!0),e.getEventSupport("mousedown")&&(e.supports.mouse=!0)}(),function(){return function(t){var n=document.addEventListener?"":"on",r=s[t];if(isFinite(r)){var i=[];for(var a in e.supports)i.push(n+o[a][r]);return i}return[n+t]}}()),u={},l=0,c=function(e){return e===window?"#window":e===document?"#document":(e.uniqueID||(e.uniqueID="e"+l++),e.uniqueID)},h=document.addEventListener?"addEventListener":"attachEvent",f=document.removeEventListener?"removeEventListener":"detachEvent";e.createPointerEvent=function(t,n,r){var i=n.gesture,o=n.target,s=t.changedTouches||e.proxy.getCoords(t);if(s.length){var a=s[0];n.pointers=r?[]:s,n.pageX=a.pageX,n.pageY=a.pageY,n.x=n.pageX,n.y=n.pageY}var u=document.createEvent("Event");u.initEvent(i,!0,!0),u.originalEvent=t;for(var l in n)"target"!==l&&(u[l]=n[l]);var c=u.type;e.Gesture&&e.Gesture._gestureHandlers[c]&&n.oldListener.call(o,u,n,!1)};var d=!1,p=function(){if(window.HTMLElement){var t=function(t){var r=function(r){var i=r+"EventListener",o=t[i];t[i]=function(t,i,s){if(e.Gesture&&e.Gesture._gestureHandlers[t]){var u=s;"object"==typeof s?u.useCall=!0:u={useCall:!0,useCapture:s},n(this,t,i,u,r,!0)}else for(var l=a(t),c=0;c<l.length;c++)o.call(this,l[c],i,s)}};r("add"),r("remove")};navigator.userAgent.match(/Firefox/)?(t(HTMLDivElement.prototype),t(HTMLCanvasElement.prototype)):t(HTMLElement.prototype),t(document),t(window)}},m=!1,g=function(){var e=NodeList.prototype;e.removeEventListener=function(e,t,n){for(var r=0,i=this.length;r<i;r++)this[r].removeEventListener(e,t,n)},e.addEventListener=function(e,t,n){for(var r=0,i=this.length;r<i;r++)this[r].addEventListener(e,t,n)}};return e}(eventjs),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";e.pointerSetup=function(e,t){e.target=e.target||window,e.doc=e.target.ownerDocument||e.target,e.minFingers=e.minFingers||e.fingers||1,e.maxFingers=e.maxFingers||e.fingers||1/0,e.position=e.position||"relative",delete e.fingers,t=t||{},t.enabled=!0,t.gesture=e.gesture,t.target=e.target,t.env=e.env,eventjs.modifyEventListener&&e.fromOverwrite&&(e.oldListener=e.listener,e.listener=eventjs.createPointerEvent);var n=0,r=0===t.gesture.indexOf("pointer")&&eventjs.modifyEventListener?"pointer":"mouse";return e.oldListener&&(t.oldListener=e.oldListener),t.listener=e.listener,t.proxy=function(n){t.defaultListener=e.listener,e.listener=n,n(e.event,t)},t.add=function(){t.enabled!==!0&&(e.onPointerDown&&eventjs.add(e.target,r+"down",e.onPointerDown),e.onPointerMove&&eventjs.add(e.doc,r+"move",e.onPointerMove),e.onPointerUp&&eventjs.add(e.doc,r+"up",e.onPointerUp),t.enabled=!0)},t.remove=function(){t.enabled!==!1&&(e.onPointerDown&&eventjs.remove(e.target,r+"down",e.onPointerDown),e.onPointerMove&&eventjs.remove(e.doc,r+"move",e.onPointerMove),e.onPointerUp&&eventjs.remove(e.doc,r+"up",e.onPointerUp),t.reset(),t.enabled=!1)},t.pause=function(t){!e.onPointerMove||t&&!t.move||eventjs.remove(e.doc,r+"move",e.onPointerMove),!e.onPointerUp||t&&!t.up||eventjs.remove(e.doc,r+"up",e.onPointerUp),n=e.fingers,e.fingers=0},t.resume=function(t){!e.onPointerMove||t&&!t.move||eventjs.add(e.doc,r+"move",e.onPointerMove),!e.onPointerUp||t&&!t.up||eventjs.add(e.doc,r+"up",e.onPointerUp),e.fingers=n},t.reset=function(){e.tracker={},e.fingers=0},t};var t=eventjs.supports;eventjs.isMouse=!!t.mouse,eventjs.isMSPointer=!!t.touch,eventjs.isTouch=!!t.msPointer,e.pointerStart=function(t,n,r){var i=(t.type||"mousedown").toUpperCase();0===i.indexOf("MOUSE")?(eventjs.isMouse=!0,eventjs.isTouch=!1,eventjs.isMSPointer=!1):0===i.indexOf("TOUCH")?(eventjs.isMouse=!1,eventjs.isTouch=!0,eventjs.isMSPointer=!1):0===i.indexOf("MSPOINTER")&&(eventjs.isMouse=!1,eventjs.isTouch=!1,eventjs.isMSPointer=!0);var o=function(e,t){var n=r.bbox,i=a[t]={};switch(r.position){case"absolute":i.offsetX=0,i.offsetY=0;break;case"differenceFromLast":i.offsetX=e.pageX,i.offsetY=e.pageY;break;case"difference":i.offsetX=e.pageX,i.offsetY=e.pageY;break;case"move":i.offsetX=e.pageX-n.x1,i.offsetY=e.pageY-n.y1;break;default:i.offsetX=n.x1-n.scrollLeft,i.offsetY=n.y1-n.scrollTop}var o=e.pageX-i.offsetX,s=e.pageY-i.offsetY;i.rotation=0,i.scale=1,i.startTime=i.moveTime=(new Date).getTime(),i.move={x:o,y:s},i.start={x:o,y:s},r.fingers++};r.event=t,n.defaultListener&&(r.listener=n.defaultListener,delete n.defaultListener);for(var s=!r.fingers,a=r.tracker,u=t.changedTouches||e.getCoords(t),l=u.length,c=0;c<l;c++){var h=u[c],f=h.identifier||1/0;if(r.fingers){if(r.fingers>=r.maxFingers){var d=[];for(var f in r.tracker)d.push(f);return n.identifier=d.join(","),s}var p=0;for(var m in a){if(a[m].up){delete a[m],o(h,f),r.cancel=!0;break}p++}if(a[f])continue;o(h,f)}else a=r.tracker={},n.bbox=r.bbox=e.getBoundingBox(r.target),r.fingers=0,r.cancel=!1,o(h,f)}var d=[];for(var f in r.tracker)d.push(f);return n.identifier=d.join(","),s},e.pointerEnd=function(e,t,n,r){for(var i=e.touches||[],o=i.length,s={},a=0;a<o;a++){var u=i[a],l=u.identifier;s[l||1/0]=!0}for(var l in n.tracker){var c=n.tracker[l];s[l]||c.up||(r&&r({pageX:c.pageX,pageY:c.pageY,changedTouches:[{pageX:c.pageX,pageY:c.pageY,identifier:"Infinity"===l?1/0:l}]},"up"),c.up=!0,n.fingers--)}if(0!==n.fingers)return!1;var h=[];n.gestureFingers=0;for(var l in n.tracker)n.gestureFingers++,h.push(l);return t.identifier=h.join(","),!0},e.getCoords=function(t){return"undefined"!=typeof t.pageX?e.getCoords=function(e){return Array({type:"mouse",x:e.pageX,y:e.pageY,pageX:e.pageX,pageY:e.pageY,identifier:e.pointerId||1/0})}:e.getCoords=function(e){var t=document.documentElement;return e=e||window.event,Array({type:"mouse",x:e.clientX+t.scrollLeft,y:e.clientY+t.scrollTop,pageX:e.clientX+t.scrollLeft,pageY:e.clientY+t.scrollTop,identifier:1/0})},e.getCoords(t)},e.getCoord=function(t){if("ontouchstart"in window){var n=0,r=0;e.getCoord=function(e){var t=e.changedTouches;return t&&t.length?{x:n=t[0].pageX,y:r=t[0].pageY}:{x:n,y:r}}}else"undefined"!=typeof t.pageX&&"undefined"!=typeof t.pageY?e.getCoord=function(e){return{x:e.pageX,y:e.pageY}}:e.getCoord=function(e){var t=document.documentElement;return e=e||window.event,{x:e.clientX+t.scrollLeft,y:e.clientY+t.scrollTop}};return e.getCoord(t)};var n=function(e,t){var n=parseFloat(e.getPropertyValue(t),10);return isFinite(n)?n:0};return e.getBoundingBox=function(e){e!==window&&e!==document||(e=document.body);var t={},r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,t.x1=r.left,t.y1=r.top,t.scaleX=r.width/e.offsetWidth||1,t.scaleY=r.height/e.offsetHeight||1,t.scrollLeft=0,t.scrollTop=0;var i=window.getComputedStyle(e),o="border-box"===i.getPropertyValue("box-sizing");if(o===!1){var s=n(i,"border-left-width"),a=n(i,"border-right-width"),u=n(i,"border-bottom-width"),l=n(i,"border-top-width");t.border=[s,a,l,u],t.x1+=s,t.y1+=l,t.width-=a+s,t.height-=u+l}t.x2=t.x1+t.width,t.y2=t.y1+t.height;for(var c=i.getPropertyValue("position"),h="fixed"===c?e:e.parentNode;null!==h&&h!==document.body&&void 0!==h.scrollTop;){var i=window.getComputedStyle(h),c=i.getPropertyValue("position");if("absolute"===c);else{if("fixed"===c){t.scrollTop-=h.parentNode.scrollTop,t.scrollLeft-=h.parentNode.scrollLeft;break}t.scrollLeft+=h.scrollLeft,t.scrollTop+=h.scrollTop}h=h.parentNode}return t.scrollBodyLeft=void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t.scrollBodyTop=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,t.scrollLeft-=t.scrollBodyLeft,t.scrollTop-=t.scrollBodyTop,t},function(){var t,n=navigator.userAgent.toLowerCase(),r=n.indexOf("macintosh")!==-1;t=r&&n.indexOf("khtml")!==-1?{91:!0,93:!0}:r&&n.indexOf("firefox")!==-1?{224:!0}:{17:!0},(e.metaTrackerReset=function(){eventjs.fnKey=e.fnKey=!1,eventjs.metaKey=e.metaKey=!1,eventjs.escKey=e.escKey=!1,eventjs.ctrlKey=e.ctrlKey=!1,eventjs.shiftKey=e.shiftKey=!1,eventjs.altKey=e.altKey=!1})(),e.metaTracker=function(n){var r="keydown"===n.type;27===n.keyCode&&(eventjs.escKey=e.escKey=r),t[n.keyCode]&&(eventjs.metaKey=e.metaKey=r),eventjs.ctrlKey=e.ctrlKey=n.ctrlKey,eventjs.shiftKey=e.shiftKey=n.shiftKey,eventjs.altKey=e.altKey=n.altKey}}(),e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if(eventjs.MutationObserver=function(){var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,t=!e&&function(){var e=document.createElement("p"),t=!1,n=function(){t=!0};if(e.addEventListener)e.addEventListener("DOMAttrModified",n,!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",n)}return e.setAttribute("id","target"),t}();return function(n,r){if(e){var i={subtree:!1,attributes:!0},o=new e(function(e){e.forEach(function(e){r.call(e.target,e.attributeName)})});o.observe(n,i)}else t?eventjs.add(n,"DOMAttrModified",function(e){r.call(n,e.attrName)}):"onpropertychange"in document.body&&eventjs.add(n,"propertychange",function(e){r.call(n,window.event.propertyName)})}}(),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.click=function(t){t.gesture=t.gesture||"click",t.maxFingers=t.maxFingers||t.fingers||1,t.onPointerDown=function(r){e.pointerStart(r,n,t)&&eventjs.add(t.target,"mouseup",t.onPointerUp)},t.onPointerUp=function(r){if(e.pointerEnd(r,n,t)){eventjs.remove(t.target,"mouseup",t.onPointerUp);var i=r.changedTouches||e.getCoords(r),o=i[0],s=t.bbox,a=e.getBoundingBox(t.target),u=o.pageY-a.scrollBodyTop,l=o.pageX-a.scrollBodyLeft;if(l>s.x1&&u>s.y1&&l<s.x2&&u<s.y2&&s.scrollTop===a.scrollTop){for(var c in t.tracker)break;var h=t.tracker[c];n.x=h.start.x,n.y=h.start.y,t.listener(r,n)}}};var n=e.pointerSetup(t);return n.state="click",eventjs.add(t.target,"mousedown",t.onPointerDown),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.click=e.click,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.dbltap=e.dblclick=function(t){t.gesture=t.gesture||"dbltap",t.maxFingers=t.maxFingers||t.fingers||1;var n,r,i,o,s,a=300;t.onPointerDown=function(l){var c=l.changedTouches||e.getCoords(l);n&&!r?(s=c[0],r=(new Date).getTime()-n):(o=c[0],n=(new Date).getTime(),r=0,clearTimeout(i),i=setTimeout(function(){n=0},a)),e.pointerStart(l,u,t)&&(eventjs.add(t.target,"mousemove",t.onPointerMove).listener(l),eventjs.add(t.target,"mouseup",t.onPointerUp))},t.onPointerMove=function(a){if(n&&!r){var u=a.changedTouches||e.getCoords(a);s=u[0]}var l=t.bbox,c=s.pageX-l.x1,h=s.pageY-l.y1;c>0&&c<l.width&&h>0&&h<l.height&&Math.abs(s.pageX-o.pageX)<=25&&Math.abs(s.pageY-o.pageY)<=25||(eventjs.remove(t.target,"mousemove",t.onPointerMove),clearTimeout(i),n=r=0)},t.onPointerUp=function(o){if(e.pointerEnd(o,u,t)&&(eventjs.remove(t.target,"mousemove",t.onPointerMove),eventjs.remove(t.target,"mouseup",t.onPointerUp)),n&&r){if(r<=a){u.state=t.gesture;for(var s in t.tracker)break;var l=t.tracker[s];u.x=l.start.x,u.y=l.start.y,t.listener(o,u)}clearTimeout(i),n=r=0}};var u=e.pointerSetup(t);return u.state="dblclick",eventjs.add(t.target,"mousedown",t.onPointerDown),u},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.dbltap=e.dbltap,eventjs.Gesture._gestureHandlers.dblclick=e.dblclick,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.dragElement=function(t,n){e.drag({event:n,target:t,position:"move",listener:function(e,n){t.style.left=n.x+"px",t.style.top=n.y+"px",eventjs.prevent(e)}})},e.drag=function(t){t.gesture="drag",t.onPointerDown=function(r){e.pointerStart(r,n,t)&&(t.monitor||(eventjs.add(t.doc,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp))),t.onPointerMove(r,"down")},t.onPointerMove=function(r,i){if(!t.tracker)return t.onPointerDown(r);for(var o=(t.bbox,r.changedTouches||e.getCoords(r)),s=o.length,a=0;a<s;a++){var u=o[a],l=u.identifier||1/0,c=t.tracker[l];c&&(c.pageX=u.pageX,c.pageY=u.pageY,n.state=i||"move",n.identifier=l,n.start=c.start,n.fingers=t.fingers,"differenceFromLast"===t.position?(n.x=c.pageX-c.offsetX,n.y=c.pageY-c.offsetY,c.offsetX=c.pageX,c.offsetY=c.pageY):(n.x=c.pageX-c.offsetX,n.y=c.pageY-c.offsetY),t.listener(r,n))}},t.onPointerUp=function(r){e.pointerEnd(r,n,t,t.onPointerMove)&&(t.monitor||(eventjs.remove(t.doc,"mousemove",t.onPointerMove),eventjs.remove(t.doc,"mouseup",t.onPointerUp)))};var n=e.pointerSetup(t);return t.event?t.onPointerDown(t.event):(eventjs.add(t.target,"mousedown",t.onPointerDown),t.monitor&&(eventjs.add(t.doc,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp))),n},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.drag=e.drag,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";var t=Math.PI/180,n=function(e,t){var n=0,r=0,i=0;for(var o in t){var s=t[o];s.up||(n+=s.move.x,r+=s.move.y,i++)}return e.x=n/=i,e.y=r/=i,e};return e.gesture=function(r){r.gesture=r.gesture||"gesture",r.minFingers=r.minFingers||r.fingers||2,r.onPointerDown=function(t){var o=r.fingers;if(e.pointerStart(t,i,r)&&(eventjs.add(r.doc,"mousemove",r.onPointerMove),eventjs.add(r.doc,"mouseup",r.onPointerUp)),r.fingers===r.minFingers&&o!==r.fingers){i.fingers=r.minFingers,i.scale=1,i.rotation=0,i.state="start";var s="";for(var a in r.tracker)s+=a;i.identifier=parseInt(s),n(i,r.tracker),r.listener(t,i)}},r.onPointerMove=function(o,s){for(var a=r.bbox,u=r.tracker,l=o.changedTouches||e.getCoords(o),c=l.length,h=0;h<c;h++){var f=l[h],d=f.identifier||1/0,p=u[d];p&&(p.move.x=f.pageX-a.x1,p.move.y=f.pageY-a.y1)}if(!(r.fingers<r.minFingers)){var l=[],m=0,g=0;n(i,u);for(var d in u){var f=u[d];if(!f.up){var v=f.start;if(!v.distance){var y=v.x-i.x,_=v.y-i.y;v.distance=Math.sqrt(y*y+_*_),v.angle=Math.atan2(y,_)/t}var y=f.move.x-i.x,_=f.move.y-i.y,b=Math.sqrt(y*y+_*_);m+=b/v.distance;var w=Math.atan2(y,_)/t,S=(v.angle-w+360)%360-180;f.DEG2=f.DEG1,f.DEG1=S>0?S:-S,"undefined"!=typeof f.DEG2&&(S>0?f.rotation+=f.DEG1-f.DEG2:f.rotation-=f.DEG1-f.DEG2,g+=f.rotation),l.push(f.move)}}i.touches=l,i.fingers=r.fingers,i.scale=m/r.fingers,i.rotation=g/r.fingers,i.state="change",r.listener(o,i)}},r.onPointerUp=function(t){var n=r.fingers;e.pointerEnd(t,i,r)&&(eventjs.remove(r.doc,"mousemove",r.onPointerMove),eventjs.remove(r.doc,"mouseup",r.onPointerUp)),n===r.minFingers&&r.fingers<r.minFingers&&(i.fingers=r.fingers,i.state="end",r.listener(t,i))};var i=e.pointerSetup(r);return eventjs.add(r.target,"mousedown",r.onPointerDown),i},eventjs.Gesture=eventjs.Gesture||{},
eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.gesture=e.gesture,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.pointerdown=e.pointermove=e.pointerup=function(t){if(t.gesture=t.gesture||"pointer",!t.target.isPointerEmitter){var n=!0;t.onPointerDown=function(e){n=!1,r.gesture="pointerdown",t.listener(e,r)},t.onPointerMove=function(e){r.gesture="pointermove",t.listener(e,r,n)},t.onPointerUp=function(e){n=!0,r.gesture="pointerup",t.listener(e,r,!0)};var r=e.pointerSetup(t);return eventjs.add(t.target,"mousedown",t.onPointerDown),eventjs.add(t.target,"mousemove",t.onPointerMove),eventjs.add(t.doc,"mouseup",t.onPointerUp),t.target.isPointerEmitter=!0,r}},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.pointerdown=e.pointerdown,eventjs.Gesture._gestureHandlers.pointermove=e.pointermove,eventjs.Gesture._gestureHandlers.pointerup=e.pointerup,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.shake=function(e){var t={gesture:"devicemotion",acceleration:{},accelerationIncludingGravity:{},target:e.target,listener:e.listener,remove:function(){window.removeEventListener("devicemotion",l,!1)}},n=4,r=1e3,i=200,o=3,s=(new Date).getTime(),a={x:0,y:0,z:0},u={x:{count:0,value:0},y:{count:0,value:0},z:{count:0,value:0}},l=function(l){var c=.8,h=l.accelerationIncludingGravity;if(a.x=c*a.x+(1-c)*h.x,a.y=c*a.y+(1-c)*h.y,a.z=c*a.z+(1-c)*h.z,t.accelerationIncludingGravity=a,t.acceleration.x=h.x-a.x,t.acceleration.y=h.y-a.y,t.acceleration.z=h.z-a.z,"devicemotion"===e.gesture)return void e.listener(l,t);for(var f="xyz",d=(new Date).getTime(),p=0,m=f.length;p<m;p++){var g=f[p],v=t.acceleration[g],y=u[g],_=Math.abs(v);if(!(d-s<r)&&_>n){var b=d*v/_,w=Math.abs(b+y.value);y.value&&w<i?(y.value=b,y.count++,y.count===o&&(e.listener(l,t),s=d,y.value=0,y.count=0)):(y.value=b,y.count=1)}}};if(window.addEventListener)return window.addEventListener("devicemotion",l,!1),t},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.shake=e.shake,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";var t=Math.PI/180;return e.swipe=function(n){n.snap=n.snap||90,n.threshold=n.threshold||1,n.gesture=n.gesture||"swipe",n.onPointerDown=function(t){e.pointerStart(t,r,n)&&(eventjs.add(n.doc,"mousemove",n.onPointerMove).listener(t),eventjs.add(n.doc,"mouseup",n.onPointerUp))},n.onPointerMove=function(t){for(var r=t.changedTouches||e.getCoords(t),i=r.length,o=0;o<i;o++){var s=r[o],a=s.identifier||1/0,u=n.tracker[a];u&&(u.move.x=s.pageX,u.move.y=s.pageY,u.moveTime=(new Date).getTime())}},n.onPointerUp=function(i){if(e.pointerEnd(i,r,n)){eventjs.remove(n.doc,"mousemove",n.onPointerMove),eventjs.remove(n.doc,"mouseup",n.onPointerUp);var o,s,a,u,l={x:0,y:0},c=0,h=0,f=0;for(var d in n.tracker){var p=n.tracker[d],m=p.move.x-p.start.x,g=p.move.y-p.start.y;c+=p.move.x,h+=p.move.y,l.x+=p.start.x,l.y+=p.start.y,f++;var v=Math.sqrt(m*m+g*g),y=p.moveTime-p.startTime,u=Math.atan2(m,g)/t+180,s=y?v/y:0;if("undefined"==typeof a)a=u,o=s;else{if(!(Math.abs(u-a)<=20))return;a=(a+u)/2,o=(o+s)/2}}var _=n.gestureFingers;n.minFingers<=_&&n.maxFingers>=_&&o>n.threshold&&(l.x/=f,l.y/=f,r.start=l,r.x=c/f,r.y=h/f,r.angle=-(((a/n.snap+.5>>0)*n.snap||360)-360),r.velocity=o,r.fingers=_,r.state="swipe",n.listener(i,r))}};var r=e.pointerSetup(n);return eventjs.add(n.target,"mousedown",n.onPointerDown),r},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.swipe=e.swipe,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};if("undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.longpress=function(t){return t.gesture="longpress",e.tap(t)},e.tap=function(t){t.delay=t.delay||500,t.timeout=t.timeout||250,t.driftDeviance=t.driftDeviance||10,t.gesture=t.gesture||"tap";var n,r;t.onPointerDown=function(o){if(e.pointerStart(o,i,t)){if(n=(new Date).getTime(),eventjs.add(t.doc,"mousemove",t.onPointerMove).listener(o),eventjs.add(t.doc,"mouseup",t.onPointerUp),"longpress"!==t.gesture)return;r=setTimeout(function(){if(!(o.cancelBubble&&++o.cancelBubbleCount>1)){var e=0;for(var n in t.tracker){var r=t.tracker[n];if(r.end===!0)return;if(t.cancel)return;e++}t.minFingers<=e&&t.maxFingers>=e&&(i.state="start",i.fingers=e,i.x=r.start.x,i.y=r.start.y,t.listener(o,i))}},t.delay)}},t.onPointerMove=function(n){for(var r=t.bbox,i=n.changedTouches||e.getCoords(n),o=i.length,s=0;s<o;s++){var a=i[s],u=a.identifier||1/0,l=t.tracker[u];if(l){var c=a.pageX-r.x1,h=a.pageY-r.y1,f=c-l.start.x,d=h-l.start.y,p=Math.sqrt(f*f+d*d);if(!(c>0&&c<r.width&&h>0&&h<r.height&&p<=t.driftDeviance))return eventjs.remove(t.doc,"mousemove",t.onPointerMove),void(t.cancel=!0)}}},t.onPointerUp=function(o){if(e.pointerEnd(o,i,t)){if(clearTimeout(r),eventjs.remove(t.doc,"mousemove",t.onPointerMove),eventjs.remove(t.doc,"mouseup",t.onPointerUp),o.cancelBubble&&++o.cancelBubbleCount>1)return;if("longpress"===t.gesture)return void("start"===i.state&&(i.state="end",t.listener(o,i)));if(t.cancel)return;if((new Date).getTime()-n>t.timeout)return;var s=t.gestureFingers;t.minFingers<=s&&t.maxFingers>=s&&(i.state="tap",i.fingers=t.gestureFingers,t.listener(o,i))}};var i=e.pointerSetup(t);return eventjs.add(t.target,"mousedown",t.onPointerDown),i},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.tap=e.tap,eventjs.Gesture._gestureHandlers.longpress=e.longpress,e}(eventjs.proxy),"undefined"==typeof eventjs)var eventjs={};"undefined"==typeof eventjs.proxy&&(eventjs.proxy={}),eventjs.proxy=function(e){"use strict";return e.wheelPreventElasticBounce=function(e){e&&("string"==typeof e&&(e=document.querySelector(e)),eventjs.add(e,"wheel",function(e,t){t.preventElasticBounce(),eventjs.stop(e)}))},e.wheel=function(e){var t,n=e.timeout||150,r=0,i={gesture:"wheel",state:"start",wheelDelta:0,target:e.target,listener:e.listener,preventElasticBounce:function(e){var t=this.target,n=t.scrollTop,r=n+t.offsetHeight,i=t.scrollHeight;r===i&&this.wheelDelta<=0?eventjs.cancel(e):0===n&&this.wheelDelta>=0&&eventjs.cancel(e),eventjs.stop(e)},add:function(){e.target[s](u,o,!1)},remove:function(){e.target[a](u,o,!1)}},o=function(o){o=o||window.event,i.state=r++?"change":"start",i.wheelDelta=o.detail?o.detail*-20:o.wheelDelta,e.listener(o,i),clearTimeout(t),t=setTimeout(function(){r=0,i.state="end",i.wheelDelta=0,e.listener(o,i)},n)},s=document.addEventListener?"addEventListener":"attachEvent",a=document.removeEventListener?"removeEventListener":"detachEvent",u=eventjs.getEventSupport("mousewheel")?"mousewheel":"DOMMouseScroll";return e.target[s](u,o,!1),i},eventjs.Gesture=eventjs.Gesture||{},eventjs.Gesture._gestureHandlers=eventjs.Gesture._gestureHandlers||{},eventjs.Gesture._gestureHandlers.wheel=e.wheel,e}(eventjs.proxy),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Polyglot=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(h===setTimeout)return setTimeout(e,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(e,0);try{return h(e,0)}catch(t){try{return h.call(null,e,0)}catch(t){return h.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?m=p.concat(m):v=-1,m.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,g=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var h,f,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(e){h=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var p,m=[],g=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||g||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],2:[function(e,t,n){"use strict";function r(e){var t={};return u(e,function(e,n){u(e,function(e){t[e]=n})}),t}function i(e){var t=r(v);return t[e]||t[p.call(e,/-/,1)[0]]||t.en}function o(e,t){return g[i(e)](t)}function s(e,t,n){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,i="number"==typeof t?{smart_count:t}:t;if(null!=i.smart_count&&r){var s=p.call(r,m);r=h(s[o(n||"en",i.smart_count)]||s[0])}return r=d.call(r,b,function(e,t){return c(i,t)&&null!=i[t]?d.call(i[t],y,_):e})}function a(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||f}var u=e("for-each"),l=e("warning"),c=e("has"),h=e("string.prototype.trim"),f=function(e){l(!1,e)},d=String.prototype.replace,p=String.prototype.split,m="||||",g={arabic:function(e){return e<3?e:e%100>=3&&e%100<=10?3:e%100>=11?4:5},chinese:function(){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!==1||e%100===11?1:0}},v={arabic:["ar"],chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru","lt"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]},y=/\$/g,_="$$",b=/%\{(.*?)\}/g;a.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},a.prototype.extend=function(e,t){u(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.extend(e,r):this.phrases[r]=e},this)},a.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:u(e,function(e,n){var r=t?t+"."+n:n;"object"==typeof e?this.unset(e,r):delete this.phrases[r]},this)},a.prototype.clear=function(){this.phrases={}},a.prototype.replace=function(e){this.clear(),this.extend(e)},a.prototype.t=function(e,t){var n,r,i=null==t?{}:t;return"string"==typeof this.phrases[e]?n=this.phrases[e]:"string"==typeof i._?n=i._:this.allowMissing?n=e:(this.warn('Missing translation for key: "'+e+'"'),r=e),"string"==typeof n&&(r=s(n,i,this.currentLocale)),r},a.prototype.has=function(e){return c(this.phrases,e)},a.transformPhrase=s,t.exports=a},{"for-each":3,has:7,"string.prototype.trim":9,warning:26}],3:[function(e,t,n){function r(e,t,n){if(!a(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?i(e,t,n):"string"==typeof e?o(e,t,n):s(e,t,n)}function i(e,t,n){for(var r=0,i=e.length;r<i;r++)l.call(e,r)&&t.call(n,e[r],r,e)}function o(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function s(e,t,n){for(var r in e)l.call(e,r)&&t.call(n,e[r],r,e)}var a=e("is-function");t.exports=r;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},{"is-function":4}],4:[function(e,t,n){function r(e){var t=i.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}t.exports=r;var i=Object.prototype.toString},{}],5:[function(e,t,n){var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(e){var t=this;if("function"!=typeof t||o.call(t)!==s)throw new TypeError(r+t);for(var n,a=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},l=Math.max(0,t.length-a.length),c=[],h=0;h<l;h++)c.push("$"+h);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var f=function(){};f.prototype=t.prototype,n.prototype=new f,f.prototype=null}return n}},{}],6:[function(e,t,n){var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":5}],7:[function(e,t,n){var r=e("function-bind");t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":6}],8:[function(e,t,n){"use strict";var r=e("function-bind"),i=e("es-abstract/es5"),o=r.call(Function.call,String.prototype.replace),s=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,a=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var e=i.ToString(i.CheckObjectCoercible(this));return o(o(e,s,""),a,"")}},{"es-abstract/es5":14,"function-bind":23}],9:[function(e,t,n){"use strict";var r=e("function-bind"),i=e("define-properties"),o=e("./implementation"),s=e("./polyfill"),a=e("./shim"),u=r.call(Function.call,s());i(u,{getPolyfill:s,implementation:o,shim:a}),t.exports=u},{"./implementation":8,"./polyfill":24,"./shim":25,"define-properties":10,"function-bind":23}],10:[function(e,t,n){"use strict";var r=e("object-keys"),i=e("foreach"),o="function"==typeof Symbol&&"symbol"==typeof Symbol(),s=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===s.call(e)},u=function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(n){return!1}},l=Object.defineProperty&&u(),c=function(e,t,n,r){(!(t in e)||a(r)&&r())&&(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},h=function(e,t){var n=arguments.length>2?arguments[2]:{},s=r(t);o&&(s=s.concat(Object.getOwnPropertySymbols(t))),i(s,function(r){c(e,r,t[r],n[r])})};h.supportsDescriptors=!!l,t.exports=h},{foreach:11,"object-keys":12}],11:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==i.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var s=0;s<o;s++)t.call(n,e[s],s,e);else for(var a in e)r.call(e,a)&&t.call(n,e[a],a,e)}},{}],12:[function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=Array.prototype.slice,s=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},f={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(t){return!0}}catch(t){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!d)return h(e);try{return h(e)}catch(t){return!1}},m=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),o=s(e),a=t&&"[object String]"===i.call(e),h=[];if(!t&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var f=l&&n;if(a&&e.length>0&&!r.call(e,0))for(var d=0;d<e.length;++d)h.push(String(d));if(o&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var g in e)f&&"prototype"===g||!r.call(e,g)||h.push(String(g));if(u)for(var v=p(e),y=0;y<c.length;++y)v&&"constructor"===c[y]||!r.call(e,c[y])||h.push(c[y]);return h};m.shim=function(){if(Object.keys){var e=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!e){var t=Object.keys;Object.keys=function(e){return t(s(e)?o.call(e):e)}}}else Object.keys=m;return Object.keys||m},t.exports=m},{"./isArguments":13}],13:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],14:[function(e,t,n){"use strict";var r=e("./helpers/isNaN"),i=e("./helpers/isFinite"),o=e("./helpers/sign"),s=e("./helpers/mod"),a=e("is-callable"),u=e("es-to-primitive/es5"),l={ToPrimitive:u,ToBoolean:function(e){return Boolean(e)},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&i(t)?o(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!i(t))return 0;var n=o(t)*Math.floor(Math.abs(t));return s(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:a,SameValue:function(e,t){return e===t?0!==e||1/e===1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":"undefined"==typeof e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0}};t.exports=l},{"./helpers/isFinite":15,"./helpers/isNaN":16,"./helpers/mod":17,"./helpers/sign":18,"es-to-primitive/es5":19,"is-callable":21}],15:[function(e,t,n){var r=Number.isNaN||function(e){return e!==e};t.exports=Number.isFinite||function(e){return"number"==typeof e&&!r(e)&&e!==1/0&&e!==-(1/0)}},{}],16:[function(e,t,n){t.exports=Number.isNaN||function(e){return e!==e}},{}],17:[function(e,t,n){t.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},{}],18:[function(e,t,n){t.exports=function(e){return e>=0?1:-1}},{}],19:[function(e,t,n){"use strict";var r=Object.prototype.toString,i=e("./helpers/isPrimitive"),o=e("is-callable"),s={"[[DefaultValue]]":function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var s,a,u=n===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<u.length;++a)if(o(e[u[a]])&&(s=e[u[a]](),i(s)))return s;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};t.exports=function(e,t){return i(e)?e:s["[[DefaultValue]]"](e,t)}},{"./helpers/isPrimitive":20,"is-callable":21}],20:[function(e,t,n){t.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},{}],21:[function(e,t,n){"use strict";var r=Function.prototype.toString,i=/^\s*class /,o=function(e){try{var t=r.call(e),n=t.replace(/\/\/.*\n/g,""),o=n.replace(/\/\*[.\s\S]*\*\//g,""),s=o.replace(/\n/gm," ").replace(/ {2}/g," ");return i.test(s)}catch(a){return!1}},s=function(e){try{return!o(e)&&(r.call(e),!0)}catch(t){return!1}},a=Object.prototype.toString,u="[object Function]",l="[object GeneratorFunction]",c="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;t.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(c)return s(e);if(o(e))return!1;var t=a.call(e);return t===u||t===l}},{}],22:[function(e,t,n){arguments[4][5][0].apply(n,arguments)},{dup:5}],23:[function(e,t,n){arguments[4][6][0].apply(n,arguments)},{"./implementation":22,dup:6}],24:[function(e,t,n){"use strict";var r=e("./implementation"),i="​";t.exports=function(){return String.prototype.trim&&i.trim()===i?String.prototype.trim:r}},{"./implementation":8}],25:[function(e,t,n){"use strict";var r=e("define-properties"),i=e("./polyfill");t.exports=function(){var e=i();return r(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},{"./polyfill":24,"define-properties":10}],26:[function(e,t,n){(function(e){"use strict";var n=function(){};t.exports=n}).call(this,e("_process"))},{_process:1}]},{},[2])(2)}),function(e){e.removeMarkdown=function(e,t){t=t||{},t.stripListLeaders=!t.hasOwnProperty("stripListLeaders")||t.stripListLeaders,t.gfm=!t.hasOwnProperty("gfm")||t.gfm;var n=e;n=n.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(n=n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(n=n.replace(/\n={2,}/g,"\n").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),n=n.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[.*?\][\[\(].*?[\]\)]/g,"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/>/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} #{0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(r){return console.error(r),e}return n}}(window),!function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&"undefined"!=typeof e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var r=new RegExp("(^| )"+t+"( |$)");return r.test(e.className)||!(!n||!r.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var r,i=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(r=e.getElementsByTagName("*"),qq.each(r,function(e,n){qq(n).hasClass(t)&&i.push(n)}),n?i[0]:i)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):(n=e[t],void 0!==n&&null==/^false$/i.exec(n))}}};!function(){"use strict";qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,r,i,o=function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})};return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),r=new Uint8Array(t),qq.each(n,function(e,t){r[e]=t.charCodeAt(0)}),o(t,i)},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,r=n.indexOf("{}");return qq.each(t,function(e,t){var i=n.substring(0,r),o=n.substring(r+2);if(n=i+t+o,r=n.indexOf("{}",r+t.length),r<0)return!1}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){var r=e.slice||e.mozSlice||e.webkitSlice;return r.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(e,n){var r=n.toString(16);r.length<2&&(r="0"+r),t+=r}),t},qq.readBlobToHex=function(e,t,n){var r=qq.sliceBlob(e,t,t+n),i=new FileReader,o=new qq.Promise;return i.onload=function(){o.success(qq.arrayBufferToHex(i.result))},i.onerror=o.failure,i.readAsArrayBuffer(r),o},qq.extend=function(e,t,n){return qq.each(t,function(t,r){n&&qq.isObject(r)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],r,!0)):e[t]=r}),e},qq.override=function(e,t){var n={},r=t(n);return qq.each(r,function(t,r){void 0!==e[t]&&(n[t]=e[t]),e[t]=r}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var r=e.length;for(n<0&&(n+=r);n<r;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,r;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(r=t(e.key(n),e.getItem(e.key(n))),r!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(r=t(n,e[n]),r!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(r=t(n,e.charAt(n)),r!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(r=t(n,e[n]),r===!1))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var r=qq.extend([],n);return arguments.length&&(r=r.concat(Array.prototype.slice.call(arguments))),e.apply(t,r)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var r=[],i="&",o=function(e,n){var i=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==i&&"undefined"!==n&&r.push("object"==typeof e?qq.obj2url(e,i,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(i)+"="+encodeURIComponent(e()):encodeURIComponent(i)+"="+encodeURIComponent(e))};return!n&&t?(i=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",r.push(t),r.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&"undefined"!=typeof e?qq.each(e,function(e,t){
o(t,e)}):"undefined"!=typeof e&&null!==e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):r.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?r.join(i):r.join(i).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(e,r){e=n?n+"["+e+"]":e,qq.isObject(r)?qq.obj2FormData(r,t,e):qq.isFunction(r)?t.append(e,r()):t.append(e,r)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,r){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",r),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";"function"==typeof define&&define.amd?define(function(){return qq}):"undefined"!=typeof module&&module.exports?module.exports=qq:global.qq=qq}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.14.1",qq.supportedFeatures=function(){"use strict";function e(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}function t(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function n(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function r(){if(window.XMLHttpRequest){var e=qq.createXhrInstance();return void 0!==e.withCredentials}return!1}function i(){return void 0!==window.XDomainRequest}function o(){return!!r()||i()}function s(){return void 0!==document.createElement("input").webkitdirectory}function a(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}function u(){var e=document.createElement("span");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!qq.android()&&!qq.ios()}var l,c,h,f,d,p,m,g,v,y,_,b,w,S,x;return l=e(),f=l&&qq.isXhrUploadSupported(),c=f&&!qq.androidStock(),h=f&&u(),d=h&&t(),p=f&&qq.isFileChunkingSupported(),m=f&&p&&a(),g=f&&n(),v=l&&(void 0!==window.postMessage||f),_=r(),y=i(),b=o(),w=s(),S=f&&void 0!==window.FileReader,x=function(){return!!f&&!qq.androidStock()&&!qq.iosChrome()}(),{ajaxUploading:f,blobUploading:c,canDetermineSize:f,chunking:p,deleteFileCors:b,deleteFileCorsXdr:y,deleteFileCorsXhr:_,dialogElement:!!window.HTMLDialogElement,fileDrop:h,folderDrop:d,folderSelection:w,imagePreviews:S,imageValidation:S,itemSizeValidation:f,pause:p,progressBar:x,resume:m,scaling:S&&c,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:l,uploadCors:v,uploadCustomHeaders:f,uploadNonMultipart:f,uploadViaPaste:g}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],r=[],i=[],o=0;qq.extend(this,{then:function(i,s){return 0===o?(i&&n.push(i),s&&r.push(s)):o===-1?s&&s.apply(null,t):i&&i.apply(null,e),this},done:function(n){return 0===o?i.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(t,n){n.apply(null,e)}),i.length&&qq.each(i,function(t,n){n.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,r.length&&qq.each(r,function(e,n){n.apply(null,t)}),i.length&&qq.each(i,function(e,n){n.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,r),e.setAttribute("title",s.title),i.setMultiple(s.multiple,e),s.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),s.acceptFiles&&e.setAttribute("accept",s.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",s.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),s.element.appendChild(e),o.attach(e,"change",function(){s.onChange(e)}),o.attach(e,"mouseover",function(){qq(s.element).addClass(s.hoverClass)}),o.attach(e,"mouseout",function(){qq(s.element).removeClass(s.hoverClass)}),o.attach(e,"focus",function(){qq(s.element).addClass(s.focusClass)}),o.attach(e,"blur",function(){qq(s.element).removeClass(s.focusClass)}),e}var n,r,i=this,o=new qq.DisposeSupport,s={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(s,e),r=qq.getUniqueId(),qq(s.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return r},setMultiple:function(e,t){var n=t||this.getInput();s.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==s.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(s.element).removeClass(s.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";function t(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(i[n])}),t}return i[e]}function n(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(i[o[n]])}),t}return i[o[e]]}function r(e){var t=[],n=[].concat(e);return qq.each(n,function(e,n){var r=s[n];void 0!==r&&qq.each(r,function(e,n){t.push(i[n])})}),t}var i=[],o={},s={},a={},u={};qq.extend(this,{addFile:function(t){var n=t.status||qq.status.SUBMITTING,r=i.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:n})-1;return t.batchId&&(i[r].batchId=t.batchId,void 0===u[t.batchId]&&(u[t.batchId]=[]),u[t.batchId].push(r)),t.proxyGroupId&&(i[r].proxyGroupId=t.proxyGroupId,void 0===a[t.proxyGroupId]&&(a[t.proxyGroupId]=[]),a[t.proxyGroupId].push(r)),i[r].id=r,o[t.uuid]=r,void 0===s[n]&&(s[n]=[]),s[n].push(r),e.onStatusChange(r,null,n),r},retrieve:function(e){return qq.isObject(e)&&i.length?void 0!==e.id?t(e.id):void 0!==e.uuid?n(e.uuid):e.status?r(e.status):void 0:qq.extend([],i,!0)},reset:function(){i=[],o={},s={},u={}},setStatus:function(t,n){var r=i[t].status,o=qq.indexOf(s[r],t);s[r].splice(o,1),i[t].status=n,void 0===s[n]&&(s[n]=[]),s[n].push(t),e.onStatusChange(t,r,n)},uuidChanged:function(e,t){var n=i[e].uuid;i[e].uuid=t,o[t]=e,delete o[n]},updateName:function(e,t){i[e].name=t},updateSize:function(e,t){i[e].size=t},setParentId:function(e,t){i[e].parentId=t},getIdsInProxyGroup:function(e){var t=i[e].proxyGroupId;return t?a[t]:[]},getIdsInBatch:function(e){var t=i[e].batchId;return u[t]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(e,n){t._addCannedFile(n)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var r=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,i=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},r,h)},this),o=qq.bind(function(e){this._handleNewFile(e,r,h)},this),s=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},r,h)},this),a=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},r,h)},this),u=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,r,h)})}else this._handleNewFile(e,r,h)},this),l=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},c=this,h=[];this._currentBatchId=r,e&&(l(),qq.each(e,function(e,t){qq.isFileOrInput(t)?u(t):qq.isBlob(t)?i(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&a(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?s(t):c.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+h.length+" files."),this._prepareItemsForUpload(h,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled||(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),1)))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,r,i){var o,s,a=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],s={customResizeFunction:i,maxSize:n>0?n:null,scale:n>0},!r&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?a.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,s).then(function(e){a.success(e)},function(e,t){a.failure({container:e,error:t||"Problem generating thumbnail"})})):a.failure({container:t,error:"Missing image generator module"}),a},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},removeFileRef:function(e){this._handler.expunge(e)},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},setStatus:function(e,t){var n=this.getUploads({id:e});if(!n)throw new qq.Error(e+" is not a valid file ID.");switch(t){case qq.status.DELETED:this._onDeleteComplete(e,null,!1);break;case qq.status.DELETE_FAILED:this._onDeleteComplete(e,null,!0);break;default:var r="Method setStatus called on '"+name+"' not implemented yet for "+t;throw this.log(r),new qq.Error(r)}},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL});return e.deleteFileEndpoint&&this.setDeleteFileEndpoint(e.deleteFileEndpoint,t),e.deleteFileParams&&this.setDeleteFileParams(e.deleteFileParams,t),e.thumbnailUrl&&(this._thumbnailUrls[t]=e.thumbnailUrl),this._netUploaded++,this._netUploadedOrQueued++,t},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,r){e._onDeleteComplete(t,n,r),e._options.callbacks.onDeleteComplete(t,n,r)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},r=e,i={},o=t,s=function(e){return qq.isObject(e)?qq.extend({},e):e},a=function(){return qq.isFunction(o)?o():o},u=function(e,t){o&&qq.isObject(t)&&qq.extend(t,a()),i[e]&&qq.extend(t,i[e])};return{set:function(e,t){null==t?(n={},r=s(e)):n[t]=s(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:s(r),u(e,t),s(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(i[e]=i[e]||{},qq.extend(i[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},i={},r=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,r){e._onUploadStatusChange(t,n,r),e._options.callbacks.onStatusChange(t,n,r),e._maybeAllComplete(t,r),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,r)},0)}})},_createUploadButton:function(e){function t(){return!!qq.supportedFeatures.ajaxUploading&&!(r._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&r._isAllowedExtension(o,".mov"))&&(void 0===e.multiple?r._options.multiple:e.multiple)}var n,r=this,i=e.accept||this._options.validation.acceptFiles,o=e.allowedExtensions||this._options.validation.allowedExtensions;return n=new qq.UploadButton({acceptFiles:i,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:t(),name:this._options.request.inputName,onChange:function(e){r._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){n.dispose()}),r._buttons.push(n),n},_createUploadHandler:function(e,t){var n=this,r={},i={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,i,o){i<0||o<0||(r[e]?r[e].loaded===i&&r[e].total===o||(n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)):(n._onProgress(e,t,i,o),n._options.callbacks.onProgress(e,t,i,o)),r[e]={loaded:i,total:o})},onComplete:function(e,t,i,o){delete r[e];var s,a=n.getUploads({id:e}).status;a!==qq.status.UPLOAD_SUCCESSFUL&&a!==qq.status.UPLOAD_FAILED&&(s=n._onComplete(e,t,i,o),s instanceof qq.Promise?s.done(function(){n._options.callbacks.onComplete(e,t,i,o)}):n._options.callbacks.onComplete(e,t,i,o))},onCancel:function(e,t,r){var i=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:i.failure,onSuccess:function(){r.then(function(){n._onCancel(e,t)}),i.success()},identifier:e}),i},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,r){n._onUploadChunk(e,r),n._options.callbacks.onUploadChunk(e,t,r)},onUploadChunkSuccess:function(e,t,r,i){n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,r){return n._options.callbacks.onResume(e,t,r)},onAutoRetry:function(e,t,r,i){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){i[e]=t}),i.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){i[e]=t}),new qq.UploadHandlerController(i,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){if(0===e)return e+this._options.text.sizeSymbols[0];var t=-1;do e/=1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var r=n.multiple,i=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===r&&(r=e._options.multiple),o.validation&&qq.extend(i,n.validation,!0),qq.extend(o,{multiple:r,validation:i},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,r=e;if(r instanceof qq.BlobProxy&&(r=r.referenceBlob),r&&!qq.isBlob(r)){if(qq.isFile(r))return r.qqButtonId;if("input"===r.tagName.toLowerCase()&&"file"===r.type.toLowerCase())return r.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=r.getElementsByTagName("input"),qq.each(t,function(e,t){if("file"===t.getAttribute("type"))return n=t,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,r){n.push(t._getValidationDescriptor(r))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,r=this._options;n&&n!==this._defaultButtonId&&(r=this._extraButtonSpecs[n]),r.multiple=!1,null===r.validation.acceptFiles?r.validation.acceptFiles=e:r.validation.acceptFiles+=","+e,qq.each(this._buttons,function(e,t){if(t.getButtonId()===n)return t.setMultiple(r.multiple),t.setAcceptFiles(r.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var r=this,i=qq.getUniqueId(),o=-1,s=qq.getFilename(e),a=e.blob||e,u=this._customNewFileHandler?this._customNewFileHandler:qq.bind(r._handleNewFileGeneric,r);!qq.isInput(a)&&a.size>=0&&(o=a.size),u(a,s,i,o,n,t,this._options.request.uuidName,{uploadData:r._uploadData,paramsStore:r._paramsStore,addFileToHandler:function(e,t){r._handler.add(e,t),r._netUploadedOrQueued++,r._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,r,i,o){var s=this._uploadData.addFile({uuid:n,name:t,size:r,batchId:o});this._handler.add(s,e),this._trackButton(s),this._netUploadedOrQueued++,i.push({id:s,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],r=t;null==r&&(r=this._options.paste.defaultName),r+="."+n,this.addFiles({name:r,blob:e})},_handleDeleteSuccess:function(e){if(this.getUploads({id:e}).status!==qq.status.DELETED){var t=this.getName(e);this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+t+"' has succeeded.")}},_handleDeleteFailed:function(e,t){var n=this.getName(e);this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+n+"' has failed.","error"),t&&void 0!==t.withCredentials?this._options.callbacks.onError(e,n,"Delete request failed with response code "+t.status,t):this._options.callbacks.onError(e,n,"Delete request failed",t)},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled||this._options.cors.expected&&!qq.supportedFeatures.deleteFileCorsXhr&&(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr))},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,function(e,r){if(qq.isString(r)){var i=new RegExp("\\."+r+"$","i");if(null!=t.match(i))return n=!0,!1}}),n)},_itemError:function(e,t,n){function r(e,t){s=s.replace(e,t)}var i,o,s=this._options.messages[e],a=[],u=[].concat(t),l=u[0],c=this._getButtonId(n),h=this._getValidationBase(c);return qq.each(h.allowedExtensions,function(e,t){qq.isString(t)&&a.push(t)}),i=a.join(", ").toLowerCase(),r("{file}",this._options.formatFileName(l)),r("{extensions}",i),r("{sizeLimit}",this._formatSize(h.sizeLimit)),r("{minSizeLimit}",this._formatSize(h.minSizeLimit)),o=s.match(/(\{\w+\})/g),null!==o&&qq.each(o,function(e,t){r(t,u[e])}),this._options.callbacks.onError(null,l,s,void 0),s},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,r=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===r&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,r){if(!n.success)if(r&&200!==r.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+r.status,r);else{var i=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,i,r)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,r,i){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=o._getValidationDescriptor(t[n]),s=o._getButtonId(t[n].file),a=o._getButton(s);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,a),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,r,i),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,r,i),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,r,i){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var s=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),i?i(e):o._handler.retry(e)},s),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),this._options.callbacks.onManualRetry(e,t)!==!1&&(n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,r){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,r),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){this.getName(e),n?this._handleDeleteFailed(e,t):this._handleDeleteSuccess(e)},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,r){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,r)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var r,i=this.getUuid(e);return t&&(r=qq.bind(t,this,e,i,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:r||qq.bind(this._deleteHandler.sendDelete,this,e,i,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(e,n){t._fileOrBlobRejected(n.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,r,i){var o,s=this._currentItemLimit,a=this._netUploadedOrQueued;0===s||a<=s?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],i),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,r),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,r),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),
o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,a).replace(/\{itemLimit\}/g,s),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,r){var i=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,i,n,r)},_onValidateCallbackSuccess:function(e,t,n,r){var i=this,o=t+1,s=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],s).then(function(){i._upload(e[t].id,n,r),i._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,r)},function(){i._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,r)})},_prepareItemsForUpload:function(e,t,n){if(0===e.length)return void this._itemError("noFilesError");var r=this._getValidationDescriptors(e),i=this._getButtonId(e[0].file),o=this._getButton(i);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,r,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,r,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)},function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e,t,n){var r=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&r.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var r=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,r),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,r),onFailure:qq.bind(this._fileOrBlobRejected,this,e,r),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,r=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),i=t.name,o=t.size,s=this._getButtonId(e.file),a=this._getValidationBase(s),u=new qq.Promise;return u.then(function(){},function(){n._fileOrBlobRejected(e.id,i)}),qq.isFileOrInput(r)&&!this._isAllowedExtension(a.allowedExtensions,i)?(this._itemError("typeError",i,r),u.failure()):this._options.validation.allowEmpty||0!==o?o>0&&a.sizeLimit&&o>a.sizeLimit?(this._itemError("sizeError",i,r),u.failure()):o>0&&o<a.minSizeLimit?(this._itemError("minSizeError",i,r),u.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(r)?new qq.ImageValidation(r,qq.bind(n.log,n)).validate(a.image).then(u.success,function(e){n._itemError(e+"ImageError",i,r),u.failure()}):u.success(),u):(this._itemError("emptyError",i,r),u.failure())},_wrapCallbacks:function(){var e,t,n;e=this,t=function(t,n,r){var i;try{return n.apply(e,r)}catch(n){i=n.message||n.toString(),e.log("Caught exception in '"+t+"' callback - "+i,"error")}};for(n in this._options.callbacks)!function(){var r,i;r=n,i=e._options.callbacks[r],e._options.callbacks[r]=function(){return t(r,i,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0},allowEmpty:!1},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,r){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onResume:function(e,t,n){},onProgress:function(e,t,n,r){},onTotalProgress:function(e,t){},onError:function(e,t,n,r){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var n=t._uploadData.retrieve({id:e});return n&&n.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function t(){return qq.indexOf(["GET","POST","HEAD"],S.method)>=0}function n(e){var t=!1;return qq.each(t,function(e,n){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],n)<0)return t=!0,!1}),t}function r(e){return S.cors.expected&&void 0===e.withCredentials}function i(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&(e=qq.createXhrInstance(),void 0===e.withCredentials&&(e=new XDomainRequest,e.onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){})),e}function o(e,t){var n=w[e].xhr;return n||(n=t?t:S.cors.expected?i():qq.createXhrInstance(),w[e].xhr=n),n}function s(e){var t,n=qq.indexOf(b,e),r=S.maxConnections;delete w[e],b.splice(n,1),b.length>=r&&n<r&&(t=b[r-1],l(t))}function a(e,t){var n=o(e),i=S.method,a=t===!0;s(e),a?y(i+" request for "+e+" has failed","error"):r(n)||g(n.status)||(a=!0,y(i+" request for "+e+" has failed - response code "+n.status,"error")),S.onComplete(e,n,a)}function u(e){var t,n=w[e].additionalParams,r=S.mandatedParams;return S.paramsStore.get&&(t=S.paramsStore.get(e)),n&&qq.each(n,function(e,n){t=t||{},t[e]=n}),r&&qq.each(r,function(e,n){t=t||{},t[e]=n}),t}function l(e,t){var n,i=o(e,t),s=S.method,a=u(e),l=w[e].payload;return S.onSend(e),n=c(e,a,w[e].additionalQueryParams),r(i)?(i.onload=d(e),i.onerror=p(e)):i.onreadystatechange=h(e),f(e),i.open(s,n,!0),S.cors.expected&&S.cors.sendCredentials&&!r(i)&&(i.withCredentials=!0),m(e),y("Sending "+s+" request for "+e),l?i.send(l):_||!a?i.send():a&&S.contentType&&S.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?i.send(qq.obj2url(a,"")):a&&S.contentType&&S.contentType.toLowerCase().indexOf("application/json")>=0?i.send(JSON.stringify(a)):i.send(a),i}function c(e,t,n){var r=S.endpointStore.get(e),i=w[e].addToPath;return void 0!=i&&(r+="/"+i),_&&t&&(r=qq.obj2url(t,r)),n&&(r=qq.obj2url(n,r)),r}function h(e){return function(){4===o(e).readyState&&a(e)}}function f(e){var t=S.onProgress;t&&(o(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}function d(e){return function(){a(e)}}function p(e){return function(){a(e,!0)}}function m(e){var i=o(e),s=S.customHeaders,a=w[e].additionalHeaders||{},u=S.method,l={};r(i)||(S.acceptHeader&&i.setRequestHeader("Accept",S.acceptHeader),S.allowXRequestedWithAndCacheControl&&(S.cors.expected&&t()&&!n(s)||(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Cache-Control","no-cache"))),!S.contentType||"POST"!==u&&"PUT"!==u||i.setRequestHeader("Content-Type",S.contentType),qq.extend(l,qq.isFunction(s)?s(e):s),qq.extend(l,a),qq.each(l,function(e,t){i.setRequestHeader(e,t)}))}function g(e){return qq.indexOf(S.successfulResponseCodes[S.method],e)>=0}function v(e,t,n,r,i,o,s){w[e]={addToPath:n,additionalParams:r,additionalQueryParams:i,additionalHeaders:o,payload:s};var a=b.push(e);if(a<=S.maxConnections)return l(e,t)}var y,_,b=[],w={},S={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(S,e),y=S.log,qq.indexOf(S.validMethods,S.method)<0)throw new Error("'"+S.method+"' is not a supported method for this type of request!");_="GET"===S.method||"DELETE"===S.method,qq.extend(this,{initTransport:function(e){var t,n,r,i,o,s;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return s=e,this},withHeaders:function(e){return r=e,this},withPayload:function(e){return i=e,this},withCacheBuster:function(){return o=!0,this},send:function(a){return o&&qq.indexOf(["GET","DELETE"],S.method)>=0&&(n.qqtimestamp=(new Date).getTime()),v(e,a,t,n,s,r,i)}}},canceled:function(e){s(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},r=t.onCancel,i=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise,s=r(e,i(e),o);s.then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,r,i,o=this,s=!1,a=!1,u={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,r){},onComplete:function(e,t,n,r){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,r){},onAutoRetry:function(e,t,n,r){},onResume:function(e,t,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){}},l={done:function(e,t,n,r){var o=i._getChunkData(e,t);i._getFileState(e).attemptingResume=!1,delete i._getFileState(e).temp.chunkProgress[t],i._getFileState(e).loaded+=o.size,u.onUploadChunkSuccess(e,i._getChunkDataForCallback(o),n,r)},finalize:function(e){var t=u.getSize(e),n=u.getName(e);r("All chunks have been uploaded for "+e+" - finalizing...."),i.finalizeChunks(e).then(function(o,s){r("Finalize successful for "+e);var a=f.normalizeResponse(o,!0);u.onProgress(e,n,t,t),i._maybeDeletePersistedChunkData(e),f.cleanup(e,a,s)},function(t,i){var o=f.normalizeResponse(t,!1);r("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),o.reset&&l.reset(e),u.onAutoRetry(e,n,o,i)||f.cleanup(e,o,i)})},handleFailure:function(e,t,n,o){var s=u.getName(t);r("Chunked upload request failed for "+t+", chunk "+e),i.clearCachedChunk(t,e);var h,d=f.normalizeResponse(n,!1);d.reset?l.reset(t):(h=qq.indexOf(i._getFileState(t).chunking.inProgress,e),h>=0&&(i._getFileState(t).chunking.inProgress.splice(h,1),i._getFileState(t).chunking.remaining.unshift(e))),i._getFileState(t).temp.ignoreFailure||(a&&(i._getFileState(t).temp.ignoreFailure=!0,r(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(i._getXhrs(t))),JSON.stringify(i._getFileState(t).chunking.inProgress))),qq.each(i._getXhrs(t),function(e,n){r(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0}),i.moveInProgressToRemaining(t),c.free(t,!0)),u.onAutoRetry(t,s,d,o)||f.cleanup(t,d,o))},hasMoreParts:function(e){return!!i._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=i._getFileState(e).chunking.remaining.shift();return t>=i._getTotalChunks(e)&&(t=null),t},reset:function(e){r("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),i._maybeDeletePersistedChunkData(e),i.reevaluateChunking(e),i._getFileState(e).loaded=0},sendNext:function(e){var t=u.getSize(e),n=u.getName(e),o=l.nextPart(e),s=i._getChunkData(e,o),h=i._getFileState(e).attemptingResume,d=i._getFileState(e).chunking.inProgress||[];null==i._getFileState(e).loaded&&(i._getFileState(e).loaded=0),h&&u.onResume(e,n,s)===!1&&(l.reset(e),o=l.nextPart(e),s=i._getChunkData(e,o),h=!1),null==o&&0===d.length?l.finalize(e):(r(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,s.start+1,s.end,t)),u.onUploadChunk(e,n,i._getChunkDataForCallback(s)),d.push(o),i._getFileState(e).chunking.inProgress=d,a&&c.open(e,o),a&&c.available()&&i._getFileState(e).chunking.remaining.length&&l.sendNext(e),0===s.blob.size?(r(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),l.handleFailure(o,e,"File is no longer available",null)):i.uploadChunk(e,o,h).then(function(t,n){r("Chunked upload request succeeded for "+e+", chunk "+o),i.clearCachedChunk(e,o);var s=i._getFileState(e).chunking.inProgress||[],a=f.normalizeResponse(t,!0),u=qq.indexOf(s,o);r(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),l.done(e,o,a,n),u>=0&&s.splice(u,1),i._maybePersistChunkedState(e),l.hasMoreParts(e)||0!==s.length?l.hasMoreParts(e)?l.sendNext(e):r(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(s))):l.finalize(e)},function(t,n){l.handleFailure(o,e,t,n)}).done(function(){i.clearXhr(e,o)}))}},c={_open:[],_openChunks:{},_waiting:[],available:function(){var e=u.maxConnections,t=0,n=0;return qq.each(c._openChunks,function(e,r){t++,n+=r.length}),e-(c._open.length-t+n)},free:function(e,t){var n,o=!t,s=qq.indexOf(c._waiting,e),a=qq.indexOf(c._open,e);delete c._openChunks[e],f.getProxyOrBlob(e)instanceof qq.BlobProxy&&(r("Generated blob upload has ended for "+e+", disposing generated blob."),delete i._getFileState(e).file),s>=0?c._waiting.splice(s,1):o&&a>=0&&(c._open.splice(a,1),n=c._waiting.shift(),n>=0&&(c._open.push(n),f.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(c._openChunks,function(t,n){n&&n.length&&e.push(parseInt(t))}),qq.each(c._open,function(t,n){c._openChunks[n]||e.push(parseInt(n))}),e=e.concat(c._waiting)},isUsingConnection:function(e){return qq.indexOf(c._open,e)>=0},open:function(e,t){return null==t&&c._waiting.push(e),!!c.available()&&(null==t?(c._waiting.pop(),c._open.push(e)):!function(){var n=c._openChunks[e]||[];n.push(t),c._openChunks[e]=n}(),!0)},reset:function(){c._waiting=[],c._open=[]}},h={send:function(e,t){i._getFileState(e).loaded=0,r("Sending simple upload request for "+e),i.uploadFile(e).then(function(n,i){r("Simple upload request succeeded for "+e);var o=f.normalizeResponse(n,!0),s=u.getSize(e);u.onProgress(e,t,s,s),f.maybeNewUuid(e,o),f.cleanup(e,o,i)},function(n,i){r("Simple upload request failed for "+e);var o=f.normalizeResponse(n,!1);u.onAutoRetry(e,t,o,i)||f.cleanup(e,o,i)})}},f={cancel:function(e){r("Cancelling "+e),u.paramsStore.remove(e),c.free(e)},cleanup:function(e,t,n){var r=u.getName(e);u.onComplete(e,r,t,n),i._getFileState(e)&&i._clearXhrs&&i._clearXhrs(e),c.free(e)},getProxyOrBlob:function(e){return i.getProxy&&i.getProxy(e)||i.getFile&&i.getFile(e)},initHandler:function(){var e=t?qq[t]:qq.traditional,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";i=new e[n+"UploadHandler"](u,{getDataByUuid:u.getDataByUuid,getName:u.getName,getSize:u.getSize,getUuid:u.getUuid,log:r,onCancel:u.onCancel,onProgress:u.onProgress,onUuidChanged:u.onUuidChanged}),i._removeExpiredChunkingRecords&&i._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return u.isQueued(e)},maybeDefer:function(e,t){return t&&!i.getFile(e)&&t instanceof qq.BlobProxy?(u.onUploadPrep(e),r("Attempting to generate a blob on-demand for "+e),t.create().then(function(t){r("Generated an on-demand blob for "+e),i.updateBlob(e,t),u.setSize(e,t.size),i.reevaluateChunking(e),f.maybeSendDeferredFiles(e)},function(t){var i={};t&&(i.error=t),r(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),u.onComplete(e,u.getName(e),qq.extend(i,n),null),f.maybeSendDeferredFiles(e),c.free(e)}),!1):f.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=u.getIdsInProxyGroup(e),n=!1;return t&&t.length?(r("Maybe ready to upload proxy group file "+e),qq.each(t,function(t,r){if(f.isDeferredEligibleForUpload(r)&&i.getFile(r))n=r===e,f.now(r);else if(f.isDeferredEligibleForUpload(r))return!1})):(n=!0,f.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&u.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=u.getName(e);if(!o.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");u.onUpload(e,t),s&&i._shouldChunkThisFile(e)?l.sendNext(e):h.send(e,t)},start:function(e){var t=f.getProxyOrBlob(e);return t?f.maybeDefer(e,t):(f.now(e),!0)}};qq.extend(this,{add:function(e,t){i.add.apply(this,arguments)},upload:function(e){return!!c.open(e)&&f.start(e)},retry:function(e){return a&&(i._getFileState(e).temp.ignoreFailure=!1),c.isUsingConnection(e)?f.start(e):o.upload(e)},cancel:function(e){var t=i.cancel(e);qq.isGenericPromise(t)?t.then(function(){f.cancel(e)}):t!==!1&&f.cancel(e)},cancelAll:function(){var e,t=c.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)o.cancel(t[e]);c.reset()},getFile:function(e){return i.getProxy&&i.getProxy(e)?i.getProxy(e).referenceBlob:i.getFile&&i.getFile(e)},isProxied:function(e){return!(!i.getProxy||!i.getProxy(e))},getInput:function(e){if(i.getInput)return i.getInput(e)},reset:function(){r("Resetting upload handler"),o.cancelAll(),c.reset(),i.reset()},expunge:function(e){if(o.isValid(e))return i.expunge(e)},isValid:function(e){return i.isValid(e)},getResumableFilesData:function(){return i.getResumableFilesData?i.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(o.isValid(e))return i.getThirdPartyFileId(e)},pause:function(e){return!!(o.isResumable(e)&&i.pause&&o.isValid(e)&&i.pause(e))&&(c.free(e),i.moveInProgressToRemaining(e),!0)},isResumable:function(e){return!!i.isResumable&&i.isResumable(e)}}),qq.extend(u,e),r=u.log,s=u.chunking.enabled&&qq.supportedFeatures.chunking,a=s&&u.chunking.concurrent.enabled,n=function(){var e={};return e[u.preventRetryParam]=!0,e}(),f.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={log:function(e,t){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(e,t){var r=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",r):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function t(e){delete c[e],f&&(clearTimeout(h[e]),delete h[e],g.stopReceivingMessages(e));var t=document.getElementById(s._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}function n(e){return e.split("_")[0]}function r(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function i(e,t){var r=e.id,i=n(r),o=p(i);l[o]=t,c[i]=qq(e).attach("load",function(){s.getInput(i)&&(m("Received iframe load event for CORS upload request (iframe name "+r+")"),h[r]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+r;m(e,"error"),t({error:e})},1e3))}),g.receiveMessage(r,function(e){m("Received the following window message: '"+e+"'");var t,i=(n(r),s._parseJsonResponse(e)),o=i.uuid;o&&l[o]?(m("Handling response for iframe name "+r),clearTimeout(h[r]),delete h[r],s._detachLoadEvent(r),t=l[o],delete l[o],g.stopReceivingMessages(r),t(i)):o||m("'"+e+"' does not contain a UUID - ignoring.")})}var o=e.options,s=this,a=e.proxy,u=qq.getUniqueId(),l={},c={},h={},f=o.isCors,d=o.inputName,p=a.getUuid,m=a.log,g=new qq.WindowReceiveMessage({log:m});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",d),n.parentNode&&qq(n).remove()},expunge:function(n){t(n),e.expunge(n)},isValid:function(t){return e.isValid(t)&&void 0!==s._getFileState(t).input}}}),qq.extend(this,{getInput:function(e){return s._getFileState(e).input},_attachLoadEvent:function(e,t){var n;f?i(e,t):c[e.id]=qq(e).attach("load",function(){if(m("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){m("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){var t=s._getIframeName(e);return r(t)},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+u},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,r=e.params,i=e.paramsInBody,o=e.targetName,s=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),a=n;return i?qq.obj2Inputs(r,s):a=qq.obj2url(r,n),s.setAttribute("action",a),s.setAttribute("target",o),s.style.display="none",document.body.appendChild(s),s},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){m("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(e){qq.each(n._getXhrs(e),function(t,r){var i=n._getAjaxRequester(e,t);r.onreadystatechange=null,r.upload.onprogress=null,r.abort(),i&&i.canceled&&i.canceled(e)})}var n=this,r=e.options.namespace,i=e.proxy,o=e.options.chunking,s=e.options.resume,a=o&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,u=s&&e.options.resume.enabled&&a&&qq.supportedFeatures.resume,l=i.getName,c=i.getSize,h=i.getUuid,f=i.getEndpoint,d=i.getDataByUuid,p=i.onUuidChanged,m=i.onProgress,g=i.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,r){if(qq.isFile(r)||qq.isBlob(r))e.add(t,{file:r});else{if(!(r instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(t,{proxy:r})}n._initTempState(t),u&&n._maybePrepareForResume(t)},expunge:function(r){t(r),n._maybeDeletePersistedChunkData(r),n._clearXhrs(r),e.expunge(r)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete n._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var r=n._getFileState(e).temp;r.xhrs&&delete r.xhrs[t],r.ajaxRequesters&&delete r.ajaxRequesters[t]},finalizeChunks:function(e,t){var r=n._getTotalChunks(e)-1,i=n._getXhr(e,r);return t?(new qq.Promise).success(t(i),i):(new qq.Promise).success({},i)},getFile:function(e){return n.isValid(e)&&n._getFileState(e).file},getProxy:function(e){return n.isValid(e)&&n._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return n._iterateResumeRecords(function(t,r){n.moveInProgressToRemaining(null,r.chunking.inProgress,r.chunking.remaining);var i={name:r.name,remaining:r.chunking.remaining,size:r.size,uuid:r.uuid};r.key&&(i.key=r.key),e.push(i)}),e},isResumable:function(e){return!!o&&n.isValid(e)&&!n._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,r){var i=t||n._getFileState(e).chunking.inProgress,o=r||n._getFileState(e).chunking.remaining;i&&(g(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(i))),i.reverse(),qq.each(i,function(e,t){o.unshift(t)}),i.length=0)},pause:function(e){if(n.isValid(e))return g(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,l(e))),n._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(o&&n.isValid(e)){var t,r,i=n._getFileState(e);if(delete i.chunking,i.chunking={},t=n._getTotalChunks(e),t>1||o.mandatory){for(i.chunking.enabled=!0,i.chunking.parts=t,i.chunking.remaining=[],r=0;r<t;r++)i.chunking.remaining.push(r);n._initTempState(e)}else i.chunking.enabled=!1}},updateBlob:function(e,t){n.isValid(e)&&(n._getFileState(e).file=t)},_clearXhrs:function(e){var t=n._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return n._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var r=null==t?-1:t;return n._getFileState(e).temp.ajaxRequesters[r]},_getChunkData:function(e,t){var r=o.partSize,i=c(e),s=n.getFile(e),a=r*t,u=a+r>=i?i:a+r,l=n._getTotalChunks(e),h=this._getFileState(e).temp.cachedChunks,f=h[t]||qq.sliceBlob(s,a,u);return h[t]=f,{part:t,start:a,end:u,count:l,blob:f,size:u-a}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t="5.0",n=l(e),i=c(e),s=o.partSize,a=f(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",r,t,n,i,s,a)},_getMimeType:function(e){return n.getFile(e).type},_getPersistableData:function(e){return n._getFileState(e).chunking},_getTotalChunks:function(e){if(o){var t=c(e),n=o.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var r=null==t?-1:t;return n._getFileState(e).temp.xhrs[r]},_getXhrs:function(e){return n._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){u&&qq.each(localStorage,function(t,n){if(0===t.indexOf(qq.format("qq{}resume",r))){var i=JSON.parse(n);e(t,i)}})},_initTempState:function(e){n._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){n._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(u&&n.isResumable(e)&&(t=n._getLocalStorageId(e),t&&localStorage.getItem(t)))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,r,i=n._getFileState(e);u&&void 0===i.key&&(t=n._getLocalStorageId(e),r=localStorage.getItem(t),r&&(r=JSON.parse(r),d(r.uuid)?n._markNotResumable(e):(g(qq.format("Identified file with ID {} and name of {} as resumable.",e,l(e))),p(e,r.uuid),i.key=r.key,i.chunking=r.chunking,i.loaded=r.loaded,i.attemptingResume=!0,n.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,r,i=n._getFileState(e);
if(u&&n.isResumable(e)){t=n._getLocalStorageId(e),r={name:l(e),size:c(e),uuid:h(e),key:i.key,chunking:i.chunking,loaded:i.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(r))}catch(t){g(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(e,t,r){var i=n._getXhr(e,t),o=l(e),s={simple:function(t,n){var r=c(e);t===n?m(e,o,r,r):m(e,o,t>=r?r-1:t,r)},chunked:function(i,s){var a=n._getFileState(e).temp.chunkProgress,u=n._getFileState(e).loaded,l=i,h=s,f=c(e),d=l-(h-r),p=u;a[t]=d,qq.each(a,function(e,t){p+=t}),m(e,o,p,f)}};i.upload.onprogress=function(e){if(e.lengthComputable){var t=null==r?"simple":"chunked";s[t](e.loaded,e.total)}}},_registerXhr:function(e,t,r,i){var o=null==t?-1:t,s=n._getFileState(e).temp;return s.xhrs=s.xhrs||{},s.ajaxRequesters=s.ajaxRequesters||{},s.xhrs[o]=r,i&&(s.ajaxRequesters[o]=i),r},_removeExpiredChunkingRecords:function(){var e=s.recordsExpireIn;n._iterateResumeRecords(function(t,n){var r=new Date(n.lastUpdated);r.setDate(r.getDate()+e),r.getTime()<=Date.now()&&(g("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(e){var t=n._getFileState(e);return t.chunking||n.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";function t(){return"POST"===r.method.toUpperCase()?{_method:"DELETE"}:{}}var n,r={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:r.method,endpointStore:r.endpointStore,paramsStore:r.paramsStore,mandatedParams:t(),maxConnections:r.maxConnections,customHeaders:function(e){return r.customHeaders.get(e)},log:r.log,onSend:r.onDelete,onComplete:r.onDeleteComplete,cors:r.cors})),qq.extend(this,{sendDelete:function(e,t,i){var o=i||{};r.log("Submitting delete file request for "+e),"DELETE"===r.method?n.initTransport(e).withPath(t).withParams(o).send():(o[r.uuidParamName]=t,n.initTransport(e).withParams(o).send())}})},function(){function e(e){var t,n=e.naturalWidth,r=e.naturalHeight,i=document.createElement("canvas");return n*r>1048576&&(i.width=i.height=1,t=i.getContext("2d"),t.drawImage(e,-n+1,0),0===t.getImageData(0,0,1,1).data[3])}function t(e,t,n){var r,i,o,s,a=document.createElement("canvas"),u=0,l=n,c=n;for(a.width=1,a.height=n,r=a.getContext("2d"),r.drawImage(e,0,0),i=r.getImageData(0,0,1,n).data;c>u;)o=i[4*(c-1)+3],0===o?l=c:u=c,c=l+u>>1;return s=c/n,0===s?1:s}function n(e,t,n,r){var o=document.createElement("canvas"),s=n.mime||"image/jpeg",a=new qq.Promise;return i(e,t,o,n,r).then(function(){a.success(o.toDataURL(s,n.quality||.8))}),a}function r(e){var t=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(e.origHeight*e.origWidth>t)return{newHeight:Math.round(Math.sqrt(t*(e.origHeight/e.origWidth))),newWidth:Math.round(Math.sqrt(t*(e.origWidth/e.origHeight)))}}function i(n,i,a,u,l){var c,h=n.naturalWidth,f=n.naturalHeight,d=u.width,p=u.height,m=a.getContext("2d"),g=new qq.Promise;return m.save(),u.resize?o({blob:i,canvas:a,image:n,imageHeight:f,imageWidth:h,orientation:u.orientation,resize:u.resize,targetHeight:p,targetWidth:d}):(qq.supportedFeatures.unlimitedScaledImageSize||(c=r({origWidth:d,origHeight:p}),c&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",d,p,c.newWidth,c.newHeight),"warn"),d=c.newWidth,p=c.newHeight)),s(a,d,p,u.orientation),qq.ios()?!function(){e(n)&&(h/=2,f/=2);var r,i,o,s=1024,a=document.createElement("canvas"),u=l?t(n,h,f):1,c=Math.ceil(s*d/h),g=Math.ceil(s*p/f/u),v=0,y=0;for(a.width=a.height=s,r=a.getContext("2d");v<f;){for(i=0,o=0;i<h;)r.clearRect(0,0,s,s),r.drawImage(n,-i,-v),m.drawImage(a,0,0,s,s,o,y,c,g),i+=s,o+=c;v+=s,y+=g}m.restore(),a=r=null}():m.drawImage(n,0,0,d,p),a.qqImageRendered&&a.qqImageRendered(),g.success(),g)}function o(e){var t=e.blob,n=e.image,r=e.imageHeight,i=e.imageWidth,o=e.orientation,a=new qq.Promise,u=e.resize,l=document.createElement("canvas"),c=l.getContext("2d"),h=e.canvas,f=e.targetHeight,d=e.targetWidth;return s(l,i,r,o),h.height=f,h.width=d,c.drawImage(n,0,0),u({blob:t,height:f,image:n,sourceCanvas:l,targetCanvas:h,width:d}).then(function(){h.qqImageRendered&&h.qqImageRendered(),a.success()},a.failure),a}function s(e,t,n,r){switch(r){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var i=e.getContext("2d");switch(r){case 2:i.translate(t,0),i.scale(-1,1);break;case 3:i.translate(t,n),i.rotate(Math.PI);break;case 4:i.translate(0,n),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-n);break;case 7:i.rotate(.5*Math.PI),i.translate(t,-n),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-t,0)}}function a(e,t){var n=this;window.Blob&&e instanceof Blob&&!function(){var t=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!r)throw Error("No createObjectURL function found to create blob url");t.src=r.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout(function(){for(var t=0,n=e.length;t<n;t++)e[t]()},0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}a.prototype.render=function(e,t){t=t||{};var r,o=this,s=this.srcImage.naturalWidth,a=this.srcImage.naturalHeight,u=t.width,l=t.height,c=t.maxWidth,h=t.maxHeight,f=!this.blob||"image/jpeg"===this.blob.type,d=e.tagName.toLowerCase();return this.imageLoadListeners?void this.imageLoadListeners.push(function(){o.render(e,t)}):(u&&!l?l=a*u/s<<0:l&&!u?u=s*l/a<<0:(u=s,l=a),c&&u>c&&(u=c,l=a*u/s<<0),h&&l>h&&(l=h,u=s*l/a<<0),r={width:u,height:l},qq.each(t,function(e,t){r[e]=t}),"img"===d?!function(){var t=e.src;n(o.srcImage,o.blob,r,f).then(function(n){e.src=n,t===e.src&&e.onload()})}():"canvas"===d&&i(this.srcImage,this.blob,e,r,f),void("function"==typeof this.onrender&&this.onrender(e)))},qq.MegaPixImage=a}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function r(){return void 0!==(new Image).crossOrigin}function i(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")}function o(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],r=qq.getExtension(n);switch(r=r&&r.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function s(e){var t,n,r,i=document.createElement("a");return i.href=e,t=i.protocol,r=i.port,n=i.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||n.toLowerCase()!==window.location.hostname.toLowerCase()||r!==window.location.port&&!qq.ie()}function a(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}function u(e,t){e.qqImageRendered=function(){t.success(e)}}function l(r,i){var o=t(r)||n(r);return t(r)?a(r,i):n(r)?u(r,i):(i.failure(r),e(qq.format("Element container of type {} is not supported!",r.tagName),"error")),o}function c(t,n,r){var i=new qq.Promise,o=new qq.Identify(t,e),s=r.maxSize,a=null==r.orient||r.orient,u=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),i.failure(n,"Browser cannot render image!")};return o.isPreviewable().then(function(o){var c={parse:function(){return(new qq.Promise).success()}},h=a?new qq.Exif(t,e):c,f=new qq.MegaPixImage(t,u);l(n,i)&&h.parse().then(function(e){var t=e&&e.Orientation;f.render(n,{maxWidth:s,maxHeight:s,orientation:t,mime:o,resize:r.customResizeFunction})},function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),f.render(n,{maxWidth:s,maxHeight:s,mime:o,resize:r.customResizeFunction})})},function(){e("Not previewable"),i.failure(n,"Not previewable")}),i}function h(e,t,n,r,i){var a=new Image,u=new qq.Promise;l(a,u),s(e)&&(a.crossOrigin="anonymous"),a.src=e,u.then(function(){l(t,n);var s=new qq.MegaPixImage(a);s.render(t,{maxWidth:r,maxHeight:r,mime:o(e),resize:i})},n.failure)}function f(e,t,n,r){l(t,n),qq(t).css({maxWidth:r+"px",maxHeight:r+"px"}),t.src=e}function d(e,o,a){var u=new qq.Promise,c=a.scale,d=c?a.maxSize:null;return c&&t(o)?i()?s(e)&&!r()?f(e,o,u,d):h(e,o,u,d):f(e,o,u,d):n(o)?h(e,o,u,d):l(o,u)&&(o.src=e),u}qq.extend(this,{generate:function(t,n,r){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),d(t,n,r||{})):(e("Attempting to draw client-side image preview."),c(t,n,r||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=s,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){"use strict";function n(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function r(t,n){var i=t,o=n;return void 0===i&&(i=2,o=new qq.Promise),qq.readBlobToHex(e,i,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),r(i+t+2,o)):o.success(i):o.failure("No EXIF header to be found!")}),o}function i(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):r().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}function o(t){var n=new qq.Promise;return qq.readBlobToHex(e,t+10,2).then(function(e){n.success("4949"===e)}),n}function s(t,r){var i=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then(function(e){return r?i.success(n(e)):void i.success(parseInt(e,16))}),i}function a(t,n){var r=t+20,i=12*n;return qq.readBlobToHex(e,r,i)}function u(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}function l(e,t){var r=16,i=qq.extend([],c),o={};return qq.each(t,function(t,s){var a,u,l,c=s.slice(0,4),f=e?n(c):parseInt(c,16),d=i.indexOf(f);if(d>=0&&(u=h[f].name,l=h[f].bytes,a=s.slice(r,r+2*l),o[u]=e?n(a):parseInt(a,16),i.splice(d,1)),0===i.length)return!1}),o}var c=[274],h={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var n=new qq.Promise,r=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return i().then(function(i){t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),o(i).then(function(e){t(qq.format("EXIF Byte order is {} endian",e?"little":"big")),s(i,e).then(function(o){t(qq.format("Found {} APP1 directory entries",o)),a(i,o).then(function(r){var i=u(r),o=l(e,i);t("Successfully parsed some EXIF tags"),n.success(o)},r)},r)},r)},r),n}}),this._testing={},this._testing.parseLittleEndian=n},qq.Identify=function(e,t){"use strict";function n(e,t){var n=!1,r=[].concat(e);return qq.each(r,function(e,r){if(0===t.indexOf(r))return n=!0,!1}),n}qq.extend(this,{isPreviewable:function(){var r=this,i=new qq.Promise,o=!1,s=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",s)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(e){qq.each(r.PREVIEWABLE_MIME_TYPES,function(t,r){if(n(r,e))return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(o=!0,i.success(t)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",s,o?"":"NOT")),o||i.failure()},function(){t("Error reading file w/ name '"+s+"'.  Not able to be rendered in this browser."),i.failure()})):i.failure(),i},isPreviewableSync:function(){var n=e.type,r=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,i=!1,o=void 0===e.name?"blob":e.name;return r&&(i="image/tiff"!==n||qq.supportedFeatures.tiffPreviews),!i&&t(o+" is not previewable in this browser per the blob's type attr"),i}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";function n(e){var t=!1;return qq.each(e,function(e,n){if(n>0)return t=!0,!1}),t}function r(){var n=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var r=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;i?(r.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},r.onload=function(){n.success({width:this.width,height:this.height})},r.src=i.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function i(e,t){var n;return qq.each(e,function(e,r){if(r>0){var i=/(max|min)(Width|Height)/.exec(e),o=i[2].charAt(0).toLowerCase()+i[2].slice(1),s=t[o];switch(i[1]){case"min":if(s<r)return n=e,!1;break;case"max":if(s>r)return n=e,!1}}}),n}this.validate=function(e){var o=new qq.Promise;return t("Attempting to validate image."),n(e)?r().then(function(t){var n=i(e,t);n?o.failure(n):o.success()},o.success):o.success(),o}},qq.Session=function(e){"use strict";function t(e){return!!qq.isArray(e)||void r.log("Session response is not an array.","error")}function n(e,n,i,o){var s=!1;n=n&&t(e),n&&qq.each(e,function(e,t){if(null==t.uuid)s=!0,r.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)s=!0,r.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return r.addFileRecord(t),!0}catch(e){s=!0,r.log(e.message,"error")}return!1}),o[n&&!s?"success":"failure"](e,i)}var r={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(r,e,!0),this.refresh=function(){var e=new qq.Promise,t=function(t,r,i){n(t,r,i,e)},i=qq.extend({},r),o=new qq.SessionAjaxRequester(qq.extend(i,{onComplete:t}));return o.queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";function t(e,t,n){var i=null;if(null!=t.responseText)try{i=qq.parseJson(t.responseText)}catch(e){r.log("Problem parsing session response: "+e.message,"error"),n=!0}r.onComplete(i,!n,t)}var n,r={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return r.endpoint}},customHeaders:r.customHeaders,log:r.log,onComplete:t,cors:r.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},r.params);r.log("Session query request."),n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,r=e.sendOriginal,i=e.orient,o=e.defaultType,s=e.defaultQuality/100,a=e.failureText,u=e.includeExif,l=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&l.length>0,getFileRecords:function(e,c,h){var f=this,d=[],p=h.blob?h.blob:h,m=new qq.Identify(p,t);return m.isPreviewableSync()?(qq.each(l,function(e,r){var l=f._determineOutputType({defaultType:o,requestedType:r.type,refType:p.type});d.push({uuid:qq.getUniqueId(),name:f._getName(c,{name:r.name,type:l,refType:p.type}),blob:new qq.BlobProxy(p,qq.bind(f._generateScaledImage,f,{customResizeFunction:n,maxSize:r.maxSize,orient:i,type:l,quality:s,failedText:a,includeExif:u,log:t}))})}),d.push({uuid:e,name:c,size:p.size,blob:r?p:null})):d.push({uuid:e,name:c,size:p.size,blob:p}),d},handleNewFile:function(e,t,n,r,i,o,s,a){var u=this,l=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),c=null,h=a.addFileToHandler,f=a.uploadData,d=a.paramsStore,p=qq.getUniqueId();qq.each(u.getFileRecords(n,t,e),function(e,t){var n,r=t.size;t.blob instanceof qq.BlobProxy&&(r=-1),n=f.addFile({uuid:t.uuid,name:t.name,size:r,batchId:o,proxyGroupId:p}),t.blob instanceof qq.BlobProxy?l.push(n):c=n,t.blob?(h(n,t.blob),i.push({id:n,file:t.blob})):f.setStatus(n,qq.status.REJECTED)}),null!==c&&(qq.each(l,function(e,t){var n={qqparentuuid:f.retrieve({id:c}).uuid,qqparentsize:f.retrieve({id:c}).size};n[s]=f.retrieve({id:t}).uuid,f.setParentId(t,c),d.addReadOnly(t,n)}),l.length&&!function(){var e={};e[s]=f.retrieve({id:c}).uuid,d.addReadOnly(c,e)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var r=new qq.Promise,i=n.log,o=n.getFile(e),s=n.uploadData.retrieve({id:e}),a=s&&s.name,u=s&&s.uuid,l={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(l,i);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=c.getFileRecords(u,a,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(r.success,r.failure):(i(e+" is not a scalable image!","error"),r.failure())},this)():(r.failure(),i("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),r},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,r=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==r?"image/png":r},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),r=t.type||"image/png",i=t.refType,o="",s=qq.getExtension(e),a="";return t.name&&t.name.trim().length&&(a=" ("+t.name+")"),n>=0?(o=e.substr(0,n),i!==r&&(s=r.split("/")[1]),o+=a+"."+s):o=e+a,o},_getSortedSizes:function(e){"use strict";return e=qq.extend([],e),e.sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,t){"use strict";var n=this,r=e.customResizeFunction,i=e.log,o=e.maxSize,s=e.orient,a=e.type,u=e.quality,l=e.failedText,c=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===a,h=new qq.Promise,f=new qq.ImageGenerator(i),d=document.createElement("canvas");return i("Attempting to generate scaled version for "+t.name),f.generate(t,d,{maxSize:o,orient:s,customResizeFunction:r}).then(function(){var e=d.toDataURL(a,u),r=function(){i("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);h.success(n)};c?n._insertExifHeader(t,e,i).then(function(t){e=t,r()},function(){i("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),r()}):r()},function(){i("Failed attempt to generate scaled version for "+t.name,"error"),h.failure(l)}),h},_insertExifHeader:function(e,t,n){"use strict";var r=new FileReader,i=new qq.Promise,o="";return r.onload=function(){o=r.result,i.success(qq.ExifRestorer.restore(o,t))},r.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),i.failure()},r.readAsDataURL(e),i},_dataUriToBlob:function(e){"use strict";var t,n,r,i;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),qq.each(t,function(e,t){i[e]=t.charCodeAt(0)}),this._createBlob(r,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,r=n&&new n;return r?(r.append(e),r.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,r,i,o,s="",a="",u="",l=0;do t=e[l++],n=e[l++],a=e[l++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|a>>6,u=63&a,isNaN(n)?o=u=64:isNaN(a)&&(u=64),s=s+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=a="",r=i=o=u="";while(l<e.length);return s},e.restore=function(e,t){var n="data:image/jpeg;base64,";if(!e.match(n))return t;var r=this.decode64(e.replace(n,"")),i=this.slice2Segments(r),o=this.exifManipulation(t,i);return n+this.encode64(o)},e.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n),i=new Uint8Array(r);return i},e.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255==t[0]&225==t[1])return t;return[]},e.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),s=r.slice(i),a=o;return a=a.concat(t),a=a.concat(s)},e.slice2Segments=function(e){for(var t=0,n=[];!(255==e[t]&218==e[t+1]);){if(255==e[t]&216==e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},e.decode64=function(e){var t,n,r,i,o,s="",a="",u=0,l=[],c=/[^A-Za-z0-9\+\/\=]/g;if(c.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.KEY_STR.indexOf(e.charAt(u++)),i=this.KEY_STR.indexOf(e.charAt(u++)),o=this.KEY_STR.indexOf(e.charAt(u++)),a=this.KEY_STR.indexOf(e.charAt(u++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,s=(3&o)<<6|a,l.push(t),64!=o&&l.push(n),64!=a&&l.push(s),t=n=s="",r=i=o=a="";while(u<e.length);return l},e}(),qq.TotalProgress=function(e,t){"use strict";var n={},r=0,i=0,o=-1,s=-1,a=function(t,n){t===o&&n===s||e(t,n),o=t,s=n},u=function(e,t){var n=!0;return qq.each(e,function(e,r){if(qq.indexOf(t,r)>=0)return n=!1,!1}),n},l=function(e){f(e,-1,-1),delete n[e]},c=function(e,t,n){(0===t.length||u(t,n))&&(a(i,i),this.reset())},h=function(e){var r=t(e);r>0&&(f(e,0,r),n[e]={loaded:0,total:r})},f=function(e,t,o){var s=n[e]?n[e].loaded:0,u=n[e]?n[e].total:0;t===-1&&o===-1?(r-=s,i-=u):(t&&(r+=t-s),o&&(i+=o-u)),a(r,i)};qq.extend(this,{onAllComplete:c,onStatusChange:function(e,t,n){n===qq.status.CANCELED||n===qq.status.REJECTED?l(e):n===qq.status.SUBMITTING&&h(e)},onIndividualProgress:function(e,t,r){f(e,t,r),n[e]={loaded:t,total:r}},onNewSize:function(e){h(e)},reset:function(){n={},r=0,i=0}})},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){o=qq(i.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var r=n.getAsFile();i.callbacks.pasteReceived(r)}})})}function r(){o&&o()}var i,o;i={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(i,e),n(),qq.extend(this,{reset:function(){r()}})},qq.FormSupport=function(e,t,n){"use strict";function r(e){e.getAttribute("action")&&(a.newEndpoint=e.getAttribute("action"))}function i(e,t){return!(e.checkValidity&&!e.checkValidity())||(n("Form did not pass validation checks - will not upload.","error"),void t())}function o(e){var n=e.submit;qq(e).attach("submit",function(r){r=r||window.event,r.preventDefault?r.preventDefault():r.returnValue=!1,i(e,n)&&t()}),e.submit=function(){i(e,n)&&t()}}function s(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),r(e),u&&o(e))),e}var a=this,u=e.interceptSubmit,l=e.element,c=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==l?null:a._form2Obj(l)}}),l=s(l),this.attachedToForm=!!l},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){var t=["button","image","reset","submit"];return qq.indexOf(t,e.toLowerCase())<0},r=function(e){return qq.indexOf(["checkbox","radio"],e.toLowerCase())>=0},i=function(e){return!(!r(e.type)||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase()},o=function(e){var t=null;return qq.each(qq(e).children(),function(e,n){if("option"===n.tagName.toLowerCase()&&n.selected)return t=n.value,!1}),t};return qq.each(e.elements,function(e,r){if(!qq.isInput(r,!0)&&"textarea"!==r.tagName.toLowerCase()||!n(r.type)||i(r)){if("select"===r.tagName.toLowerCase()&&!i(r)){var s=o(r);null!==s&&(t[r.name]=s)}}else t[r.name]=r.value}),t}}),qq.CryptoJS=function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],n!=t?this.sigBytes=n:this.sigBytes=4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else if(n.length>65535)for(var o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},a=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},c=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,s=this.blockSize,a=4*s,u=i/a;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var l=u*s,c=e.min(4*l,i);if(l){for(var h=0;h<l;h+=s)this._doProcessBlock(r,h);var f=r.splice(0,l);n.sigBytes-=c}return new o.init(f,c)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(r.Hasher=c.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=e.enc;r.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=t[o>>>2]>>>24-o%4*8&255,a=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=s<<16|a<<8|u,c=0;c<4&&o+.75*c<n;c++)i.push(r.charAt(l>>>6*(3-c)&63));var h=r.charAt(64);if(h)for(;i.length%4;)i.push(h);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=r.charAt(64);if(i){var o=e.indexOf(i);o!=-1&&(t=o)}for(var s=[],a=0,u=0;u<t;u++)if(u%4){var l=r.indexOf(e.charAt(u-1))<<u%4*2,c=r.indexOf(e.charAt(u))>>>6-u%4*2;s[a>>>2]|=(l|c)<<24-a%4*8,a++}return n.create(s,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.Base,r=e.enc,i=r.Utf8,o=e.algo;o.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,l=0;l<n;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=t.Hasher,i=e.algo,o=[],s=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}var h=(r<<5|r>>>27)+u+o[l];h+=l<20?(i&s|~i&a)+1518500249:l<40?(i^s^a)+1859775393:l<60?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,u=a,a=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),function(e){var t=qq.CryptoJS,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,s=[],a=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),a[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=o.SHA256=i.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],l=n[4],c=n[5],h=n[6],f=n[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var p=u[d-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[d-2],v=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[d]=m+u[d-7]+v+u[d-16]}var y=l&c^~l&h,_=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),S=f+w+y+a[d]+u[d],x=b+_;f=h,h=c,c=l,l=s+S|0,s=o,o=i,i=r,r=S+x|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),function(){if("function"==typeof ArrayBuffer){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,r=n.init,i=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],i=0;i<t;i++)n[i>>>2]|=e[i]<<24-i%4*8;r.call(this,n,t);
}else r.apply(this,arguments)};i.prototype=n}}(),qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){"use strict";return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5","x-amz-server-side-encryption-customer-algorithm","x-amz-server-side-encryption-customer-key","x-amz-server-side-encryption-customer-key-MD5"],getBucket:function(e){var t,n=[/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i];return qq.each(n,function(n,r){var i=r.exec(e);if(i)return t=i[1],!1}),t},_getPrefixedParamName:function(e){return qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?e:qq.s3.util.AWS_PARAM_PREFIX+e},getPolicy:function(e){var t={},n=[],r=e.bucket,i=e.date,o=e.clockDrift,s=e.key,a=e.accessKey,u=e.acl,l=e.type,c=e.expectedStatus,h=e.sessionToken,f=e.params,d=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),p=e.minFileSize,m=e.maxFileSize,g=e.reducedRedundancy,v=e.region,y=e.serverSideEncryption,_=e.signatureVersion;return t.expiration=qq.s3.util.getPolicyExpirationDate(i,o),n.push({acl:u}),n.push({bucket:r}),l&&n.push({"Content-Type":l}),c&&n.push({success_action_status:c.toString()}),d&&n.push({success_action_redirect:d}),g&&(n.push({}),n[n.length-1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),h&&(n.push({}),n[n.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=h),y&&(n.push({}),n[n.length-1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),2===_?n.push({key:s}):4===_&&(n.push({}),n[n.length-1][qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n.push({}),n[n.length-1].key=s,n.push({}),n[n.length-1][qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:i,key:a,region:v}),n.push({}),n[n.length-1][qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(i,o)),qq.each(f,function(e,t){var r=qq.s3.util._getPrefixedParamName(e),i={};qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,r)>=0?i[r]=t:i[r]=encodeURIComponent(t),n.push(i)}),t.conditions=n,qq.s3.util.enforceSizeLimits(t,p,m),t},refreshPolicyCredentials:function(e,t){var n=!1;qq.each(e.conditions,function(e,r){qq.each(r,function(e,i){e===qq.s3.util.SESSION_TOKEN_PARAM_NAME&&(r[e]=t,n=!0)})}),n||(e.conditions.push({}),e.conditions[e.conditions.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=t)},generateAwsParams:function(e,t){var n,r={},i=e.params,o=new qq.Promise,s=e.sessionToken,a=e.clockDrift,u=e.type,l=e.key,c=e.accessKey,h=e.acl,f=e.expectedStatus,d=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),p=e.reducedRedundancy,m=e.region,g=e.serverSideEncryption,v=e.signatureVersion,y=new Date,_=e.log;return e.date=y,n=qq.s3.util.getPolicy(e),r.key=l,u&&(r["Content-Type"]=u),f&&(r.success_action_status=f),d&&(r.success_action_redirect=d),p&&(r[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),g&&(r[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),s&&(r[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=s),r.acl=h,qq.each(i,function(e,t){var n=qq.s3.util._getPrefixedParamName(e);qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,n)>=0?r[n]=t:r[n]=encodeURIComponent(t)}),2===v?r.AWSAccessKeyId=c:4===v&&(r[qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,r[qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:y,key:c,region:m}),r[qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(y,a)),t(n).then(function(t,n,i){r.policy=t.policy,2===e.signatureVersion?(r.signature=t.signature,n&&(r.AWSAccessKeyId=n)):4===e.signatureVersion&&(r[qq.s3.util.V4_SIGNATURE_PARAM_NAME]=t.signature),i&&(r[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=i),o.success(r)},function(e){e=e||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",_("Policy signing failed.  "+e,"error"),o.failure(e)}),o},enforceSizeLimits:function(e,t,n){var r=t<0?0:t,i=n<=0?9007199254740992:n;(t>0||n>0)&&e.conditions.push(["content-length-range",r.toString(),i.toString()])},getPolicyExpirationDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getPolicyDate(n,5)},getCredentialsDate:function(e){return e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)},getPolicyDate:function(e,t){var n,r,i=t||0;return e.setMinutes(e.getMinutes()+(i||0)),Date.prototype.toISOString?e.toISOString():(n=function(e){return r=String(e),1===r.length&&(r="0"+r),r},e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},parseIframeResponse:function(e){var t=e.contentDocument||e.contentWindow.document,n=t.location.search,r=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(n);if(r)return{bucket:r[1],key:r[2],etag:r[3].replace(/%22/g,"")}},getSuccessRedirectAbsoluteUrl:function(e){if(e){var t,n=document.createElement("div");return qq.ie7()?(n.innerHTML="<a href='"+e+"'></a>",t=n.firstChild,t.href):(t=document.createElement("a"),t.href=e,t.href=t.href,t.href)}},getV4CredentialsString:function(e){return e.key+"/"+qq.s3.util.getCredentialsDate(e.date)+"/"+e.region+"/s3/aws4_request"},getV4PolicyDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getCredentialsDate(n)+"T"+("0"+n.getUTCHours()).slice(-2)+("0"+n.getUTCMinutes()).slice(-2)+("0"+n.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()]/g,escape),t=t.replace(/\*/g,"%2A"),t.replace(/%20/g,"+")},uriEscape:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return qq.each(e.split("/"),function(e,n){t.push(qq.s3.util.uriEscape(n))}),t.join("/")}}}(),function(){"use strict";qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,r){var i,o,s=!!n.success,a=this,u=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,h=this._options.uploadSuccess.method,f=this._options.cors,d=new qq.Promise,p=this._uploadSuccessParamsStore.get(e),m=this._paramsStore.get(e),g=function(t){delete a._failedSuccessRequestCallbacks[e],qq.extend(n,t),qq.FineUploaderBasic.prototype._onComplete.apply(a,u),d.success(t)},v=function(o){var s=i;qq.extend(n,o),n&&n.reset&&(s=null),s?a._failedSuccessRequestCallbacks[e]=s:delete a._failedSuccessRequestCallbacks[e],a._onAutoRetry(e,t,n,r,s)||(qq.FineUploaderBasic.prototype._onComplete.apply(a,u),d.failure(o))};return s&&l?(o=new qq.UploadSuccessAjaxRequester({endpoint:l,method:h,customHeaders:c,cors:f,log:qq.bind(this.log,this)}),qq.extend(p,a._getEndpointSpecificParams(e,n,r),!0),m&&qq.extend(p,m,!0),i=qq.bind(function(){o.sendSuccessRequest(e,p).then(g,v)},a),i(),d):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){"use strict";qq.s3.FineUploaderBasic=function(e){var t={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:qq.bind(function(e){return qq.s3.util.getBucket(this.getEndpoint(e))},this),host:qq.bind(function(e){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(e))[1]},this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};qq.extend(t,e,!0),this.setCredentials(t.credentials,!0)||(this._currentCredentials.accessKey=t.request.accessKey),this._aclStore=this._createStore(t.objectProperties.acl),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedKeys={},this._cannedBuckets={},this._buckets={},this._hosts={}},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getBucket:function(e){return null==this._cannedBuckets[e]?this._buckets[e]:this._cannedBuckets[e]},getKey:function(e){return null==this._cannedKeys[e]?this._handler.getThirdPartyFileId(e):this._cannedKeys[e]},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[],this._buckets={},this._hosts={}},setCredentials:function(e,t){if(e&&e.secretKey){if(!e.accessKey)throw new qq.Error("Invalid credentials: no accessKey");if(!e.expiration)throw new qq.Error("Invalid credentials: no expiration");return this._currentCredentials=qq.extend({},e),qq.isString(e.expiration)&&(this._currentCredentials.expiration=new Date(e.expiration)),!0}if(!t)throw new qq.Error("Invalid credentials parameter!");this._currentCredentials={}},setAcl:function(e,t){this._aclStore.set(e,t)},_createUploadHandler:function(){var e=this,t={aclStore:this._aclStore,getBucket:qq.bind(this._determineBucket,this),getHost:qq.bind(this._determineHost,this),getKeyName:qq.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(e){return{get:function(t){var n=e.get(t);return n.indexOf("http")<0?"http://"+n:n}}}),qq.override(this._paramsStore,function(e){return{get:function(t){var n=e.get(t),r={};return qq.each(n,function(e,t){var n=e;qq.indexOf(qq.s3.util.CASE_SENSITIVE_PARAM_NAMES,n)<0&&(n=n.toLowerCase()),r[n]=qq.isFunction(t)?t():t}),r}}}),t.signature.credentialsProvider={get:function(){return e._currentCredentials},onExpired:function(){var t=new qq.Promise,n=e._options.callbacks.onCredentialsExpired();return qq.isGenericPromise(n)?n.then(function(n){try{e.setCredentials(n),t.success()}catch(n){e.log("Invalid credentials returned from onCredentialsExpired callback! ("+n.message+")","error"),t.failure("onCredentialsExpired did not return valid credentials.")}},function(n){e.log("onCredentialsExpired callback indicated failure! ("+n+")","error"),t.failure("onCredentialsExpired callback failed.")}):(e.log("onCredentialsExpired callback did not return a promise!","error"),t.failure("Unexpected return value for onCredentialsExpired.")),t}},qq.FineUploaderBasic.prototype._createUploadHandler.call(this,t,"s3")},_determineObjectPropertyValue:function(e,t){var n=this._options.objectProperties[t],r=new qq.Promise,i=this;return qq.isFunction(n)?(n=n(e),qq.isGenericPromise(n)?r=n:r.success(n)):qq.isString(n)&&r.success(n),r.then(function(n){i["_"+t+"s"][e]=n},function(n){qq.log("Problem determining "+t+" for ID "+e+" ("+n+")","error")}),r},_determineBucket:function(e){return this._determineObjectPropertyValue(e,"bucket")},_determineHost:function(e){return this._determineObjectPropertyValue(e,"host")},_determineKeyName:function(e,t){var n=new qq.Promise,r=this._options.objectProperties.key,i=qq.getExtension(t),o=n.failure,s=function(e,t){var r=e;void 0!==t&&(r+="."+t),n.success(r)};switch(r){case"uuid":s(this.getUuid(e),i);break;case"filename":s(t);break;default:qq.isFunction(r)?this._handleKeynameFunction(r,e,s,o):(this.log(r+" is not a valid value for the s3.keyname option!","error"),o())}return n},_handleKeynameFunction:function(e,t,n,r){var i=this,o=function(e){n(e)},s=function(e){i.log(qq.format("Failed to retrieve key name for {}.  Reason: {}",t,e||"null"),"error"),r(e)},a=e.call(this,t);qq.isGenericPromise(a)?a.then(o,s):null==a?s():o(a)},_getEndpointSpecificParams:function(e,t,n){var r={key:this.getKey(e),uuid:this.getUuid(e),name:this.getName(e),bucket:this.getBucket(e)};return n&&n.getResponseHeader("ETag")?r.etag=n.getResponseHeader("ETag"):t.etag&&(r.etag=t.etag),r},_onSubmitDelete:function(e,t){var n={key:this.getKey(e),bucket:this.getBucket(e)};return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,e,t,n)},_addCannedFile:function(e){var t;if(null==e.s3Key)throw new qq.Error("Did not find s3Key property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedKeys[t]=e.s3Key,this._cannedBuckets[t]=e.s3Bucket,t}})}(),window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){}),qq.s3.RequestSigner=function(e){"use strict";function t(e,t,n){var r,i,o=t.responseText,s=l[e],a=s.promise,u=s.signatureConstructor;if(delete l[e],o)try{i=qq.parseJson(o)}catch(e){c.log("Error attempting to parse signature response: "+e,"error")}i&&i.error?(n=!0,r=i.error):i&&i.invalid?(n=!0,r="Invalid policy document or request headers!"):i?c.expectingPolicy&&!i.policy?(n=!0,r="Response does not include the base64 encoded policy!"):i.signature||(n=!0,r="Response does not include the signature!"):(n=!0,r="Received an empty or invalid response from the server!"),n?(r&&c.log(r,"error"),a.failure(r)):u?h(u,i.signature,a):a.success(i)}function n(e,t,n){var r,i,o,s=new qq.Promise,a="POST",l=[],h="",p=new Date,m=function(e){var n,s=[];return qq.each(e.headers,function(e){l.push(e)}),l.sort(),qq.each(l,function(t,r){qq.indexOf(qq.s3.util.UNSIGNABLE_REST_HEADER_NAMES,r)<0?h+=r.toLowerCase()+":"+e.headers[r].trim()+"\n":"Content-MD5"===r?n=e.headers[r]:s.unshift(t)}),qq.each(s,function(e,t){l.splice(t,1)}),i={bucket:e.bucket,contentMd5:n,contentType:e.contentType,date:p,drift:c.signatureSpec.drift,endOfUrl:r,hashedContent:e.hashedContent,headerNames:l,headersStr:h,method:a},o=2===t?f.getStringToSign(i):d.getStringToSign(i),{date:p,endOfUrl:r,signedHeaders:4===t?d.getSignedHeaders(i.headerNames):null,toSign:4===t?o.hashed:o,toSignRaw:4===t?o.raw:o}};switch(n.type){case u.REQUEST_TYPE.MULTIPART_ABORT:a="DELETE",r=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_INITIATE:r="uploads";break;case u.REQUEST_TYPE.MULTIPART_COMPLETE:r=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_UPLOAD:a="PUT",r=qq.format("partNumber={}&uploadId={}",n.partNum,n.uploadId)}return r=n.key+"?"+r,4===t?d.getEncodedHashedPayload(n.content).then(function(e){n.headers["x-amz-content-sha256"]=e,n.headers.Host=n.host,n.headers["x-amz-date"]=qq.s3.util.getV4PolicyDate(p,c.signatureSpec.drift),n.hashedContent=e,s.success(m(n))},function(e){s.failure(e)}):s.success(m(n)),s}function r(e,t,n,r,s){var a;t.signatureConstructor?(s&&(a=t.signatureConstructor.getHeaders(),a[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=s,t.signatureConstructor.withHeaders(a)),t.signatureConstructor.getToSign(e).then(function(e){o(t.signatureConstructor,e.stringToSign,n)},function(e){n.failure(e)})):(s&&qq.s3.util.refreshPolicyCredentials(t,s),i(t,n,r,s))}function i(e,t,n,r){4===c.signatureSpec.version?d.signPolicy(e,t,n,r):f.signPolicy(e,t,n,r)}function o(e,t,n){4===c.signatureSpec.version?d.signApiRequest(e,t,n):f.signApiRequest(e,t,n)}var s,a,u=this,l={},c={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}},h=function(e,t,n){var r=e.getHeaders();4===c.signatureSpec.version?r.Authorization=qq.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+c.signatureSpec.credentialsProvider.get().accessKey+"/"+qq.s3.util.getCredentialsDate(e.getRequestDate())+"/"+c.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+e.getSignedHeaders()+",Signature="+t:r.Authorization="AWS "+c.signatureSpec.credentialsProvider.get().accessKey+":"+t,n.success(r,e.getEndOfUrl())},f={getStringToSign:function(e){return qq.format("{}\n{}\n{}\n\n{}/{}/{}",e.method,e.contentMd5||"",e.contentType||"",e.headersStr||"\n",e.bucket,e.endOfUrl)},signApiRequest:function(e,t,n){var r=qq.CryptoJS.enc.Utf8.parse(t),i=qq.CryptoJS.HmacSHA1(r,a.get().secretKey),o=qq.CryptoJS.enc.Base64.stringify(i);h(e,o,n)},signPolicy:function(e,t,n,r){var i=JSON.stringify(e),o=qq.CryptoJS.enc.Utf8.parse(i),s=qq.CryptoJS.enc.Base64.stringify(o),u=qq.CryptoJS.HmacSHA1(s,a.get().secretKey),l=qq.CryptoJS.enc.Base64.stringify(u);t.success({policy:s,signature:l},n,r)}},d={getCanonicalQueryString:function(e){var t,n,r,i=e.indexOf("?"),o="";return i>=0&&(t={},r=e.substr(i+1).split("&"),qq.each(r,function(e,n){var r=n.split("="),i=r[1];null==i&&(i=""),t[encodeURIComponent(r[0])]=encodeURIComponent(i)}),n=Object.keys(t).sort(),n.forEach(function(e,r){o+=e+"="+t[e],r<n.length-1&&(o+="&")})),o},getCanonicalRequest:function(e){return qq.format("{}\n{}\n{}\n{}\n{}\n{}",e.method,d.getCanonicalUri(e.endOfUrl),d.getCanonicalQueryString(e.endOfUrl),e.headersStr||"\n",d.getSignedHeaders(e.headerNames),e.hashedContent)},getCanonicalUri:function(e){var t=e,n=e.indexOf("?");return n>0&&(t=e.substr(0,n)),"/"+t},getEncodedHashedPayload:function(e){var t,n=new qq.Promise;return qq.isBlob(e)?(t=new FileReader,t.onloadend=function(e){if(e.target.readyState===FileReader.DONE)if(e.target.error)n.failure(e.target.error);else{var t=qq.CryptoJS.lib.WordArray.create(e.target.result);n.success(qq.CryptoJS.SHA256(t).toString())}},t.readAsArrayBuffer(e)):(e=e||"",n.success(qq.CryptoJS.SHA256(e).toString())),n},getScope:function(e,t){return qq.s3.util.getCredentialsDate(e)+"/"+t+"/s3/aws4_request"},getStringToSign:function(e){var t=d.getCanonicalRequest(e),n=qq.s3.util.getV4PolicyDate(e.date,e.drift),r=qq.CryptoJS.SHA256(t).toString(),i=d.getScope(e.date,c.signatureSpec.region),o="AWS4-HMAC-SHA256\n{}\n{}\n{}";return{hashed:qq.format(o,n,i,r),raw:qq.format(o,n,i,t)}},getSignedHeaders:function(e){var t="";return e.forEach(function(n,r){t+=n.toLowerCase(),r<e.length-1&&(t+=";")}),t},signApiRequest:function(e,t,n){var r,i,o,s,u=a.get().secretKey,l=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/,c=l.exec(t);r=qq.CryptoJS.HmacSHA256(c[1],"AWS4"+u),i=qq.CryptoJS.HmacSHA256(c[2],r),o=qq.CryptoJS.HmacSHA256("s3",i),s=qq.CryptoJS.HmacSHA256("aws4_request",o),h(e,qq.CryptoJS.HmacSHA256(t,s),n)},signPolicy:function(e,t,n,r){var i,o,s,u,l,c=JSON.stringify(e),h=qq.CryptoJS.enc.Utf8.parse(c),f=qq.CryptoJS.enc.Base64.stringify(h),d=a.get().secretKey,p=/.+\/(.+)\/(.+)\/s3\/aws4_request/,m=function(){var t=null;return qq.each(e.conditions,function(e,n){var r=n["x-amz-credential"];if(r)return t=r,!1}),t}();i=p.exec(m),o=qq.CryptoJS.HmacSHA256(i[1],"AWS4"+d),s=qq.CryptoJS.HmacSHA256(i[2],o),u=qq.CryptoJS.HmacSHA256("s3",s),l=qq.CryptoJS.HmacSHA256("aws4_request",u),t.success({policy:f,signature:qq.CryptoJS.HmacSHA256(f,l).toString()},n,r)}};qq.extend(c,e,!0),a=c.signatureSpec.credentialsProvider,s=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:c.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return c.signatureSpec.endpoint}},paramsStore:c.paramsStore,maxConnections:c.maxConnections,customHeaders:c.signatureSpec.customHeaders,log:c.log,onComplete:t,cors:c.cors})),qq.extend(this,{getSignature:function(e,t){var n,i=t,o=t.signatureConstructor,u=new qq.Promise;return 4===c.signatureSpec.version&&(n={v4:!0}),a.get().secretKey&&qq.CryptoJS?a.get().expiration.getTime()>Date.now()?r(e,t,u):a.onExpired().then(function(){r(e,t,u,a.get().accessKey,a.get().sessionToken)},function(e){c.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ","error"),u.failure("Unable to sign request - expired credentials.")}):(c.log("Submitting S3 signature request for "+e),o?o.getToSign(e).then(function(t){i={headers:t.stringToSignRaw},s.initTransport(e).withParams(i).withQueryParams(n).send()},function(e){c.log("Failed to construct signature. ","error"),u.failure("Failed to construct signature.")}):s.initTransport(e).withParams(i).withQueryParams(n).send(),l[e]={promise:u,signatureConstructor:o}),u},constructStringToSign:function(e,t,r,i){var o,s,u,l,h,f={};return{withHeaders:function(e){return f=e,this},withUploadId:function(e){return o=e,this},withContent:function(e){return s=e,this},withContentType:function(e){return u=e,this},withPartNum:function(e){return l=e,this},getToSign:function(d){var p=a.get().sessionToken,m=new qq.Promise,g=new Date(Date.now()+c.signatureSpec.drift);return f["x-amz-date"]=g.toUTCString(),p&&(f[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=p),n(d,c.signatureSpec.version,{bucket:t,content:s,contentType:u,headers:f,host:r,key:i,partNum:l,type:e,uploadId:o}).then(function(e){h=e,m.success({headers:function(){return u&&(f["Content-Type"]=u),delete f.Host,f}(),date:h.date,endOfUrl:h.endOfUrl,signedHeaders:h.signedHeaders,stringToSign:h.toSign,stringToSignRaw:h.toSignRaw})},function(e){m.failure(e)}),m},getHeaders:function(){return qq.extend({},f)},getEndOfUrl:function(){return h&&h.endOfUrl},getRequestDate:function(){return h&&h.date},getSignedHeaders:function(){return h&&h.signedHeaders}}}})},qq.s3.RequestSigner.prototype.REQUEST_TYPE={MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"},qq.UploadSuccessAjaxRequester=function(e){"use strict";function t(e,t,n){var o,s=r[e],a=t.responseText,u={success:!0},l={success:!1};delete r[e],i.log(qq.format("Received the following response body to an upload success request for id {}: {}",e,a));try{o=qq.parseJson(a),n||o&&(o.error||o.success===!1)?(i.log("Upload success request was rejected by the server.","error"),s.failure(qq.extend(o,l))):(i.log("Upload success was acknowledged by the server."),s.success(qq.extend(o,u)))}catch(t){n?(i.log(qq.format("Your server indicated failure in its upload success request response for id {}!",e),"error"),s.failure(l)):(i.log("Upload success was acknowledged by the server."),s.success(u))}}var n,r=[],i={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:i.method,endpointStore:{get:function(){return i.endpoint}},paramsStore:i.paramsStore,maxConnections:i.maxConnections,customHeaders:i.customHeaders,log:i.log,onComplete:t,cors:i.cors})),qq.extend(this,{sendSuccessRequest:function(e,t){var o=new qq.Promise;return i.log("Submitting upload success request/notification for "+e),n.initTransport(e).withParams(t).send(),r[e]=o,o}})},qq.s3.InitiateMultipartAjaxRequester=function(e){"use strict";function t(e){var t,n=s.getBucket(e),r=s.getHost(e),o={},a=new qq.Promise,u=s.getKey(e);return o["x-amz-acl"]=s.aclStore.get(e),s.reducedRedundancy&&(o[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),s.serverSideEncryption&&(o[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),o[qq.s3.util.AWS_PARAM_PREFIX+s.filenameParam]=encodeURIComponent(s.getName(e)),qq.each(s.paramsStore.get(e),function(e,t){qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?o[e]=t:o[qq.s3.util.AWS_PARAM_PREFIX+e]=encodeURIComponent(t)}),t=i.constructStringToSign(i.REQUEST_TYPE.MULTIPART_INITIATE,n,r,u).withContentType(s.getContentType(e)).withHeaders(o),i.getSignature(e,{signatureConstructor:t}).then(a.success,a.failure),a}function n(e,t,n){var r,i,a,u,l,c=o[e],h=new DOMParser,f=h.parseFromString(t.responseText,"application/xml");delete o[e],n?(l=t.status,i=f.getElementsByTagName("Message"),i.length>0&&(u=i[0].textContent)):(r=f.getElementsByTagName("UploadId"),r.length>0?a=r[0].textContent:u="Upload ID missing from request"),void 0===a?(u?s.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",e,u),"error"):s.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",e,l),"error"),c.failure("Problem initiating upload request.",t)):(s.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",e,a)),c.success(a,t))}var r,i,o={},s={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(e){},getBucket:function(e){},getHost:function(e){},getKey:function(e){},getName:function(e){},log:function(e,t){}};qq.extend(s,e),i=new qq.s3.RequestSigner({endpointStore:s.endpointStore,signatureSpec:s.signatureSpec,cors:s.cors,log:s.log}),r=qq.extend(this,new qq.AjaxRequester({method:s.method,contentType:null,endpointStore:s.endpointStore,maxConnections:s.maxConnections,allowXRequestedWithAndCacheControl:!1,log:s.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e){var n=new qq.Promise;return t(e).then(function(t,i){s.log("Submitting S3 initiate multipart upload request for "+e),o[e]=n,r.initTransport(e).withPath(i).withHeaders(t).send()},n.failure),n}})},qq.s3.CompleteMultipartAjaxRequester=function(e){"use strict";function t(e,t,n){var r=new qq.Promise,i=a.getBucket(e),s=a.getHost(e),u=o.constructStringToSign(o.REQUEST_TYPE.MULTIPART_COMPLETE,i,s,a.getKey(e)).withUploadId(t).withContent(n).withContentType("application/xml; charset=UTF-8");return o.getSignature(e,{signatureConstructor:u}).then(r.success,r.failure),r}function n(e,t,n){var r=s[e],i=new DOMParser,o=a.getBucket(e),u=(a.getKey(e),i.parseFromString(t.responseText,"application/xml")),l=u.getElementsByTagName("Bucket"),c=u.getElementsByTagName("Key");delete s[e],a.log(qq.format("Complete response status {}, body = {}",t.status,t.responseText)),n?a.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",e,t.status),"error"):l.length&&c.length?l[0].textContent!==o&&(n=!0,a.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",e),"error")):(n=!0,a.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",e),"error")),n?r.failure("Problem combining the file parts!",t):r.success({},t)}function r(e){var t=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return e.sort(function(e,t){return e.part-t.part}),qq.each(e,function(e,n){var r=n.part,i=n.etag,o=t.createElement("Part"),s=t.createElement("PartNumber"),a=t.createTextNode(r),u=t.createTextNode(i),l=t.createElement("ETag");l.appendChild(u),s.appendChild(a),o.appendChild(s),o.appendChild(l),qq(t).children()[0].appendChild(o)}),(new XMLSerializer).serializeToString(t)}var i,o,s={},a={method:"POST",contentType:"text/xml",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(a,e),o=new qq.s3.RequestSigner({endpointStore:a.endpointStore,signatureSpec:a.signatureSpec,cors:a.cors,log:a.log}),i=qq.extend(this,new qq.AjaxRequester({method:a.method,contentType:"application/xml; charset=UTF-8",endpointStore:a.endpointStore,maxConnections:a.maxConnections,allowXRequestedWithAndCacheControl:!1,log:a.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e,n,o){var u=new qq.Promise,l=r(o);return t(e,n,l).then(function(t,n){a.log("Submitting S3 complete multipart upload request for "+e),s[e]=u,delete t["Content-Type"],i.initTransport(e).withPath(n).withHeaders(t).withPayload(l).send()},u.failure),u}})},qq.s3.AbortMultipartAjaxRequester=function(e){"use strict";function t(e,t){var n=new qq.Promise,r=o.getBucket(e),s=o.getHost(e),a=i.constructStringToSign(i.REQUEST_TYPE.MULTIPART_ABORT,r,s,o.getKey(e)).withUploadId(t);return i.getSignature(e,{signatureConstructor:a}).then(n.success,n.failure),n}function n(e,t,n){var r,i=new DOMParser,s=i.parseFromString(t.responseText,"application/xml"),a=s.getElementsByTagName("Error");o.log(qq.format("Abort response status {}, body = {}",t.status,t.responseText)),n?o.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",e,t.status),"error"):a.length?(n=!0,r=s.getElementsByTagName("Message")[0].textContent,o.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",e,r),"error")):o.log(qq.format("Abort MPU request succeeded for file ID {}.",e))}var r,i,o={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(o,e),i=new qq.s3.RequestSigner({endpointStore:o.endpointStore,signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),r=qq.extend(this,new qq.AjaxRequester({validMethods:["DELETE"],method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,allowXRequestedWithAndCacheControl:!1,log:o.log,onComplete:n,successfulResponseCodes:{DELETE:[204]}})),qq.extend(this,{send:function(e,n){t(e,n).then(function(t,n){o.log("Submitting S3 Abort multipart upload request for "+e),r.initTransport(e).withPath(n).withHeaders(t).send()})}})},qq.s3.XhrUploadHandler=function(e,t){"use strict";var n=t.getName,r=t.log,i=e.clockDrift,o=200,s=e.getBucket,a=e.getHost,u=e.getKeyName,l=e.filenameParam,c=e.paramsStore,h=e.endpointStore,f=e.aclStore,d=e.objectProperties.reducedRedundancy,p=e.objectProperties.region,m=e.objectProperties.serverSideEncryption,g=e.validation,v=qq.extend({region:p,drift:i},e.signature),y=this,_=e.signature.credentialsProvider,b={combine:function(e){var t=y._getPersistableData(e).uploadId,n=y._getPersistableData(e).etags,r=new qq.Promise;return w.completeMultipart.send(e,t,n).then(r.success,function(t,n){r.failure(x.done(e,n).response,n)}),r},done:function(e,t,n){var r,i=x.response.parse(e,t);i.success&&(r=t.getResponseHeader("ETag"),y._getPersistableData(e).etags||(y._getPersistableData(e).etags=[]),y._getPersistableData(e).etags.push({part:n+1,etag:r}))},initHeaders:function(e,t,n){var r=x.bucket.getName(e),i=x.host.getName(e),o=x.key.urlSafe(e),s=new qq.Promise,a=w.restSignature.constructStringToSign(w.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,r,i,o).withPartNum(t+1).withContent(n).withUploadId(y._getPersistableData(e).uploadId);return w.restSignature.getSignature(e+"."+t,{signatureConstructor:a}).then(s.success,s.failure),s},put:function(t,n){var i=y._createXhr(t,n),o=y._getChunkData(t,n),s=e.endpointStore.get(t),a=new qq.Promise;return b.initHeaders(t,n,o.blob).then(function(e,u){if(i._cancelled)r(qq.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",t,n)),a.failure({
error:"Chunk upload cancelled"});else{var l=s+"/"+u;y._registerProgressHandler(t,n,o.size),x.track(t,i,n).then(a.success,a.failure),i.open("PUT",l,!0),qq.each(e,function(e,t){i.setRequestHeader(e,t)}),i.send(o.blob)}},function(){a.failure({error:"Problem signing the chunk!"},i)}),a},send:function(e,t){var n=new qq.Promise;return b.setup(e).then(function(){b.put(e,t).then(n.success,n.failure)},function(e,t){n.failure({error:e},t)}),n},setup:function(e){var t=new qq.Promise,n=y._getPersistableData(e).uploadId,r=new qq.Promise;return n?n instanceof qq.Promise?n.then(function(e){t.success(e)}):t.success(n):(y._getPersistableData(e).uploadId=r,w.initiateMultipart.send(e).then(function(n){y._getPersistableData(e).uploadId=n,r.success(n),t.success(n)},function(n,i){y._getPersistableData(e).uploadId=null,t.failure(n,i),r.failure(n,i)})),t}},w={abortMultipart:new qq.s3.AbortMultipartAjaxRequester({endpointStore:h,signatureSpec:v,cors:e.cors,log:r,getBucket:function(e){return x.bucket.getName(e)},getHost:function(e){return x.host.getName(e)},getKey:function(e){return x.key.urlSafe(e)}}),completeMultipart:new qq.s3.CompleteMultipartAjaxRequester({endpointStore:h,signatureSpec:v,cors:e.cors,log:r,getBucket:function(e){return x.bucket.getName(e)},getHost:function(e){return x.host.getName(e)},getKey:function(e){return x.key.urlSafe(e)}}),initiateMultipart:new qq.s3.InitiateMultipartAjaxRequester({filenameParam:l,endpointStore:h,paramsStore:c,signatureSpec:v,aclStore:f,reducedRedundancy:d,serverSideEncryption:m,cors:e.cors,log:r,getContentType:function(e){return y._getMimeType(e)},getBucket:function(e){return x.bucket.getName(e)},getHost:function(e){return x.host.getName(e)},getKey:function(e){return x.key.urlSafe(e)},getName:function(e){return n(e)}}),policySignature:new qq.s3.RequestSigner({expectingPolicy:!0,signatureSpec:v,cors:e.cors,log:r}),restSignature:new qq.s3.RequestSigner({endpointStore:h,signatureSpec:v,cors:e.cors,log:r})},S={initParams:function(e){var t=c.get(e);return t[l]=n(e),qq.s3.util.generateAwsParams({endpoint:h.get(e),clockDrift:i,params:t,type:y._getMimeType(e),bucket:x.bucket.getName(e),key:y.getThirdPartyFileId(e),accessKey:_.get().accessKey,sessionToken:_.get().sessionToken,acl:f.get(e),expectedStatus:o,minFileSize:g.minSizeLimit,maxFileSize:g.maxSizeLimit,reducedRedundancy:d,region:p,serverSideEncryption:m,signatureVersion:v.version,log:r},qq.bind(w.policySignature.getSignature,this,e))},send:function(e){var t=new qq.Promise,n=y._createXhr(e),i=y.getFile(e);return y._registerProgressHandler(e),x.track(e,n).then(t.success,t.failure),S.setup(e,n,i).then(function(t){r("Sending upload request for "+e),n.send(t)},t.failure),t},setup:function(e,t,n){var r=new FormData,i=h.get(e),o=i,s=new qq.Promise;return S.initParams(e).then(function(e){t.open("POST",o,!0),qq.obj2FormData(e,r),r.append("file",n),s.success(r)},function(e){s.failure({error:e})}),s}},x={bucket:{promise:function(e){var t=new qq.Promise,n=y._getFileState(e).bucket;return n?t.success(n):s(e).then(function(n){y._getFileState(e).bucket=n,t.success(n)},t.failure),t},getName:function(e){return y._getFileState(e).bucket}},host:{promise:function(e){var t=new qq.Promise,n=y._getFileState(e).host;return n?t.success(n):a(e).then(function(n){y._getFileState(e).host=n,t.success(n)},t.failure),t},getName:function(e){return y._getFileState(e).host}},done:function(e,t){var n=x.response.parse(e,t),i=n.success!==!0;return i&&x.response.shouldReset(n.code)&&(r("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),n.reset=!0),{success:!i,response:n}},key:{promise:function(e){var t=new qq.Promise,r=y.getThirdPartyFileId(e);return null==r?(y._setThirdPartyFileId(e,t),u(e,n(e)).then(function(n){y._setThirdPartyFileId(e,n),t.success(n)},function(n){y._setThirdPartyFileId(e,null),t.failure(n)})):qq.isGenericPromise(r)?r.then(t.success,t.failure):t.success(r),t},urlSafe:function(e){var t=y.getThirdPartyFileId(e);return qq.s3.util.uriEscapePath(t)}},response:{parse:function(e,t){var n,i={};try{r(qq.format("Received response status {} with body: {}",t.status,t.responseText)),t.status===o?i.success=!0:(n=x.response.parseError(t.responseText),n&&(i.error=n.message,i.code=n.code))}catch(e){r("Error when attempting to parse xhr response text ("+e.message+")","error")}return i},parseError:function(e){var t,n,r=new DOMParser,i=r.parseFromString(e,"application/xml"),o=i.getElementsByTagName("Error"),s={};if(o.length)return t=i.getElementsByTagName("Code"),n=i.getElementsByTagName("Message"),n.length&&(s.message=n[0].textContent),t.length&&(s.code=t[0].textContent),s},shouldReset:function(e){return"EntityTooSmall"===e||"InvalidPart"===e||"InvalidPartOrder"===e||"NoSuchUpload"===e}},start:function(e,t){var n=new qq.Promise;return x.key.promise(e).then(function(){x.bucket.promise(e).then(function(){x.host.promise(e).then(function(){null==t?S.send(e).then(n.success,n.failure):b.send(e,t).then(n.success,n.failure)})})},function(e){n.failure({error:e})}),n},track:function(e,t,n){var r=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var i;null==n?(i=x.done(e,t),r[i.success?"success":"failure"](i.response,t)):(b.done(e,t,n),i=x.done(e,t),r[i.success?"success":"failure"](i.response,t))}},r}};qq.extend(this,{uploadChunk:x.start,uploadFile:x.start}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"s3"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(e){return{expunge:function(t){var n=y._getPersistableData(t)&&y._getPersistableData(t).uploadId,r=y._maybeDeletePersistedChunkData(t);void 0!==n&&r&&w.abortMultipart.send(t,n),e.expunge(t)},finalizeChunks:function(e){return b.combine(e)},_getLocalStorageId:function(t){var n=e._getLocalStorageId(t),r=x.bucket.getName(t);return n+"-"+r}}})},qq.s3.FormUploadHandler=function(e,t){"use strict";function n(e,t){var n,r,i,o=(s.endpointStore.get(e),a._getFileState(e).bucket);try{if(n=t.contentDocument||t.contentWindow.document,r=n.body.innerHTML,i=qq.s3.util.parseIframeResponse(t),i.bucket===o&&i.key===qq.s3.util.encodeQueryStringParam(a.getThirdPartyFileId(e)))return!0;f("Response from AWS included an unexpected bucket or key name.","error")}catch(s){f("Error when attempting to parse form upload response ("+s.message+")","error")}return!1}function r(e){var t=g.get(e);return t[m]=c(e),qq.s3.util.generateAwsParams({endpoint:v.get(e),clockDrift:u,params:t,bucket:a._getFileState(e).bucket,key:a.getThirdPartyFileId(e),accessKey:E.get().accessKey,sessionToken:E.get().sessionToken,acl:y.get(e),minFileSize:S.minSizeLimit,maxFileSize:S.maxSizeLimit,successRedirectUrl:T,reducedRedundancy:_,region:b,serverSideEncryption:w,signatureVersion:x.version,log:f},qq.bind(q.getSignature,this,e))}function i(t,n){var i=new qq.Promise,o="POST",u=e.endpointStore.get(t),l=c(t);return r(t).then(function(e){var t=a._initFormForUpload({method:o,endpoint:u,params:e,paramsInBody:!0,targetName:n.name});i.success(t)},function(e){i.failure(e),s(t,n,l,{error:e})}),i}function o(e){var t=a._createIframe(e),r=a.getInput(e),o=new qq.Promise;return i(e,t).then(function(i){i.appendChild(r),a._attachLoadEvent(t,function(r){f("iframe loaded"),r?r.success===!1&&(f("Amazon likely rejected the upload request","error"),o.failure(r)):(r={},r.success=n(e,t),r.success===!1?(f("A success response was received by Amazon, but it was invalid in some way.","error"),o.failure(r)):(qq.extend(r,qq.s3.util.parseIframeResponse(t)),o.success(r))),s(e,t)}),f("Sending upload request for "+e),i.submit(),qq(i).remove()},o.failure),o}function s(e,t){a._detachLoadEvent(e),t&&qq(t).remove()}var a=this,u=e.clockDrift,l=t.onUuidChanged,c=t.getName,h=t.getUuid,f=t.log,d=e.getBucket,p=e.getKeyName,m=e.filenameParam,g=e.paramsStore,v=e.endpointStore,y=e.aclStore,_=e.objectProperties.reducedRedundancy,b=e.objectProperties.region,w=e.objectProperties.serverSideEncryption,S=e.validation,x=e.signature,T=e.iframeSupport.localBlankPagePath,E=e.signature.credentialsProvider,q=new qq.s3.RequestSigner({signatureSpec:x,cors:e.cors,log:f});if(void 0===T)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");qq.extend(this,new qq.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:e.onCancel,onUuidChanged:l,getName:c,getUuid:h,log:f}})),qq.extend(this,{uploadFile:function(e){var t=c(e),n=new qq.Promise;return a.getThirdPartyFileId(e)?a._getFileState(e).bucket?o(e).then(n.success,n.failure):d(e).then(function(t){a._getFileState(e).bucket=t,o(e).then(n.success,n.failure)}):p(e,t).then(function(t){d(e).then(function(r){a._getFileState(e).bucket=r,a._setThirdPartyFileId(e,t),o(e).then(n.success,n.failure)},function(e){n.failure({error:e})})},function(e){n.failure({error:e})}),n}})}}(window),function(e){var t=function(e){return new v(e)};t.version="0.6.5","undefined"!=typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd?define(function(){return t}):e.typogr=t;var n=function(e,t){return new RegExp(e,t)},r=/<(\/)?(pre|code|kbd|script|math|title)[^>]*>/i,i=t.amp=function(e){var t=/(\s|&nbsp;)(&|&amp;|&\#38;)(\s|&nbsp;)/g,n=/(<[^<]*>)?([^<]*)(<\/[^<]*>)?/g;if(e||"string"==typeof e)return e.replace(n,function(e,n,i,o){return n=n||"",o=o||"",n.match(r)?n+i+o:(i=i.replace(t,'$1<span class="amp">&amp;</span>$3'),n+i+o)})},o=t.ord=function(e){if(e||"string"==typeof e){var t,n=h(e),i=[],o=!1,s=/(\d+)(st|nd|rd|th)/g;return n.forEach(function(e){"tag"===e.type?(i.push(e.txt),t=r.exec(e.txt),o=!(!t||void 0!==t[1])):o?i.push(e.txt):i.push(e.txt.replace(s,'$1<span class="ord">$2</span>'))}),i.join("")}},s=t.initQuotes=function(e){var t=n("(?:(?:<(?:p|h[1-6]|li|dt|dd)[^>]*>|^)\\s*(?:<(?:a|em|span|strong|i|b)[^>]*>\\s*)*)(?:(\"|&ldquo;|&#8220;)|('|&lsquo;|&#8216;))","i");if(e||"string"==typeof e)return e.replace(t,function(e,t,n){var r=t?"dquo":"quo",i=t?t:n;return[e.slice(0,e.lastIndexOf(i)),'<span class="',r,'">',i,"</span>"].join("")})},a=t.widont=function(e){var t="a|em|span|strong|i|b",r="(?:<(?:"+t+")[^>]*?>)*?[^\\s<>]+(?:</(?:"+t+")[^>]*?>)*?",i=n("(\\s+"+r+"\\s+"+r+")(?:\\s+)([^<>\\s]+(?:\\s*</(?:a|em|span|strong|i|b)[^>]*?>\\s*\\.*)*?(?:\\s*?</(?:p|h[1-6]|li|dt|dd)>|$))","gi");return e.replace(i,"$1&nbsp;$2")},u=t.caps=function(e){var t,i=h(e),o=[],s=!1,a=n("((\\b[A-Z\\d]*[A-Z]\\d*[A-Z][A-Z\\d']*\\b)|(\\b[A-Z]+\\.\\s?(?:[A-Z]+\\.\\s?)+)(?:\\s|\\b|$))","g");return i.forEach(function(e){"tag"===e.type?(o.push(e.txt),t=r.exec(e.txt),s=!(!t||void 0!==t[1])):s?o.push(e.txt):o.push(e.txt.replace(a,function(e,t,n,r){var i,o;return n?'<span class="caps">%s</span>'.replace("%s",n):(" "===r.slice(-1)?(i=r.slice(0,-1),o=" "):(i=r,o=""),'<span class="caps">%s1</span>%s2'.replace("%s1",i).replace("%s2",o))}))}),o.join("")};t.typogrify=function(e){var t=e;return e.jquery&&e.html&&(t=e.html()),t=i(t),t=a(t),t=c(t),t=u(t),t=s(t),t=o(t)};var l,c=t.smartypants=function(e){var t,n,i=h(e),o=[],s=[],a="",u="",l=!1,c="";return i.forEach(function(e){if("tag"===e.type)o.push(e.txt),null!==(u=r.exec(e.txt))&&(a=u[2].toLowerCase(),u[1]?(s.length>0&&a===s[s.length-1]&&s.pop(),0===s.length&&(l=!1)):(s.push(a),l=!0));else{if(n=e.txt,t=n.slice(-1),!l)switch(n=f(n),n=d(n),n=p(n),n=m(n)){case"'":n=/\S/.test(c)?"&#8217;":"&#8216;";break;case'"':n=/\S/.test(c)?"&#8221;":"&#8220;";break;default:n=g(n)}c=t,o.push(n)}}),o.join("")},h=t.tokenize=function(e){for(var t,n=[],r=0,i=/([^<]*)(<[^>]*>)/gi;null!==(t=i.exec(e));){var o=t[1],s=t[2];o&&n.push({type:"text",txt:o}),n.push({type:"tag",txt:s}),r=i.lastIndex}return i.lastIndex<=e.length&&("."==e.slice(-1)&&".."!=e.slice(-2)?(n.push({type:"text",txt:e.slice(r,e.length-1)}),n.push({type:"text",txt:e.slice(-1)})):n.push({type:"text",txt:e.slice(r)})),n},f=t.smartEscapes=function(e){return e.replace(/\\"/g,"&#34;").replace(/\\'/g,"&#39;").replace(/\\-/g,"&#45;").replace(/\\\./g,"&#46;").replace(/\\\\/g,"&#92;").replace(/\\`/g,"&#96;")},d=t.smartDashes=function(e){return e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;")},p=t.smartEllipses=function(e){return e.replace(/\.\.\./g,"&#8230;").replace(/\. \. \./g,"&#8230;")},m=t.smartBackticks=function(e){return e.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;")},g=t.smartQuotes=function(e){var t="[!\"#\\$\\%\\'()*+,-.\\/:;<=>?\\@\\[\\\\]\\^_`{|}~]",r="(?=%s\\B)".replace("%s",t),i="[^\\ \\t\\r\\n\\[\\{\\(\\-]",o="&#8211;|&#8212;",s=n("(\\s|&nbsp;|--|&[mn]dash;|"+o+"|&#x201[34];)'(?=\\w)","g"),a=n("("+i+")'(?!\\s | s\\b | \\d)","g"),u=n("("+i+")'(?!\\s | s\\b)","g"),l=n("(\\s|&nbsp;|--|&[mn]dash;|"+o+'|&#x201[34];)"(?=\\w)',"g"),c=n('"(?=\\s)',"g"),h=n("("+i+')"',"g");return e.replace(n("^'%s".replace("%s",r),"g"),"&#8217;").replace(n('^"%s'.replace("%s",r),"g"),"&#8221;").replace(/"'(?=\w)/g,"&#8220;&#8216;").replace(/'"(?=\w)/g,"&#8216;&#8220;").replace(/\b'(?=\d{2}s)/g,"&#8217;").replace(s,"$1&#8216;").replace(a,"$1&#8217;").replace(u,"$1&#8217;$2").replace("'","&#8217;").replace(l,"$1&#8220;").replace(c,"&#8221;").replace(h,"$1&#8221;").replace('"',"&#8220;")},v=function(e){this._wrapped=e},y=function(e,n){return n?t(e).chain():e},_=function(e,n){v.prototype[e]=function(){return y(n.call(t,this._wrapped),this._chain)}},b=function(e){return!!(e&&e.constructor&&e.call&&e.apply)};for(l in t)t.hasOwnProperty(l)&&b(t[l])&&_(l,t[l]);v.prototype.chain=function(){return this._chain=!0,this},v.prototype.value=function(){return this._wrapped}}(this),function(){_.mixin(window.written),_.mixin({trim:function(e){return"string"==typeof e?e.replace(/(^\s+|\s+$)/g,""):e}})}.call(this),function(){!function(){var e;if("undefined"!=typeof _&&null!==_)return e={average:function(e,t){return _.sum(e,t)/_.size(e)},median:function(e){var t,n;return t=(e.length+1)/2,n=_.sortBy(e,_.identity),_.isInteger(t)?n[t-1]:_.sum(n.slice(t-1.5,t+.5))/2},nearest:function(e,t,n){return null==n&&(n=[-1,999]),_.chain(e).map(function(e){return[e,Math.abs(e-t)]}).reduce(function(e,t){return e[1]<t[1]?e:t},n).first().value()},sum:function(e,t){var n;return null==t&&(t="value"),n=_.isArray(e)&&_.isNumber(e[0])?e:_.pluck(e,t),_.reduce(n,function(e,t){return e+t})},factors:function(e){var t;return function(){var n,r,i;for(i=[],t=n=0,r=e;0<=r?n<=r:n>=r;t=0<=r?++n:--n)_.isInteger(e/t)&&i.push(e/t);return i}().reverse()},isInteger:function(e){return _.hasFactor(e,1)},isEven:function(e){return _.hasFactor(e,2)},isOdd:function(e){return!_.isEven(e)},hasFactor:function(e,t){return e%t===0},limit:function(e,t,n){return null==n&&(n=0),t<n?Math.max(Math.min(e,n),t):t>n?Math.min(Math.max(e,n),t):t}},_.mixin(e)}()}.call(this),function(){"use strict";var e=function(){var e=["horizontal","horizontalBack","vertical","verticalUp","diagonal","diagonalUp","diagonalBack","diagonalUpBack"],t={horizontal:function(e,t,n){return{x:e+n,y:t}},horizontalBack:function(e,t,n){return{x:e-n,y:t}},vertical:function(e,t,n){return{x:e,y:t+n}},verticalUp:function(e,t,n){return{x:e,y:t-n}},diagonal:function(e,t,n){return{x:e+n,y:t+n}},diagonalBack:function(e,t,n){return{x:e-n,y:t+n}},diagonalUp:function(e,t,n){return{x:e+n,y:t-n}},diagonalUpBack:function(e,t,n){return{x:e-n,y:t-n}}},n={horizontal:function(e,t,n,r,i){return r>=e+i},horizontalBack:function(e,t,n,r,i){return e+1>=i},vertical:function(e,t,n,r,i){return n>=t+i},verticalUp:function(e,t,n,r,i){return t+1>=i},diagonal:function(e,t,n,r,i){return r>=e+i&&n>=t+i},diagonalBack:function(e,t,n,r,i){return e+1>=i&&n>=t+i},diagonalUp:function(e,t,n,r,i){return r>=e+i&&t+1>=i},diagonalUpBack:function(e,t,n,r,i){return e+1>=i&&t+1>=i}},r={horizontal:function(e,t,n){return{x:0,y:t+1}},horizontalBack:function(e,t,n){return{x:n-1,y:t}},vertical:function(e,t,n){return{x:0,y:t+100}},verticalUp:function(e,t,n){return{x:0,y:n-1}},diagonal:function(e,t,n){return{x:0,y:t+1}},diagonalBack:function(e,t,n){return{x:n-1,y:e>=n-1?t+1:t}},diagonalUp:function(e,t,n){return{x:0,y:t<n-1?n-1:t+1}},diagonalUpBack:function(e,t,n){return{x:n-1,y:e>=n-1?t+1:t}}},i=function(e,t){var n,r,i,s=[];for(n=0;n<t.height;n++)for(s.push([]),r=0;r<t.width;r++)s[n].push("");for(n=0,i=e.length;n<i;n++)if(!o(s,t,e[n]))return null;return s},o=function(e,n,r){var i=s(e,n,r);if(0===i.length)return!1;var o=i[Math.floor(Math.random()*i.length)];return l(e,r,o.x,o.y,t[o.orientation]),!0},s=function(e,i,o){for(var s=[],l=i.height,c=i.width,h=o.length,f=0,d=0,p=i.orientations.length;d<p;d++)for(var m=i.orientations[d],g=n[m],v=t[m],y=r[m],_=0,b=0;b<l;)if(g(_,b,l,c,h)){var w=a(o,e,_,b,v);(w>=f||!i.preferOverlap&&w>-1)&&(f=w,s.push({x:_,y:b,orientation:m,overlap:w})),_++,_>=c&&(_=0,b++)}else{var S=y(_,b,h);_=S.x,b=S.y}return i.preferOverlap?u(s,f):s},a=function(e,t,n,r,i){for(var o=0,s=0,a=e.length;s<a;s++){var u=i(n,r,s),l=t[u.y][u.x];if(l===e[s])o++;else if(""!==l)return-1}return o},u=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)e[r].overlap>=t&&n.push(e[r]);return n},l=function(e,t,n,r,i){for(var o=0,s=t.length;o<s;o++){var a=i(n,r,o);e[a.y][a.x]=t[o]}};return{validOrientations:e,orientations:t,newPuzzle:function(t,n){var r,o,s=0,a=n||{};r=t.slice(0).sort(function(e,t){return e.length<t.length?1:0});for(var u={height:a.height||r[0].length,width:a.width||r[0].length,orientations:a.orientations||e,fillBlanks:void 0===a.fillBlanks||a.fillBlanks,maxAttempts:a.maxAttempts||3,preferOverlap:void 0===a.preferOverlap||a.preferOverlap};!o;){for(;!o&&s++<u.maxAttempts;)o=i(r,u);o||(u.height++,u.width++,s=0)}return u.fillBlanks&&this.fillBlanks(o,u),o},fillBlanks:function(e){for(var t=e.reduce(function(e,t){return e.concat(t)},[]).filter(function(e,t,n){return n.indexOf(e)===t}).join(""),n=0,r=e.length;n<r;n++)for(var i=e[n],o=0,s=i.length;o<s;o++)if(!e[n][o]){var a=Math.floor(Math.random()*t.length);e[n][o]=t[a]}},solve:function(t,n){for(var r={height:t.length,width:t[0].length,orientations:e,preferOverlap:!0},i=[],o=[],a=0,u=n.length;a<u;a++){var l=n[a],c=s(t,r,l);c.length>0&&c[0].overlap===l.length?(c[0].word=l,i.push(c[0])):o.push(l)}return{found:i,notFound:o}},print:function(e){for(var t="",n=0,r=e.length;n<r;n++){for(var i=e[n],o=0,s=i.length;o<s;o++)t+=(""===i[o]?" ":i[o])+" ";t+="\n"}return console.log(t),t}}},t="undefined"!=typeof exports&&null!==exports?exports:window;t.wordfind=e()}.call(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.jade=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(r).join(" ")}function o(e){return a[e]||e}function s(e){var t=String(e).replace(u,o);return t===""+e?e:t}n.merge=function l(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=l(n,e[i]);return n}var o=e["class"],s=t["class"];(o||s)&&(o=o||[],s=s||[],Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]),e["class"]=o.concat(s).filter(r));for(var a in t)"class"!=a&&(e[a]=t[a]);return e},n.joinClasses=i,n.cls=function(e,t){for(var r=[],o=0;o<e.length;o++)t&&t[o]?r.push(n.escape(i([e[o]]))):r.push(i(e[o]));var s=i(r);return s.length?' class="'+s+'"':""},n.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},n.attr=function(e,t,r,i){return"style"===e&&(t=n.style(t)),"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(JSON.stringify(t).indexOf("&")!==-1&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):r?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},n.attrs=function(e,t){var r=[],o=Object.keys(e);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],u=e[a];"class"==a?(u=i(u))&&r.push(" "+a+'="'+u+'"'):r.push(n.attr(a,u,!1,t))}return r.join("")};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},u=/[&<>"]/g;n.escape=s,n.rethrow=function c(t,n,r,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||i))throw t.message+=" on line "+r,t;try{i=i||e("fs").readFileSync(n,"utf8")}catch(o){c(t,null,r)}var s=3,a=i.split("\n"),u=Math.max(r-s,0),l=Math.min(a.length,r+s),s=a.slice(u,l).map(function(e,t){var n=t+u+1;return(n==r?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+r+"\n"+s+"\n\n"+t.message,t},n.DebugItem=function(e,t){this.lineno=e,this.filename=t}},{fs:2}],2:[function(e,t,n){},{}]},{},[1])(1)});